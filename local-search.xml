<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ÂÆûÈ™åÂÆ§ÊúçÂä°Âô®ÈÉ®ÁΩ≤ËÆ∞ÂΩï(GnomeÂç∏ËΩΩÔºåÁΩëÁªúÔºåtmux‰ª•Âèäzsh)</title>
    <link href="/2021/03/14/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2%E8%AE%B0%E5%BD%95/"/>
    <url>/2021/03/14/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h1 id="GnomeÁöÑÂç∏ËΩΩ"><a href="#GnomeÁöÑÂç∏ËΩΩ" class="headerlink" title="GnomeÁöÑÂç∏ËΩΩ"></a>GnomeÁöÑÂç∏ËΩΩ</h1><p>Âõ†‰∏∫ÊúçÂä°Âô®ÁâàÊú¨ubuntuÊó†Ê≥ïÊ≠£Â∏∏‰ΩøÁî®ÁΩëÂç°ËøõË°åËÅîÁΩëÔºåÊïÖÈÄöËøáÂÆâË£ÖÊ°åÈù¢ÁâàubuntuÂÜçÂç∏ËΩΩgnomeÊ°åÈù¢ÁöÑÊñπÂºèÂáèËΩªÊúçÂä°Âô®ÁöÑËøêÁÆóË¥üÊãÖÔºåÊ≠•È™§Â¶Ç‰∏ãÔºö</p><pre><code class="lang-bash">sudo apt-get remove gnome-shell #Âç∏ËΩΩgnome-bashsudo apt-get remove gnome #Âç∏ËΩΩgnomesudo apt-get autoremove #Âç∏ËΩΩ‰æùËµñÂÖ≥Á≥ªsudo apt-get purge gnome #Âç∏ËΩΩgnomeÈÖçÁΩÆÊñá‰ª∂sudo apt-get autocleansudo apt-get clean #Âç∏ËΩΩÁºìÂ≠òÂåÖ</code></pre><p>‰πãÂêéÈáçÂêØÂç≥ÂèØÁîüÊïàÔºåÈáçÂêØÂêéÁîµËÑëËøõÂÖ•<code>putty</code>ÂëΩ‰ª§Ë°åÊ®°ÂºèÔºå‰∏éserver‰∏ÄËá¥„ÄÇ</p><h1 id="NetworkÈÖçÁΩÆ"><a href="#NetworkÈÖçÁΩÆ" class="headerlink" title="NetworkÈÖçÁΩÆ"></a>NetworkÈÖçÁΩÆ</h1><p>Âú®Âç∏ËΩΩgnomeÊàñÈáçË£ÖÁ≥ªÁªüÂêéÈúÄË¶ÅËÆæÁΩÆÈùôÊÄÅipÂú∞ÂùÄÔºåËÆæÁΩÆ‰Ωç‰∫é<code>/etc/network/interfaces</code>ÔºåÈÖçÁΩÆÂ¶Ç‰∏ãÔºö</p><pre><code>auto eth0iface eth0 inet static        address xxx.xxx.xxx.xxx        netmask xxx.xxx.xxx.xxx        gateway xxx.xxx.xxx.xxxdns-nameservers 223.5.5.5 # aliyun DNS</code></pre><p>ÈÄöËøá<code>ifup eth0</code>ÊàñËÄÖ<code>ifdown eth0</code>ÂèØ‰ª•ÂêØÁî®ÊàñËÄÖÁ¶ÅÁî®ÁΩëÂè£<code>eth0</code>„ÄÇ</p><h1 id="tmuxÈÖçÁΩÆ"><a href="#tmuxÈÖçÁΩÆ" class="headerlink" title="tmuxÈÖçÁΩÆ"></a>tmuxÈÖçÁΩÆ</h1><p>‰øùÂ≠ò.tmux.confÊñá‰ª∂ÔºåÂπ∂Âú®<code>tmux</code>ÁöÑÂëΩ‰ª§Ë°å‰∏ãËøõË°åÈÖçÁΩÆÔºåÂç≥ËøõÂÖ•tmuxÂêéÊåâ‰∏ã<code>ctrl</code> + <code>b</code> + <code>:</code>ÂêéËæìÂÖ•<code>source .tmux.conf</code>„ÄÇ<br><code>.tmux.conf</code>ÈÖçÁΩÆÂ¶Ç‰∏ãÔºö</p><pre><code># cat &lt;&lt; EOF &gt; /dev/null# https://github.com/gpakosz/.tmux# (‚Äë‚óè‚Äë‚óè)&gt; dual licensed under the WTFPL v2 license and the MIT license,#         without any warranty.#         Copyright 2012‚Äî Gregory Pakosz (@gpakosz).# /!\ do not edit this file#     instead, override settings in ~/.tmux.conf.local, see README.mdset-option -g default-shell /bin/zshset-option -g mouse onbind-key C-Tab next-windowbind-key C-S-Tab previous-window# -- general -------------------------------------------------------------------set -g default-terminal &quot;screen-256color&quot; # colors!setw -g xterm-keys onset -s escape-time 10                     # faster command sequencesset -sg repeat-time 10                   # increase repeat timeoutset -s focus-events onset -g prefix2 C-j                        # GNU-Screen compatible prefixbind C-j send-prefix -2set -q -g status-utf8 on                  # expect UTF-8 (tmux &lt; 2.2)setw -q -g utf8 onset -g history-limit 5000                 # boost historysetw -g mode-keys vi                      # vi model# edit configurationbind e new-window -n &quot;~/.tmux.conf.local&quot; &quot;sh -c &#39;\${EDITOR:-vim} ~/.tmux.conf.local &amp;&amp; tmux source ~/.tmux.conf &amp;&amp; tmux display \&quot;~/.tmux.conf sourced\&quot;&#39;&quot;# reload configurationbind r source-file ~/.tmux.conf \; display &#39;~/.tmux.conf sourced&#39;# -- display -------------------------------------------------------------------set -g base-index 1           # start windows numbering at 1setw -g pane-base-index 1     # make pane numbering consistent with windowssetw -g automatic-rename on   # rename window to reflect current programset -g renumber-windows on    # renumber windows when a window is closedset -g set-titles on          # set terminal titleset -g display-panes-time 800 # slightly longer pane indicators display timeset -g display-time 1000      # slightly longer status messages display timeset -g status-interval 10     # redraw status line every 10 seconds# clear both screen and historybind -n C-l send-keys C-l \; run &#39;sleep 0.1&#39; \; clear-history# activityset -g monitor-activity onset -g visual-activity off# -- navigation ----------------------------------------------------------------# create sessionbind C-c new-session# find sessionbind C-f command-prompt -p find-session &#39;switch-client -t %%&#39;# split current window horizontallybind - split-window -v# split current window verticallybind _ split-window -h# pane navigationbind -r h select-pane -L  # move leftbind -r j select-pane -D  # move downbind -r k select-pane -U  # move upbind -r l select-pane -R  # move rightbind &gt; swap-pane -D       # swap current pane with the next onebind &lt; swap-pane -U       # swap current pane with the previous one# maximize current panebind + run &#39;cut -c3- ~/.tmux.conf | sh -s _maximize_pane &quot;#{session_name}&quot; #D&#39;# pane resizingbind -r H resize-pane -L 2bind -r J resize-pane -D 2bind -r K resize-pane -U 2bind -r L resize-pane -R 2# window navigationunbind nunbind pbind -r C-h previous-window # select previous windowbind -r C-l next-window     # select next windowbind Tab last-window        # move to last active window# toggle mousebind m run &quot;cut -c3- ~/.tmux.conf | sh -s _toggle_mouse&quot;# -- urlview -------------------------------------------------------------------bind U run &quot;cut -c3- ~/.tmux.conf | sh -s _urlview #{pane_id}&quot;# -- facebook pathpicker -------------------------------------------------------bind F run &quot;cut -c3- ~/.tmux.conf | sh -s _fpp #{pane_id}&quot;# -- list choice (tmux &lt; 2.4) --------------------------------------------------# vi-choice is gone in tmux &gt;= 2.4run -b &#39;tmux bind -t vi-choice h tree-collapse 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -t vi-choice l tree-expand 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -t vi-choice K start-of-list 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -t vi-choice J end-of-list 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -t vi-choice H tree-collapse-all 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -t vi-choice L tree-expand-all 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -t vi-choice Escape cancel 2&gt; /dev/null || true&#39;# -- edit mode (tmux &lt; 2.4) ----------------------------------------------------# vi-edit is gone in tmux &gt;= 2.4run -b &#39;tmux bind -ct vi-edit H start-of-line 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -ct vi-edit L end-of-line 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -ct vi-edit q cancel 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -ct vi-edit Escape cancel 2&gt; /dev/null || true&#39;# -- copy mode -----------------------------------------------------------------bind Enter copy-mode # enter copy moderun -b &#39;tmux bind -t vi-copy v begin-selection 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -T copy-mode-vi v send -X begin-selection 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -t vi-copy C-v rectangle-toggle 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -T copy-mode-vi C-v send -X rectangle-toggle 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -t vi-copy y copy-selection 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -T copy-mode-vi y send -X copy-selection-and-cancel 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -t vi-copy Escape cancel 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -T copy-mode-vi Escape send -X cancel 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -t vi-copy H start-of-line 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -T copy-mode-vi H send -X start-of-line 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -t vi-copy L end-of-line 2&gt; /dev/null || true&#39;run -b &#39;tmux bind -T copy-mode-vi L send -X end-of-line 2&gt; /dev/null || true&#39;# copy to macOS clipboardif -b &#39;command -v pbcopy &gt; /dev/null 2&gt;&amp;1&#39; &#39;bind y run -b &quot;tmux save-buffer - | pbcopy&quot;&#39;if -b &#39;command -v reattach-to-user-namespace &gt; /dev/null 2&gt;&amp;1&#39; &#39;bind y run -b &quot;tmux save-buffer - | reattach-to-user-namespace pbcopy&quot;&#39;# copy to X11 clipboardif -b &#39;command -v xsel &gt; /dev/null 2&gt;&amp;1&#39; &#39;bind y run -b &quot;tmux save-buffer - | xsel -i -b&quot;&#39;if -b &#39;! command -v xsel &gt; /dev/null 2&gt;&amp;1 &amp;&amp; command -v xclip &gt; /dev/null 2&gt;&amp;1&#39; &#39;bind y run -b &quot;tmux save-buffer - | xclip -i -selection clipboard &gt;/dev/null 2&gt;&amp;1&quot;&#39;# copy to Windows clipboardif -b &#39;command -v clip.exe &gt; /dev/null 2&gt;&amp;1&#39; &#39;bind y run -b &quot;tmux save-buffer - | clip.exe&quot;&#39;if -b &#39;[ -c /dev/clipboard ]&#39; &#39;bind y run -b &quot;tmux save-buffer - &gt; /dev/clipboard&quot;&#39;# -- buffers -------------------------------------------------------------------bind b list-buffers  # list paste buffersbind p paste-buffer  # paste from the top paste bufferbind P choose-buffer # choose which buffer to paste from# -- user defined overrides ----------------------------------------------------if &#39;[ -f ~/.tmux.conf.local ]&#39; &#39;source ~/.tmux.conf.local&#39;# -- 8&lt; ------------------------------------------------------------------------run &#39;cut -c3- ~/.tmux.conf | sh -s _apply_configuration&#39;run -b &#39;[ -z &quot;#{window_active}&quot; ] &amp;&amp; [ -z &quot;#{version}&quot; ] &amp;&amp; tmux set display-time 3000 \; display &quot;This configuration will soon require tmux &gt;= 2.4&quot; \; set -u display-time || true&#39;# EOF## # exit the script if any statement returns a non-true return value# set -e## unset GREP_OPTIONS# export LC_NUMERIC=C## if ! printf &#39;&#39; | sed -E &#39;s///&#39; 2&gt;/dev/null; then#   if printf &#39;&#39; | sed -r &#39;s///&#39; 2&gt;/dev/null; then#     sed () {#       n=$#; while [ &quot;$n&quot; -gt 0 ]; do arg=$1; shift; case $arg in -E*) arg=-r${arg#-E};; esac; set -- &quot;$@&quot; &quot;$arg&quot;; n=$(( n - 1 )); done#       command sed &quot;$@&quot;#     }#   fi# fi## __newline=&#39;# &#39;## _is_enabled() {#   ( ([ x&quot;$1&quot; = x&quot;enabled&quot; ] || [ x&quot;$1&quot; = x&quot;true&quot; ] || [ x&quot;$1&quot; = x&quot;yes&quot; ] || [ x&quot;$1&quot; = x&quot;1&quot; ]) &amp;&amp; return 0 ) || return 1# }## _circled() {#   circled_digits=&#39;‚ì™ ‚ë† ‚ë° ‚ë¢ ‚ë£ ‚ë§ ‚ë• ‚ë¶ ‚ëß ‚ë® ‚ë© ‚ë™ ‚ë´ ‚ë¨ ‚ë≠ ‚ëÆ ‚ëØ ‚ë∞ ‚ë± ‚ë≤ ‚ë≥&#39;#   if [ &quot;$1&quot; -le 20 ] 2&gt;/dev/null; then#     i=$(( $1 + 1 ))#     eval set -- &quot;$circled_digits&quot;#     eval echo &quot;\${$i}&quot;#   else#     echo &quot;$1&quot;#   fi# }## _decode_unicode_escapes() {#   printf &#39;%s&#39; &quot;$*&quot; | perl -CS -pe &#39;s/(\\u([0-9A-Fa-f]{1,4})|\\U([0-9A-Fa-f]{1,8}))/chr(hex($2.$3))/eg&#39; 2&gt;/dev/null# }## _maximize_pane() {#   current_session=${1:-$(tmux display -p &#39;#{session_name}&#39;)}#   current_pane=${2:-$(tmux display -p &#39;#{pane_id}&#39;)}##   dead_panes=$(tmux list-panes -s -t &quot;$current_session&quot; -F &#39;#{pane_dead} #{pane_id} #{pane_start_command}&#39; | grep -E -o &#39;^1 %.+maximized.+$&#39; || true)#   restore=$(echo &quot;$dead_panes&quot; | sed -n -E -e &quot;s/^1 $current_pane .+maximized.+&#39;(%[0-9]+)&#39;$/tmux swap-pane -s \1 -t $current_pane \; kill-pane -t $current_pane/p&quot; -e &quot;s/^1 (%[0-9]+) .+maximized.+&#39;$current_pane&#39;$/tmux swap-pane -s \1 -t $current_pane \; kill-pane -t \1/p&quot; )##   if [ -z &quot;$restore&quot; ]; then#     [ &quot;$(tmux list-panes -t &quot;$current_session:&quot; | wc -l | sed &#39;s/^ *//g&#39;)&quot; -eq 1 ] &amp;&amp; tmux display &quot;Can&#39;t maximize with only one pane&quot; &amp;&amp; return#     window=$(tmux new-window -t &quot;$current_session:&quot; -P &quot;exec maximized... 2&gt; /dev/null &amp; tmux setw -t \&quot;$current_session:\&quot; remain-on-exit on; printf \&quot;Pane has been maximized, press &lt;prefix&gt;+ to restore. %s\&quot; &#39;$current_pane&#39;&quot;)#     window=${window%.*}##     retry=1000#     while [ x&quot;$(tmux list-panes -t &quot;$window&quot; -F &#39;#{session_name}:#{window_index} #{pane_dead}&#39; 2&gt;/dev/null)&quot; != x&quot;$window 1&quot; ] &amp;&amp; [ &quot;$retry&quot; -ne 0 ]; do#       sleep 0.1#       retry=$((retry - 1))#     done#     if [ &quot;$retry&quot; -eq 0 ]; then#       tmux display &#39;Unable to maximize pane&#39;#     fi##     new_pane=$(tmux display -t &quot;$window&quot; -p &#39;#{pane_id}&#39;)#     tmux setw -t &quot;$window&quot; remain-on-exit off \; swap-pane -s &quot;$current_pane&quot; -t &quot;$new_pane&quot;#   else#     $restore || tmux kill-pane#   fi# }## _toggle_mouse() {#   old=$(tmux show -gv mouse)#   new=&quot;&quot;##   if [ &quot;$old&quot; = &quot;on&quot; ]; then#     new=&quot;off&quot;#   else#     new=&quot;on&quot;#   fi##   tmux set -g mouse $new \;\#        display &quot;mouse: $new&quot;# }## _battery() {#   count=0#   charge=0#   uname_s=$(uname -s)#   case &quot;$uname_s&quot; in#     *Darwin*)#       while IFS= read -r line; do#         if [ x&quot;$discharging&quot; != x&quot;true&quot; ]; then#           discharging=$(printf &#39;%s&#39; &quot;$line&quot; | grep -qi &quot;discharging&quot; &amp;&amp; echo &quot;true&quot; || echo &quot;false&quot;)#         fi#         percentage=$(printf &#39;%s&#39; &quot;$line&quot; | grep -E -o &#39;[0-9]+%&#39;)#         charge=$(awk -v charge=&quot;$charge&quot; -v percentage=&quot;${percentage%%%}&quot; &#39;BEGIN { print charge + percentage / 100 }&#39;)#         count=$((count + 1))#       done  &lt;&lt; EOF# $(pmset -g batt | grep &#39;InternalBattery&#39;)# EOF#       ;;#     *Linux*)#       while IFS= read -r batpath; do#         grep -i -q device &quot;$batpath/scope&quot; 2&gt; /dev/null &amp;&amp; continue##         if [ x&quot;$discharging&quot; != x&quot;true&quot; ]; then#           discharging=$(grep -qi &quot;discharging&quot; &quot;$batpath/status&quot; &amp;&amp; echo &quot;true&quot; || echo &quot;false&quot;)#         fi#         bat_capacity=&quot;$batpath/capacity&quot;#         if [ -r &quot;$bat_capacity&quot; ]; then#           charge=$(awk -v charge=&quot;$charge&quot; -v capacity=&quot;$(cat &quot;$bat_capacity&quot;)&quot; &#39;BEGIN { print charge + capacity / 100 }&#39;)#         else#           bat_energy_full=&quot;$batpath/energy_full&quot;#           bat_energy_now=&quot;$batpath/energy_now&quot;#           if [ -r &quot;$bat_energy_full&quot; ] &amp;&amp; [ -r &quot;$bat_energy_now&quot; ]; then#             charge=$(awk -v charge=&quot;$charge&quot; -v energy_now=&quot;$(cat &quot;$bat_energy_now&quot;)&quot; -v energy_full=&quot;$(cat &quot;$bat_energy_full&quot;)&quot; &#39;BEGIN { print charge + energy_now / energy_full }&#39;)#           fi#         fi#         count=$((count + 1))#       done  &lt;&lt; EOF# $(find /sys/class/power_supply -maxdepth 1 -iname &#39;*bat*&#39;)# EOF#       ;;#     *CYGWIN*|*MSYS*|*MINGW*)#       while IFS= read -r line; do#         [ -z &quot;$line&quot; ] &amp;&amp; continue#         if [ x&quot;$discharging&quot; != x&quot;true&quot; ]; then#           discharging=$(printf &#39;%s&#39; &quot;$line&quot; | awk &#39;{ s = ($1 == 1) ? &quot;true&quot; : &quot;false&quot;; print s }&#39;)#         fi#         charge=$(printf &#39;%s&#39; &quot;$line&quot; | awk -v charge=&quot;$charge&quot; &#39;{ print charge + $2 / 100 }&#39;)#         count=$((count + 1))#       done  &lt;&lt; EOF# $(wmic path Win32_Battery get BatteryStatus, EstimatedChargeRemaining | tr -d &#39;\r&#39; | tail -n +2)# EOF#       ;;#     *OpenBSD*)#       for batid in 0 1 2; do#         sysctl -n &quot;hw.sensors.acpibat$batid.raw0&quot; 2&gt;&amp;1 | grep -q &#39;not found&#39; &amp;&amp; continue#         if [ x&quot;$discharging&quot; != x&quot;true&quot; ]; then#           discharging=$(sysctl -n &quot;hw.sensors.acpibat$batid.raw0&quot; | grep -q 1 &amp;&amp; echo &quot;true&quot; || echo &quot;false&quot;)#         fi#         if sysctl -n &quot;hw.sensors.acpibat$batid&quot; | grep -q amphour; then#           charge=$(awk -v charge=&quot;$charge&quot; -v remaining=&quot;$(sysctl -n hw.sensors.acpibat$batid.amphour3 | cut -d&#39; &#39; -f1)&quot; -v full=&quot;$(sysctl -n hw.sensors.acpibat$batid.amphour0 | cut -d&#39; &#39; -f1)&quot; &#39;BEGIN { print charge + remaining / full }&#39;)#         else#           charge=$(awk -v charge=&quot;$charge&quot; -v remaining=&quot;$(sysctl -n hw.sensors.acpibat$batid.watthour3 | cut -d&#39; &#39; -f1)&quot; -v full=&quot;$(sysctl -n hw.sensors.acpibat$batid.watthour0 | cut -d&#39; &#39; -f1)&quot; &#39;BEGIN { print charge + remaining / full }&#39;)#         fi#         count=$((count + 1))#       done#       ;;#   esac#   [ &quot;$count&quot; -ne 0 ] &amp;&amp; charge=$(awk -v charge=&quot;$charge&quot; -v count=&quot;$count&quot; &#39;BEGIN { print charge / count }&#39;)#   if [ &quot;$charge&quot; -eq 0 ]; then#     tmux  set -ug &#39;@battery_status&#39;  \;\#           set -ug &#39;@battery_bar&#39;     \;\#           set -ug &#39;@battery_hbar&#39;    \;\#           set -ug &#39;@battery_vbar&#39;    \;\#           set -ug &#39;@battery_percentage&#39;#     return#   fi##   variables=$(tmux  show -gqv &#39;@battery_bar_symbol_full&#39; \;\#                     show -gqv &#39;@battery_bar_symbol_empty&#39; \;\#                     show -gqv &#39;@battery_bar_length&#39; \;\#                     show -gqv &#39;@battery_bar_palette&#39; \;\#                     show -gqv &#39;@battery_hbar_palette&#39; \;\#                     show -gqv &#39;@battery_vbar_palette&#39; \;\#                     show -gqv &#39;@battery_status_charging&#39; \;\#                     show -gqv &#39;@battery_status_discharging&#39;)#   # shellcheck disable=SC2086#   { set -f; IFS=&quot;$__newline&quot;; set -- $variables; unset IFS; set +f; }##   battery_bar_symbol_full=$1#   battery_bar_symbol_empty=$2#   battery_bar_length=$3#   battery_bar_palette=$4#   battery_hbar_palette=$5#   battery_vbar_palette=$6#   battery_status_charging=$7#   battery_status_discharging=$8##   if [ x&quot;$battery_bar_length&quot; = x&quot;auto&quot; ]; then#     columns=$(tmux -q display -p &#39;#{client_width}&#39; 2&gt; /dev/null || echo 80)#     if [ &quot;$columns&quot; -ge 80 ]; then#       battery_bar_length=10#     else#       battery_bar_length=5#     fi#   fi##   if [ x&quot;$discharging&quot; = x&quot;true&quot; ]; then#     battery_status=&quot;$battery_status_discharging&quot;#   else#     battery_status=&quot;$battery_status_charging&quot;#   fi##   if echo &quot;$battery_bar_palette&quot; | grep -q -E &#39;^heat|gradient(,[#a-z0-9]{7,9})?$&#39;; then#     # shellcheck disable=SC2086#     { set -f; IFS=,; set -- $battery_bar_palette; unset IFS; set +f; }#     palette_style=$1#     battery_bg=${2:-none}#     [ x&quot;$palette_style&quot; = x&quot;gradient&quot; ] &amp;&amp; \#       palette=&quot;196 202 208 214 220 226 190 154 118 82 46&quot;#     [ x&quot;$palette_style&quot; = x&quot;heat&quot; ] &amp;&amp; \#       palette=&quot;243 245 247 144 143 142 184 214 208 202 196&quot;##     palette=$(echo &quot;$palette&quot; | awk -v n=&quot;$battery_bar_length&quot; &#39;{ for (i = 0; i &lt; n; ++i) printf $(1 + (i * NF / n))&quot; &quot; }&#39;)#     eval set -- &quot;$palette&quot;##     full=$(awk &quot;BEGIN { printf \&quot;%.0f\&quot;, ($charge) * $battery_bar_length }&quot;)#     battery_bar=&quot;#[bg=$battery_bg]&quot;#     # shellcheck disable=SC2046#     [ &quot;$full&quot; -gt 0 ] &amp;&amp; \#       battery_bar=&quot;$battery_bar$(printf &quot;#[fg=colour%s]$battery_bar_symbol_full&quot; $(echo &quot;$palette&quot; | cut -d&#39; &#39; -f1-&quot;$full&quot;))&quot;#     # shellcheck disable=SC2046#     empty=$((battery_bar_length - full))#     # shellcheck disable=SC2046#     [ &quot;$empty&quot; -gt 0 ] &amp;&amp; \#       battery_bar=&quot;$battery_bar$(printf &quot;#[fg=colour%s]$battery_bar_symbol_empty&quot; $(echo &quot;$palette&quot; | cut -d&#39; &#39; -f$((full + 1))-$((full + empty))))&quot;#       eval battery_bar=&quot;$battery_bar#[fg=colour\${$((full == 0 ? 1 : full))}]&quot;#   elif echo &quot;$battery_bar_palette&quot; | grep -q -E &#39;^(([#a-z0-9]{7,9}|none),?){3}$&#39;; then#     # shellcheck disable=SC2086#     { set -f; IFS=,; set -- $battery_bar_palette; unset IFS; set +f; }#     battery_full_fg=$1#     battery_empty_fg=$2#     battery_bg=$3##     full=$(awk &quot;BEGIN { printf \&quot;%.0f\&quot;, ($charge) * $battery_bar_length }&quot;)#     [ x&quot;$battery_bg&quot; != x&quot;none&quot; ] &amp;&amp; \#       battery_bar=&quot;#[bg=$battery_bg]&quot;#     #shellcheck disable=SC2046#     [ &quot;$full&quot; -gt 0 ] &amp;&amp; \#       battery_bar=&quot;$battery_bar#[fg=$battery_full_fg]$(printf &quot;%0.s$battery_bar_symbol_full&quot; $(seq 1 &quot;$full&quot;))&quot;#     empty=$((battery_bar_length - full))#     #shellcheck disable=SC2046#     [ &quot;$empty&quot; -gt 0 ] &amp;&amp; \#       battery_bar=&quot;$battery_bar#[fg=$battery_empty_fg]$(printf &quot;%0.s$battery_bar_symbol_empty&quot; $(seq 1 &quot;$empty&quot;))&quot; &amp;&amp; \#       battery_bar=&quot;$battery_bar#[fg=$battery_empty_fg]&quot;#   fi##   if echo &quot;$battery_hbar_palette&quot; | grep -q -E &#39;^heat|gradient(,[#a-z0-9]{7,9})?$&#39;; then#     # shellcheck disable=SC2086#     { set -f; IFS=,; set -- $battery_hbar_palette; unset IFS; set +f; }#     palette_style=$1#     [ x&quot;$palette_style&quot; = x&quot;gradient&quot; ] &amp;&amp; \#       palette=&quot;196 202 208 214 220 226 190 154 118 82 46&quot;#     [ x&quot;$palette_style&quot; = x&quot;heat&quot; ] &amp;&amp; \#       palette=&quot;233 234 235 237 239 241 243 245 247 144 143 142 184 214 208 202 196&quot;##     palette=$(echo &quot;$palette&quot; | awk -v n=&quot;$battery_bar_length&quot; &#39;{ for (i = 0; i &lt; n; ++i) printf $(1 + (i * NF / n))&quot; &quot; }&#39;)#     eval set -- &quot;$palette&quot;##     full=$(awk &quot;BEGIN { printf \&quot;%.0f\&quot;, ($charge) * $battery_bar_length }&quot;)#     eval battery_hbar_fg=&quot;colour\${$((full == 0 ? 1 : full))}&quot;#   elif echo &quot;$battery_hbar_palette&quot; | grep -q -E &#39;^([#a-z0-9]{7,9},?){3}$&#39;; then#     # shellcheck disable=SC2086#     { set -f; IFS=,; set -- $battery_hbar_palette; unset IFS; set +f; }##     # shellcheck disable=SC2046#     eval $(awk &quot;BEGIN { printf \&quot;battery_hbar_fg=$%d\&quot;, (($charge) - 0.001) * $# + 1 }&quot;)#   fi##   eval set -- &quot;‚ñè ‚ñé ‚ñç ‚ñå ‚ñã ‚ñä ‚ñâ ‚ñà&quot;#   # shellcheck disable=SC2046#   eval $(awk &quot;BEGIN { printf \&quot;battery_hbar_symbol=$%d\&quot;, ($charge) * ($# - 1) + 1 }&quot;)#   battery_hbar=&quot;#[fg=${battery_hbar_fg?}]${battery_hbar_symbol?}&quot;##   if echo &quot;$battery_vbar_palette&quot; | grep -q -E &#39;^heat|gradient(,[#a-z0-9]{7,9})?$&#39;; then#     # shellcheck disable=SC2086#     { set -f; IFS=,; set -- $battery_vbar_palette; unset IFS; set +f; }#     palette_style=$1#     [ x&quot;$palette_style&quot; = x&quot;gradient&quot; ] &amp;&amp; \#       palette=&quot;196 202 208 214 220 226 190 154 118 82 46&quot;#     [ x&quot;$palette_style&quot; = x&quot;heat&quot; ] &amp;&amp; \#       palette=&quot;233 234 235 237 239 241 243 245 247 144 143 142 184 214 208 202 196&quot;##     palette=$(echo &quot;$palette&quot; | awk -v n=&quot;$battery_bar_length&quot; &#39;{ for (i = 0; i &lt; n; ++i) printf $(1 + (i * NF / n))&quot; &quot; }&#39;)#     eval set -- &quot;$palette&quot;##     full=$(awk &quot;BEGIN { printf \&quot;%.0f\&quot;, ($charge) * $battery_bar_length }&quot;)#     eval battery_vbar_fg=&quot;colour\${$((full == 0 ? 1 : full))}&quot;#   elif echo &quot;$battery_vbar_palette&quot; | grep -q -E &#39;^([#a-z0-9]{7,9},?){3}$&#39;; then#     # shellcheck disable=SC2086#     { set -f; IFS=,; set -- $battery_vbar_palette; unset IFS; set +f; }##     # shellcheck disable=SC2046#     eval $(awk &quot;BEGIN { printf \&quot;battery_vbar_fg=$%d\&quot;, (($charge) - 0.001) * $# + 1 }&quot;)#   fi##   eval set -- &quot;‚ñÅ ‚ñÇ ‚ñÉ ‚ñÑ ‚ñÖ ‚ñÜ ‚ñá ‚ñà&quot;#   # shellcheck disable=SC2046#   eval $(awk &quot;BEGIN { printf \&quot;battery_vbar_symbol=$%d\&quot;, ($charge) * ($# - 1) + 1 }&quot;)#   battery_vbar=&quot;#[fg=${battery_vbar_fg?}]${battery_vbar_symbol?}&quot;##   battery_percentage=&quot;$(awk &quot;BEGIN { printf \&quot;%.0f%%\&quot;, ($charge) * 100 }&quot;)&quot;##   tmux  set -g &#39;@battery_status&#39; &quot;$battery_status&quot; \;\#         set -g &#39;@battery_bar&#39; &quot;$battery_bar&quot; \;\#         set -g &#39;@battery_hbar&#39; &quot;$battery_hbar&quot; \;\#         set -g &#39;@battery_vbar&#39; &quot;$battery_vbar&quot; \;\#         set -g &#39;@battery_percentage&#39; &quot;$battery_percentage&quot;# }## _tty_info() {#   tty=&quot;${1##/dev/}&quot;#   uname -s | grep -q &quot;CYGWIN&quot; &amp;&amp; cygwin=true##   if [ x&quot;$cygwin&quot; = x&quot;true&quot; ]; then#     ps -af | tail -n +2 | awk -v tty=&quot;$tty&quot; &#39;#       ((/ssh/ &amp;&amp; !/-W/) || !/ssh/) &amp;&amp; $4 == tty {#         user[$2] = $1; parent[$2] = $3; child[$3] = $2#       }#       END {#         for (i in parent)#         {#           j = i#           while (parent[j])#             j = parent[j]##           if (!(i in child) &amp;&amp; j != 1)#           {#             file = &quot;/proc/&quot; i &quot;/cmdline&quot;; getline command &lt; file; close(file)#             gsub(/\0/, &quot; &quot;, command)#             print i, user[i], command#             exit#           }#         }#       }#     &#39;#   else#     ps -t &quot;$tty&quot; -o user=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX -o pid= -o ppid= -o command= | awk &#39;#       NR &gt; 1 &amp;&amp; ((/ssh/ &amp;&amp; !/-W/) || !/ssh/) {#         user[$2] = $1; parent[$2] = $3; child[$3] = $2; for (i = 4 ; i &lt;= NF; ++i) command[$2] = i &gt; 4 ? command[$2] FS $i : $i#       }#       END {#         for (i in parent)#         {#           j = i#           while (parent[j])#             j = parent[j]##           if (!(i in child) &amp;&amp; j != 1)#           {#             print i, user[i], command[i]#             exit#           }#         }#       }#     &#39;#   fi# }## _ssh_or_mosh_args() {#   args=$(printf &#39;%s&#39; &quot;$1&quot; | awk &#39;/ssh/ &amp;&amp; !/vagrant ssh/ &amp;&amp; !/autossh/ &amp;&amp; !/-W/ { $1=&quot;&quot;; print $0; exit }&#39;)#   if [ -z &quot;$args&quot; ]; then#     args=$(printf &#39;%s&#39; &quot;$1&quot; | grep &#39;mosh-client&#39; | sed -E -e &#39;s/.*mosh-client -# (.*)\|.*$/\1/&#39; -e &#39;s/-[^ ]*//g&#39; -e &#39;s/\d:\d//g&#39;)#   fi##  printf &#39;%s&#39; &quot;$args&quot;# }## _username() {#   tty=${1:-$(tmux display -p &#39;#{pane_tty}&#39;)}#   ssh_only=$2##   tty_info=$(_tty_info &quot;$tty&quot;)#   command=$(printf &#39;%s&#39; &quot;$tty_info&quot; | cut -d&#39; &#39; -f3-)##   ssh_or_mosh_args=$(_ssh_or_mosh_args &quot;$command&quot;)#   if [ -n &quot;$ssh_or_mosh_args&quot; ]; then#     # shellcheck disable=SC2086#     username=$(ssh -G $ssh_or_mosh_args 2&gt;/dev/null | awk &#39;NR &gt; 2 { exit } ; /^user / { print $2 }&#39;)#     # shellcheck disable=SC2086#     [ -z &quot;$username&quot; ] &amp;&amp; username=$(ssh -T -o ControlPath=none -o ProxyCommand=&quot;sh -c &#39;echo %%username%% %r &gt;&amp;2&#39;&quot; $ssh_or_mosh_args 2&gt;&amp;1 | awk &#39;/^%username% / { print $2; exit }&#39;)#   else#     if ! _is_enabled &quot;$ssh_only&quot;; then#       username=$(printf &#39;%s&#39; &quot;$tty_info&quot; | cut -d&#39; &#39; -f2)#     fi#   fi##   printf &#39;%s&#39; &quot;$username&quot;# }## _hostname() {#   tty=${1:-$(tmux display -p &#39;#{pane_tty}&#39;)}#   ssh_only=$2##   tty_info=$(_tty_info &quot;$tty&quot;)#   command=$(printf &#39;%s&#39; &quot;$tty_info&quot; | cut -d&#39; &#39; -f3-)##   ssh_or_mosh_args=$(_ssh_or_mosh_args &quot;$command&quot;)#   if [ -n &quot;$ssh_or_mosh_args&quot; ]; then#     # shellcheck disable=SC2086#     hostname=$(ssh -G $ssh_or_mosh_args 2&gt;/dev/null | awk &#39;NR &gt; 2 { exit } ; /^hostname / { print $2 }&#39;)#     # shellcheck disable=SC2086#     [ -z &quot;$hostname&quot; ] &amp;&amp; hostname=$(ssh -T -o ControlPath=none -o ProxyCommand=&quot;sh -c &#39;echo %%hostname%% %h &gt;&amp;2&#39;&quot; $ssh_or_mosh_args 2&gt;&amp;1 | awk &#39;/^%hostname% / { print $2; exit }&#39;)#     #shellcheck disable=SC1004#     hostname=$(echo &quot;$hostname&quot; | awk &#39;\#     { \#       if ($1~/^[0-9.:]+$/) \#         print $1; \#       else \#         split($1, a, &quot;.&quot;) ; print a[1] \#     }&#39;)#   else#     if ! _is_enabled &quot;$ssh_only&quot;; then#       hostname=$(command hostname -s)#     fi#   fi##   printf &#39;%s&#39; &quot;$hostname&quot;# }## _root() {#   tty=${1:-$(tmux display -p &#39;#{pane_tty}&#39;)}#   username=$(_username &quot;$tty&quot; false)##   if [ x&quot;$username&quot; = x&quot;root&quot; ]; then#     tmux show -gqv &#39;@root&#39;#   else#     echo &quot;&quot;#   fi# }## _uptime() {#   case $(uname -s) in#     *Darwin*)#       boot=$(sysctl -q -n kern.boottime | awk -F&#39;[ ,:]+&#39; &#39;{ print $4 }&#39;)#       now=$(date +%s)#       ;;#     *Linux*|*CYGWIN*|*MSYS*|*MINGW*)#       boot=0#       now=$(cut -d&#39; &#39; -f1 &lt; /proc/uptime)#       ;;#     *OpenBSD*)#       boot=$(sysctl -n kern.boottime)#       now=$(date +%s)#   esac#   # shellcheck disable=SC1004#   awk -v boot=&quot;$boot&quot; -v now=&quot;$now&quot; &#39;#     BEGIN {#       uptime = now - boot#       y = int(uptime / 31536000)#       dy = int(uptime / 86400) % 365#       d = int(uptime / 86400)#       h = int(uptime / 3600) % 24#       m = int(uptime / 60) % 60#       s = int(uptime) % 60##       system(&quot;tmux  set -g @uptime_y &quot; y + 0 &quot; \\; &quot; \#                    &quot;set -g @uptime_dy &quot; dy + 0 &quot; \\; &quot; \#                    &quot;set -g @uptime_d &quot; d + 0 &quot; \\; &quot; \#                    &quot;set -g @uptime_h &quot; h + 0 &quot; \\; &quot; \#                    &quot;set -g @uptime_m &quot; m + 0 &quot; \\; &quot; \#                    &quot;set -g @uptime_s &quot; s + 0)#     }&#39;# }## _loadavg() {#   case $(uname -s) in#     *Darwin*)#       tmux set -g @loadavg &quot;$(sysctl -q -n vm.loadavg | cut -d&#39; &#39; -f2)&quot;#       ;;#     *Linux*)#       tmux set -g @loadavg &quot;$(cut -d&#39; &#39; -f1 &lt; /proc/loadavg)&quot;#       ;;#     *OpenBSD*)#       tmux set -g @loadavg &quot;$(sysctl -q -n vm.loadavg | cut -d&#39; &#39; -f1)&quot;#       ;;#   esac# }## _split_window() {#   tty=${1:-$(tmux display -p &#39;#{pane_tty}&#39;)}#   shift##   tty_info=$(_tty_info &quot;$tty&quot;)#   command=$(printf &#39;%s&#39; &quot;$tty_info&quot; | cut -d&#39; &#39; -f3-)##   case &quot;$command&quot; in#     *mosh-client*)#       # shellcheck disable=SC2046#        tmux split-window &quot;$@&quot; mosh $(echo &quot;$command&quot; | sed -E -e &#39;s/.*mosh-client -# (.*)\|.*$/\1/&#39;)#      ;;#     *ssh*)#       # shellcheck disable=SC2046#       tmux split-window &quot;$@&quot; $(echo &quot;$command&quot; | sed -e &#39;s/;/\\;/g&#39;)#       ;;#     *)#       tmux split-window &quot;$@&quot;#   esac# }## _apply_overrides() {#   tmux_conf_theme_24b_colour=${tmux_conf_theme_24b_colour:-false}#   if _is_enabled &quot;$tmux_conf_theme_24b_colour&quot;; then#   case &quot;$TERM&quot; in#     screen-*|tmux-*)#       ;;#     *)#       tmux set-option -ga terminal-overrides &quot;,*256col*:Tc&quot;#       ;;#   esac#   fi# }## _apply_bindings() {#   cfg=$(mktemp) &amp;&amp; trap &#39;rm -f $cfg*&#39; EXIT##   tmux list-keys | grep -vF &#39;tmux.conf.local&#39; | grep -E &#39;(new-window|split(-|_)window|new-session|copy-selection|copy-pipe)&#39; &gt; &quot;$cfg&quot;##   # tmux 3.0 doesn&#39;t include 02254d1e5c881be95fd2fc37b4c4209640b6b266 and the#   # output of list-keys can be truncated#   perl -p -i -e &quot;s/&#39;#\{\?window_zoomed_flag,Unzoom,Zoom\}&#39; &#39;z&#39; \{resize-pane -$/&#39;#{?window_zoomed_flag,Unzoom,Zoom}&#39; &#39;z&#39; {resize-pane -Z}\&quot;/g&quot; &quot;$cfg&quot;##   tmux_conf_new_window_retain_current_path=${tmux_conf_new_window_retain_current_path:-false}#   if _is_enabled &quot;$tmux_conf_new_window_retain_current_path&quot;; then#     perl -p -i \#       -e &quot;s/\b(new-window)\b(?!\s+-)/{$&amp;}/g if /\bdisplay-menu\b/&quot; \#       -e &#39;;&#39; \#       -e &quot;s/\bnew-window\b(?!([^;}\n\&quot;]*?)(?:\s+-c\s+(\\\?\&quot;?|&#39;?)#\{pane_current_path\}\2))/new-window -c &#39;#{pane_current_path}&#39;/g&quot; \#       &quot;$cfg&quot;#   else#     perl -p -i -e &quot;s/\bnew-window\b([^;}\n\&quot;]*?)(?:\s+-c\s+(\\\?\&quot;?|&#39;?)#\{pane_current_path\}\2)/new-window\1/g&quot; &quot;$cfg&quot;#   fi##   tmux_conf_new_pane_retain_current_path=${tmux_conf_new_pane_retain_current_path:-false}#   if _is_enabled &quot;$tmux_conf_new_pane_retain_current_path&quot;; then#     perl -p -i -e &quot;s/\bsplit-window\b(?!([^;}\n\&quot;]*?)(?:\s+-c\s+(\\\?\&quot;?|&#39;?)#\{pane_current_path\}\2))/split-window -c &#39;#{pane_current_path}&#39;/g&quot; &quot;$cfg&quot;#   else#     perl -p -i -e &quot;s/\bsplit-window\b([^;}\n\&quot;]*?)(?:\s+-c\s+(\\\?\&quot;?|&#39;?)#\{pane_current_path\}\2)/split-window\1/g&quot; &quot;$cfg&quot;#   fi##   tmux_conf_new_pane_reconnect_ssh=${tmux_conf_new_pane_reconnect_ssh:-false}#   if _is_enabled &quot;$tmux_conf_new_pane_reconnect_ssh&quot;; then#     if _is_enabled &quot;$tmux_conf_new_pane_retain_current_path&quot;; then#       perl -p -i \#         -e &quot;s/\bsplit-window\b([^;}\n\&quot;]*?)(?:\s+-c\s+(\\\?\&quot;?|&#39;?)#\{pane_current_path\}\2)([^;}\n\&quot;]*)/run-shell &#39;cut -c3- ~\/\.tmux\.conf | sh -s _split_window #{pane_tty}\1\3 -c #\{pane_current_path\}&#39;/g&quot; \#         -e &#39;;&#39; \#         -e &quot;s/\b_split_window\b\s+#\{pane_tty\}(.*?)\s+-c\s+\\\\\&quot;#\{pane_current_path\}\\\\\&quot;\&quot;/_split_window #{pane_tty}\1 -c \\\\\&quot;#{pane_current_path}\\\\\&quot;\&quot;/g&quot; \#         &quot;$cfg&quot;#     else#       perl -p -i \#         -e &quot;s/\bsplit-window\b([^;}\n]*)/run-shell &#39;cut -c3- ~\/\.tmux\.conf | sh -s _split_window #{pane_tty}\1&#39;/g&quot; \#         -e &#39;;&#39; \#         -e &quot;s/\b_split_window\b\s+#\{pane_tty\}(.*?)\s+-c\s+\\\\\&quot;#\{pane_current_path\}\\\\\&quot;\&quot;/_split_window #{pane_tty}\1\&quot;/g&quot; \#         &quot;$cfg&quot;#     fi#   else#     if _is_enabled &quot;$tmux_conf_new_pane_retain_current_path&quot;; then#       perl -p -i -e &quot;s/\brun-shell\b(\s+(\&quot;|&#39;)cut\s+-c3-\s+~\/\.tmux\.conf\s+\|\s+sh\s+-s\s+_split_window\s+#\{pane_tty\})(.*?)\s+-c\s+#\{pane_current_path\}\2/split-window\3 -c &#39;#{pane_current_path}&#39;/g&quot; &quot;$cfg&quot;#     else#       perl -p -i -e &quot;s/\brun-shell\b(\s+(\&quot;|&#39;)cut\s+-c3-\s+~\/\.tmux\.conf\s+\|\s+sh\s+-s\s+_split_window\s+#\{pane_tty\})(.*)\2/split-window\3/g&quot; &quot;$cfg&quot;#     fi#   fi##   tmux_conf_new_session_prompt=${tmux_conf_new_session_prompt:-false}#   if _is_enabled &quot;$tmux_conf_new_session_prompt&quot;; then#     perl -p -i \#       -e &quot;s/(?&lt;!command-prompt -p )\b(new-session)\b(?!\s+-)/{$&amp;}/g if /\bdisplay-menu\b/&quot; \#       -e &#39;;&#39; \#       -e &quot;s/(?&lt;!\bcommand-prompt -p )\bnew-session\b(?! -s)/command-prompt -p new-session &#39;new-session -s \&quot;%%\&quot;&#39;/g&quot; \#       &quot;$cfg&quot;#   else#     perl -p -i -e &quot;s/\bcommand-prompt\s+-p\s+new-session\s+&#39;new-session\s+-s\s+\&quot;%%\&quot;&#39;/new-session/g&quot; &quot;$cfg&quot;#   fi##   tmux_conf_copy_to_os_clipboard=${tmux_conf_copy_to_os_clipboard:-false}#   command -v pbcopy &gt; /dev/null 2&gt;&amp;1 &amp;&amp; command=&#39;pbcopy&#39;#   command -v reattach-to-user-namespace &gt; /dev/null 2&gt;&amp;1 &amp;&amp; command=&#39;reattach-to-user-namespace pbcopy&#39;#   command -v xsel &gt; /dev/null 2&gt;&amp;1 &amp;&amp; command=&#39;xsel -i -b&#39;#   ! command -v xsel &gt; /dev/null 2&gt;&amp;1 &amp;&amp; command -v xclip &gt; /dev/null 2&gt;&amp;1 &amp;&amp; command=&#39;xclip -i -selection clipboard &gt; \/dev\/null 2&gt;\&amp;1&#39;#   command -v clip.exe &gt; /dev/null 2&gt;&amp;1 &amp;&amp; command=&#39;clip\.exe&#39;#   [ -c /dev/clipboard ] &amp;&amp; command=&#39;cat &gt; \/dev\/clipboard&#39;##   if [ -n &quot;$command&quot; ]; then#     if _is_enabled &quot;$tmux_conf_copy_to_os_clipboard&quot;; then#       perl -p -i -e &quot;s/\bcopy-selection(-and-cancel)?\b/copy-pipe\1 &#39;$command&#39;/g&quot; &quot;$cfg&quot;#     else#       perl -p -i -e &quot;s/\bcopy-pipe(-and-cancel)?\b\s+(\&quot;|&#39;)?$command\2/copy-selection\1/g&quot; &quot;$cfg&quot;#     fi#   fi##   # until tmux &gt;= 3.0, output of tmux list-keys can&#39;t be consumed back by tmux source-file without applying some escapings#   awk &lt; &quot;$cfg&quot; \#     &#39;{i = $2 == &quot;-T&quot; ? 4 : 5; gsub(/^[;]$/, &quot;\\\\&amp;&quot;, $i); gsub(/^[$&quot;#~]$/, &quot;&#39;&quot;&#39;&quot;&#39;&amp;&#39;&quot;&#39;&quot;&#39;&quot;, $i); gsub(/^[&#39;&quot;&#39;&quot;&#39;]$/, &quot;\&quot;&amp;\&quot;&quot;, $i); print}&#39; &gt; &quot;$cfg.in&quot;##   # ignore bindings with errors#   if ! tmux source-file &quot;$cfg.in&quot;; then#     verbose_flag=$(tmux source-file -v /dev/null 2&gt; /dev/null &amp;&amp; printf -- &#39;-v&#39; || true)#     while ! out=$(tmux source-file &quot;$verbose_flag&quot; &quot;$cfg.in&quot;); do#       line=$(printf &quot;%s&quot; &quot;$out&quot; | tail -1 | cut -d&#39;:&#39; -f2)#       perl -n -i -e &quot;if ($. != $line) { print }&quot; &quot;$cfg.in&quot;#     done#   fi# }## _apply_theme() {##   # -- panes -------------------------------------------------------------##   tmux_conf_theme_window_fg=${tmux_conf_theme_window_fg:-default}#   tmux_conf_theme_window_bg=${tmux_conf_theme_window_bg:-default}#   tmux_conf_theme_highlight_focused_pane=${tmux_conf_theme_highlight_focused_pane:-false}#   tmux_conf_theme_focused_pane_fg=${tmux_conf_theme_focused_pane_fg:-&#39;default&#39;} # default#   tmux_conf_theme_focused_pane_bg=${tmux_conf_theme_focused_pane_bg:-&#39;#0087d7&#39;} # light blue##   # tmux 1.9 doesn&#39;t really like set -q#   if tmux show -g -w | grep -q window-style; then#     tmux setw -g window-style &quot;fg=$tmux_conf_theme_window_fg,bg=$tmux_conf_theme_window_bg&quot;##     if _is_enabled &quot;$tmux_conf_theme_highlight_focused_pane&quot;; then#       tmux setw -g window-active-style &quot;fg=$tmux_conf_theme_focused_pane_fg,bg=$tmux_conf_theme_focused_pane_bg&quot;#     else#       tmux setw -g window-active-style default#     fi#   fi##   tmux_conf_theme_pane_border_style=${tmux_conf_theme_pane_border_style:-thin}#   tmux_conf_theme_pane_border=${tmux_conf_theme_pane_border:-&#39;#444444&#39;}               # light gray#   tmux_conf_theme_pane_active_border=${tmux_conf_theme_pane_active_border:-&#39;#00afff&#39;} # light blue#   tmux_conf_theme_pane_border_fg=${tmux_conf_theme_pane_border_fg:-$tmux_conf_theme_pane_border}#   tmux_conf_theme_pane_active_border_fg=${tmux_conf_theme_pane_active_border_fg:-$tmux_conf_theme_pane_active_border}#   case &quot;$tmux_conf_theme_pane_border_style&quot; in#     fat)#       tmux_conf_theme_pane_border_bg=${tmux_conf_theme_pane_border_bg:-$tmux_conf_theme_pane_border_fg}#       tmux_conf_theme_pane_active_border_bg=${tmux_conf_theme_pane_active_border_bg:-$tmux_conf_theme_pane_active_border_fg}#       ;;#     thin|*)#       tmux_conf_theme_pane_border_bg=${tmux_conf_theme_pane_border_bg:-&#39;default&#39;}#       tmux_conf_theme_pane_active_border_bg=${tmux_conf_theme_pane_active_border_bg:-&#39;default&#39;}#       ;;#   esac#   tmux setw -g pane-border-style &quot;fg=$tmux_conf_theme_pane_border_fg,bg=$tmux_conf_theme_pane_border_bg&quot; \; set -g pane-active-border-style &quot;fg=$tmux_conf_theme_pane_active_border_fg,bg=$tmux_conf_theme_pane_active_border_bg&quot;##   tmux_conf_theme_pane_indicator=${tmux_conf_theme_pane_indicator:-&#39;#00afff&#39;}               # light blue#   tmux_conf_theme_pane_active_indicator=${tmux_conf_theme_pane_active_indicator:-&#39;#00afff&#39;} # light blue##   tmux set -g display-panes-colour &quot;$tmux_conf_theme_pane_indicator&quot; \; set -g display-panes-active-colour &quot;$tmux_conf_theme_pane_active_indicator&quot;##   # -- status line -------------------------------------------------------##   tmux_conf_theme_left_separator_main=$(_decode_unicode_escapes &quot;${tmux_conf_theme_left_separator_main-}&quot;)#   tmux_conf_theme_left_separator_sub=$(_decode_unicode_escapes &quot;${tmux_conf_theme_left_separator_sub-|}&quot;)#   tmux_conf_theme_right_separator_main=$(_decode_unicode_escapes &quot;${tmux_conf_theme_right_separator_main-}&quot;)#   tmux_conf_theme_right_separator_sub=$(_decode_unicode_escapes &quot;${tmux_conf_theme_right_separator_sub-|}&quot;)##   tmux_conf_theme_message_fg=${tmux_conf_theme_message_fg:-&#39;#000000&#39;}   # black#   tmux_conf_theme_message_bg=${tmux_conf_theme_message_bg:-&#39;#ffff00&#39;}   # yellow#   tmux_conf_theme_message_attr=${tmux_conf_theme_message_attr:-&#39;bold&#39;}#   tmux set -g message-style &quot;fg=$tmux_conf_theme_message_fg,bg=$tmux_conf_theme_message_bg,$tmux_conf_theme_message_attr&quot;##   tmux_conf_theme_message_command_fg=${tmux_conf_theme_message_command_fg:-&#39;#ffff00&#39;} # yellow#   tmux_conf_theme_message_command_bg=${tmux_conf_theme_message_command_bg:-&#39;#000000&#39;} # black#   tmux_conf_theme_message_command_attr=${tmux_conf_theme_message_command_attr:-&#39;bold&#39;}#   tmux set -g message-command-style &quot;fg=$tmux_conf_theme_message_command_fg,bg=$tmux_conf_theme_message_command_bg,$tmux_conf_theme_message_command_attr&quot;##   tmux_conf_theme_mode_fg=${tmux_conf_theme_mode_fg:-&#39;#000000&#39;} # black#   tmux_conf_theme_mode_bg=${tmux_conf_theme_mode_bg:-&#39;#ffff00&#39;} # yellow#   tmux_conf_theme_mode_attr=${tmux_conf_theme_mode_attr:-&#39;bold&#39;}#   tmux setw -g mode-style &quot;fg=$tmux_conf_theme_mode_fg,bg=$tmux_conf_theme_mode_bg,$tmux_conf_theme_mode_attr&quot;##   tmux_conf_theme_status_fg=${tmux_conf_theme_status_fg:-&#39;#8a8a8a&#39;} # white#   tmux_conf_theme_status_bg=${tmux_conf_theme_status_bg:-&#39;#080808&#39;} # dark gray#   tmux_conf_theme_status_attr=${tmux_conf_theme_status_attr:-&#39;none&#39;}#   tmux  set -g status-style &quot;fg=$tmux_conf_theme_status_fg,bg=$tmux_conf_theme_status_bg,$tmux_conf_theme_status_attr&quot;        \;\#         set -g status-left-style &quot;fg=$tmux_conf_theme_status_fg,bg=$tmux_conf_theme_status_bg,$tmux_conf_theme_status_attr&quot;   \;\#         set -g status-right-style &quot;fg=$tmux_conf_theme_status_fg,bg=$tmux_conf_theme_status_bg,$tmux_conf_theme_status_attr&quot;##   tmux_conf_theme_terminal_title=${tmux_conf_theme_terminal_title:-&#39;#h ‚ùê #S ‚óè #I #W&#39;}##   tmux_conf_theme_terminal_title=$(echo &quot;$tmux_conf_theme_terminal_title&quot; | sed \#     -e &#39;s%#{circled_window_index}%#(cut -c3- ~/.tmux.conf | sh -s _circled #I)%g&#39; \#     -e &#39;s%#{circled_session_name}%#(cut -c3- ~/.tmux.conf | sh -s _circled #S)%g&#39; \#     -e &#39;s%#{username}%#(cut -c3- ~/.tmux.conf | sh -s _username #{pane_tty} false #D)%g&#39; \#     -e &#39;s%#{hostname}%#(cut -c3- ~/.tmux.conf | sh -s _hostname #{pane_tty} false #D)%g&#39; \#     -e &#39;s%#{username_ssh}%#(cut -c3- ~/.tmux.conf | sh -s _username #{pane_tty} true #D)%g&#39; \#     -e &#39;s%#{hostname_ssh}%#(cut -c3- ~/.tmux.conf | sh -s _hostname #{pane_tty} true #D)%g&#39;)#   tmux set -g set-titles-string &quot;$(_decode_unicode_escapes &quot;$tmux_conf_theme_terminal_title&quot;)&quot;##   tmux_conf_theme_window_status_fg=${tmux_conf_theme_window_status_fg:-&#39;#8a8a8a&#39;} # white#   tmux_conf_theme_window_status_bg=${tmux_conf_theme_window_status_bg:-&#39;#080808&#39;} # dark gray#   tmux_conf_theme_window_status_attr=${tmux_conf_theme_window_status_attr:-&#39;none&#39;}#   tmux_conf_theme_window_status_format=${tmux_conf_theme_window_status_format:-&#39;#I #W&#39;}##   tmux_conf_theme_window_status_current_fg=${tmux_conf_theme_window_status_current_fg:-&#39;#000000&#39;} # black#   tmux_conf_theme_window_status_current_bg=${tmux_conf_theme_window_status_current_bg:-&#39;#00afff&#39;} # light blue#   tmux_conf_theme_window_status_current_attr=${tmux_conf_theme_window_status_current_attr:-&#39;bold&#39;}#   tmux_conf_theme_window_status_current_format=${tmux_conf_theme_window_status_current_format:-&#39;#I #W&#39;}#   if [ x&quot;$(tmux show -g -v status-justify)&quot; = x&quot;right&quot; ]; then#     tmux_conf_theme_window_status_current_format=&quot;#[fg=$tmux_conf_theme_window_status_current_bg,bg=$tmux_conf_theme_window_status_bg]$tmux_conf_theme_right_separator_main#[fg=$tmux_conf_theme_window_status_current_fg,bg=$tmux_conf_theme_window_status_current_bg,$tmux_conf_theme_window_status_current_attr] $tmux_conf_theme_window_status_current_format #[fg=$tmux_conf_theme_window_status_bg,bg=$tmux_conf_theme_window_status_current_bg,none]$tmux_conf_theme_right_separator_main&quot;#   else#     tmux_conf_theme_window_status_current_format=&quot;#[fg=$tmux_conf_theme_window_status_bg,bg=$tmux_conf_theme_window_status_current_bg]$tmux_conf_theme_left_separator_main#[fg=$tmux_conf_theme_window_status_current_fg,bg=$tmux_conf_theme_window_status_current_bg,$tmux_conf_theme_window_status_current_attr] $tmux_conf_theme_window_status_current_format #[fg=$tmux_conf_theme_window_status_current_bg,bg=$tmux_conf_theme_status_bg,none]$tmux_conf_theme_left_separator_main&quot;#   fi##   tmux_conf_theme_window_status_format=$(echo &quot;$tmux_conf_theme_window_status_format&quot; | sed \#     -e &#39;s%#{circled_window_index}%#(cut -c3- ~/.tmux.conf | sh -s _circled #I)%g&#39; \#     -e &#39;s%#{circled_session_name}%#(cut -c3- ~/.tmux.conf | sh -s _circled #S)%g&#39; \#     -e &#39;s%#{username}%#(cut -c3- ~/.tmux.conf | sh -s _username #{pane_tty} false #D)%g&#39; \#     -e &#39;s%#{hostname}%#(cut -c3- ~/.tmux.conf | sh -s _hostname #{pane_tty} false #D)%g&#39; \#     -e &#39;s%#{username_ssh}%#(cut -c3- ~/.tmux.conf | sh -s _username #{pane_tty} true #D)%g&#39; \#     -e &#39;s%#{hostname_ssh}%#(cut -c3- ~/.tmux.conf | sh -s _hostname #{pane_tty} true #D)%g&#39;)#   tmux_conf_theme_window_status_current_format=$(echo &quot;$tmux_conf_theme_window_status_current_format&quot; | sed \#     -e &#39;s%#{circled_window_index}%#(cut -c3- ~/.tmux.conf | sh -s _circled #I)%g&#39; \#     -e &#39;s%#{circled_session_name}%#(cut -c3- ~/.tmux.conf | sh -s _circled #S)%g&#39; \#     -e &#39;s%#{username}%#(cut -c3- ~/.tmux.conf | sh -s _username #{pane_tty} false #D)%g&#39; \#     -e &#39;s%#{hostname}%#(cut -c3- ~/.tmux.conf | sh -s _hostname #{pane_tty} false #D)%g&#39; \#     -e &#39;s%#{username_ssh}%#(cut -c3- ~/.tmux.conf | sh -s _username #{pane_tty} true #D)%g&#39; \#     -e &#39;s%#{hostname_ssh}%#(cut -c3- ~/.tmux.conf | sh -s _hostname #{pane_tty} true #D)%g&#39;)##   tmux  setw -g window-status-style &quot;fg=$tmux_conf_theme_window_status_fg,bg=$tmux_conf_theme_window_status_bg,$tmux_conf_theme_window_status_attr&quot; \;\#         setw -g window-status-format &quot;$(_decode_unicode_escapes &quot;$tmux_conf_theme_window_status_format&quot;)&quot; \;\#         setw -g window-status-current-style &quot;fg=$tmux_conf_theme_window_status_current_fg,bg=$tmux_conf_theme_window_status_current_bg,$tmux_conf_theme_window_status_current_attr&quot; \;\#         setw -g window-status-current-format &quot;$(_decode_unicode_escapes &quot;$tmux_conf_theme_window_status_current_format&quot;)&quot;##   tmux_conf_theme_window_status_activity_fg=${tmux_conf_theme_window_status_activity_fg:-&#39;default&#39;}#   tmux_conf_theme_window_status_activity_bg=${tmux_conf_theme_window_status_activity_bg:-&#39;default&#39;}#   tmux_conf_theme_window_status_activity_attr=${tmux_conf_theme_window_status_activity_attr:-&#39;underscore&#39;}#   tmux setw -g window-status-activity-style &quot;fg=$tmux_conf_theme_window_status_activity_fg,bg=$tmux_conf_theme_window_status_activity_bg,$tmux_conf_theme_window_status_activity_attr&quot;##   tmux_conf_theme_window_status_bell_fg=${tmux_conf_theme_window_status_bell_fg:-&#39;#ffff00&#39;} # yellow#   tmux_conf_theme_window_status_bell_bg=${tmux_conf_theme_window_status_bell_bg:-&#39;default&#39;}#   tmux_conf_theme_window_status_bell_attr=${tmux_conf_theme_window_status_bell_attr:-&#39;blink,bold&#39;}#   tmux setw -g window-status-bell-style &quot;fg=$tmux_conf_theme_window_status_bell_fg,bg=$tmux_conf_theme_window_status_bell_bg,$tmux_conf_theme_window_status_bell_attr&quot;##   tmux_conf_theme_window_status_last_fg=${tmux_conf_theme_window_status_last_fg:-&#39;#00afff&#39;} # light blue#   tmux_conf_theme_window_status_last_bg=${tmux_conf_theme_window_status_last_bg:-&#39;default&#39;}#   tmux_conf_theme_window_status_last_attr=${tmux_conf_theme_window_status_last_attr:-&#39;none&#39;}#   tmux setw -g window-status-last-style &quot;fg=$tmux_conf_theme_window_status_last_fg,bg=$tmux_conf_theme_window_status_last_bg,$tmux_conf_theme_window_status_last_attr&quot;##   # -- indicators##   tmux_conf_theme_pairing=${tmux_conf_theme_pairing:-&#39;üëì&#39;}            # U+1F453#   tmux_conf_theme_pairing_fg=${tmux_conf_theme_pairing_fg:-&#39;#e4e4e4&#39;} # white#   tmux_conf_theme_pairing_bg=${tmux_conf_theme_pairing_bg:-&#39;none&#39;}#   tmux_conf_theme_pairing_attr=${tmux_conf_theme_pairing_attr:-&#39;none&#39;}##   tmux_conf_theme_prefix=${tmux_conf_theme_prefix:-&#39;‚å®&#39;}             # U+2328#   tmux_conf_theme_prefix_fg=${tmux_conf_theme_prefix_fg:-&#39;#e4e4e4&#39;} # white#   tmux_conf_theme_prefix_bg=${tmux_conf_theme_prefix_bg:-&#39;none&#39;}#   tmux_conf_theme_prefix_attr=${tmux_conf_theme_prefix_attr:-&#39;none&#39;}##   tmux_conf_theme_root=${tmux_conf_theme_root:-&#39;!&#39;}#   tmux_conf_theme_root_fg=${tmux_conf_theme_root_fg:-&#39;none&#39;}#   tmux_conf_theme_root_bg=${tmux_conf_theme_root_bg:-&#39;none&#39;}#   tmux_conf_theme_root_attr=${tmux_conf_theme_root_attr:-&#39;bold,blink&#39;}##   tmux_conf_theme_synchronized=${tmux_conf_theme_synchronized:-&#39;üîí&#39;}  # U+1F512#   tmux_conf_theme_synchronized_fg=${tmux_conf_theme_synchronized_fg:-&#39;none&#39;}#   tmux_conf_theme_synchronized_bg=${tmux_conf_theme_synchronized_bg:-&#39;none&#39;}#   tmux_conf_theme_synchronized_attr=${tmux_conf_theme_synchronized_attr:-&#39;none&#39;}##   # -- status left style##   tmux_conf_theme_status_left=${tmux_conf_theme_status_left-&#39; ‚ùê #S &#39;}#   tmux_conf_theme_status_left_fg=${tmux_conf_theme_status_left_fg:-&#39;#000000,#e4e4e4,#e4e4e4&#39;}  # black, white , white#   tmux_conf_theme_status_left_bg=${tmux_conf_theme_status_left_bg:-&#39;#ffff00,#ff00af,#00afff&#39;}  # yellow, pink, white blue#   tmux_conf_theme_status_left_attr=${tmux_conf_theme_status_left_attr:-&#39;bold,none,none&#39;}##   tmux_conf_theme_status_left=$(echo &quot;$tmux_conf_theme_status_left&quot; | sed \#     -e &quot;s/#{pairing}/#[fg=$tmux_conf_theme_pairing_fg]#[bg=$tmux_conf_theme_pairing_bg]#[$tmux_conf_theme_pairing_attr]#{?session_many_attached,$tmux_conf_theme_pairing,}/g&quot;)##   tmux_conf_theme_status_left=$(echo &quot;$tmux_conf_theme_status_left&quot; | sed \#     -e &quot;s/#{prefix}/#[fg=$tmux_conf_theme_prefix_fg]#[bg=$tmux_conf_theme_prefix_bg]#[$tmux_conf_theme_prefix_attr]#{?client_prefix,$tmux_conf_theme_prefix,}/g&quot;)##   tmux_conf_theme_status_left=$(echo &quot;$tmux_conf_theme_status_left&quot; | sed \#     -e &quot;s%#{root}%#[fg=$tmux_conf_theme_root_fg]#[bg=$tmux_conf_theme_root_bg]#[$tmux_conf_theme_root_attr]#(cut -c3- ~/.tmux.conf | sh -s _root #{pane_tty} #D)#[inherit]%g&quot;)##   tmux_conf_theme_status_left=$(echo &quot;$tmux_conf_theme_status_left&quot; | sed \#     -e &quot;s%#{synchronized}%#[fg=$tmux_conf_theme_synchronized_fg]#[bg=$tmux_conf_theme_synchronized_bg]#[$tmux_conf_theme_synchronized_attr]#{?pane_synchronized,$tmux_conf_theme_synchronized,}%g&quot;)##   if [ -n &quot;$tmux_conf_theme_status_left&quot; ]; then#     status_left=$(awk \#                       -v fg_=&quot;$tmux_conf_theme_status_left_fg&quot; \#                       -v bg_=&quot;$tmux_conf_theme_status_left_bg&quot; \#                       -v attr_=&quot;$tmux_conf_theme_status_left_attr&quot; \#                       -v mainsep=&quot;$tmux_conf_theme_left_separator_main&quot; \#                       -v subsep=&quot;$tmux_conf_theme_left_separator_sub&quot; &#39;#       function subsplit(s,   l, i, a, r)#       {#         l = split(s, a, &quot;,&quot;)#         for (i = 1; i &lt;= l; ++i)#         {#           o = split(a[i], _, &quot;(&quot;) - 1#           c = split(a[i], _, &quot;)&quot;) - 1#           open += o - c#           o_ = split(a[i], _, &quot;{&quot;) - 1#           c_ = split(a[i], _, &quot;}&quot;) - 1#           open_ += o_ - c_#           o__ = split(a[i], _, &quot;[&quot;) - 1#           c__ = split(a[i], _, &quot;]&quot;) - 1#           open__ += o__ - c__##           if (i == l)#             r = sprintf(&quot;%s%s&quot;, r, a[i])#           else if (open || open_ || open__)#             r = sprintf(&quot;%s%s,&quot;, r, a[i])#           else#             r = sprintf(&quot;%s%s#[fg=%s,bg=%s,%s]%s&quot;, r, a[i], fg[j], bg[j], attr[j], subsep)#         }##         gsub(/#\[inherit\]/, sprintf(&quot;#[default]#[fg=%s,bg=%s,%s]&quot;, fg[j], bg[j], attr[j]), r)#         return r#       }#       BEGIN {#         FS = &quot;|&quot;#         l1 = split(fg_, fg, &quot;,&quot;)#         l2 = split(bg_, bg, &quot;,&quot;)#         l3 = split(attr_, attr, &quot;,&quot;)#         l = l1 &lt; l2 ? (l1 &lt; l3 ? l1 : l3) : (l2 &lt; l3 ? l2 : l3)#       }#       {#         for (i = j = 1; i &lt;= NF; ++i)#         {#           if (open || open_ || open__)#             printf &quot;|%s&quot;, subsplit($i)#           else#           {#             if (i &gt; 1)#               printf &quot;#[fg=%s,bg=%s,none]%s#[fg=%s,bg=%s,%s]%s&quot;, bg[j_], bg[j], mainsep, fg[j], bg[j], attr[j], subsplit($i)#             else#               printf &quot;#[fg=%s,bg=%s,%s]%s&quot;, fg[j], bg[j], attr[j], subsplit($i)#           }##           if (!open &amp;&amp; !open_ &amp;&amp; !open__)#           {#             j_ = j#             j = j % l + 1#           }#         }#         printf &quot;#[fg=%s,bg=%s,none]%s&quot;, bg[j_], &quot;default&quot;, mainsep#       }&#39; &lt;&lt; EOF# $tmux_conf_theme_status_left# EOF#     )#   fi##   status_left=&quot;$status_left &quot;##   # -- status right style##   tmux_conf_theme_status_right=${tmux_conf_theme_status_right-&#39;#{pairing}#{prefix} #{battery_status} #{battery_bar} #{battery_percentage} , %R , %d %b | #{username} | #{hostname} &#39;}#   tmux_conf_theme_status_right_fg=${tmux_conf_theme_status_right_fg:-&#39;#8a8a8a,#e4e4e4,#000000&#39;} # light gray, white, black#   tmux_conf_theme_status_right_bg=${tmux_conf_theme_status_right_bg:-&#39;#080808,#d70000,#e4e4e4&#39;} # dark gray, red, white#   tmux_conf_theme_status_right_attr=${tmux_conf_theme_status_right_attr:-&#39;none,none,bold&#39;}##   tmux_conf_theme_status_right=$(echo &quot;$tmux_conf_theme_status_right&quot; | sed \#     -e &quot;s/#{pairing}/#[fg=$tmux_conf_theme_pairing_fg]#[bg=$tmux_conf_theme_pairing_bg]#[$tmux_conf_theme_pairing_attr]#{?session_many_attached,$tmux_conf_theme_pairing,}/g&quot;)##   tmux_conf_theme_status_right=$(echo &quot;$tmux_conf_theme_status_right&quot; | sed \#     -e &quot;s/#{prefix}/#[fg=$tmux_conf_theme_prefix_fg]#[bg=$tmux_conf_theme_prefix_bg]#[$tmux_conf_theme_prefix_attr]#{?client_prefix,$tmux_conf_theme_prefix,}/g&quot;)##   tmux_conf_theme_status_right=$(echo &quot;$tmux_conf_theme_status_right&quot; | sed \#     -e &quot;s%#{root}%#[fg=$tmux_conf_theme_root_fg]#[bg=$tmux_conf_theme_root_bg]#[$tmux_conf_theme_root_attr]#(cut -c3- ~/.tmux.conf | sh -s _root #{pane_tty} #D)#[inherit]%g&quot;)##   tmux_conf_theme_status_right=$(echo &quot;$tmux_conf_theme_status_right&quot; | sed \#     -e &quot;s%#{synchronized}%#[fg=$tmux_conf_theme_synchronized_fg]#[bg=$tmux_conf_theme_synchronized_bg]#[$tmux_conf_theme_synchronized_attr]#{?pane_synchronized,$tmux_conf_theme_synchronized,}%g&quot;)##   if [ -n &quot;$tmux_conf_theme_status_right&quot; ]; then#     status_right=$(awk \#                       -v fg_=&quot;$tmux_conf_theme_status_right_fg&quot; \#                       -v bg_=&quot;$tmux_conf_theme_status_right_bg&quot; \#                       -v attr_=&quot;$tmux_conf_theme_status_right_attr&quot; \#                       -v mainsep=&quot;$tmux_conf_theme_right_separator_main&quot; \#                       -v subsep=&quot;$tmux_conf_theme_right_separator_sub&quot; &#39;#       function subsplit(s,   l, i, a, r)#       {#         l = split(s, a, &quot;,&quot;)#         for (i = 1; i &lt;= l; ++i)#         {#           o = split(a[i], _, &quot;(&quot;) - 1#           c = split(a[i], _, &quot;)&quot;) - 1#           open += o - c#           o_ = split(a[i], _, &quot;{&quot;) - 1#           c_ = split(a[i], _, &quot;}&quot;) - 1#           open_ += o_ - c_#           o__ = split(a[i], _, &quot;[&quot;) - 1#           c__ = split(a[i], _, &quot;]&quot;) - 1#           open__ += o__ - c__##           if (i == l)#             r = sprintf(&quot;%s%s&quot;, r, a[i])#           else if (open || open_ || open__)#             r = sprintf(&quot;%s%s,&quot;, r, a[i])#           else#             r = sprintf(&quot;%s%s#[fg=%s,bg=%s,%s]%s&quot;, r, a[i], fg[j], bg[j], attr[j], subsep)#         }##         gsub(/#\[inherit\]/, sprintf(&quot;#[default]#[fg=%s,bg=%s,%s]&quot;, fg[j], bg[j], attr[j]), r)#         return r#       }#       BEGIN {#         FS = &quot;|&quot;#         l1 = split(fg_, fg, &quot;,&quot;)#         l2 = split(bg_, bg, &quot;,&quot;)#         l3 = split(attr_, attr, &quot;,&quot;)#         l = l1 &lt; l2 ? (l1 &lt; l3 ? l1 : l3) : (l2 &lt; l3 ? l2 : l3)#       }#       {#         for (i = j = 1; i &lt;= NF; ++i)#         {#           if (open_ || open || open__)#             printf &quot;|%s&quot;, subsplit($i)#           else#             printf &quot;#[fg=%s,bg=%s,none]%s#[fg=%s,bg=%s,%s]%s&quot;, bg[j], (i == 1) ? &quot;default&quot; : bg[j_], mainsep, fg[j], bg[j], attr[j], subsplit($i)##           if (!open &amp;&amp; !open_ &amp;&amp; !open__)#           {#             j_ = j#             j = j % l + 1#           }#         }#       }&#39; &lt;&lt; EOF# $tmux_conf_theme_status_right# EOF#     )#   fi##   # -- variables##   tmux set -g &#39;@root&#39; &quot;$tmux_conf_theme_root&quot;##   tmux_conf_battery_bar_symbol_full=${tmux_conf_battery_bar_symbol_full:-&#39;‚óº&#39;}#   tmux_conf_battery_bar_symbol_empty=${tmux_conf_battery_bar_symbol_empty:-&#39;‚óª&#39;}#   tmux_conf_battery_bar_length=${tmux_conf_battery_bar_length:-&#39;auto&#39;}#   tmux_conf_battery_bar_palette=${tmux_conf_battery_bar_palette:-&#39;gradient&#39;}#   tmux_conf_battery_hbar_palette=${tmux_conf_battery_hbar_palette:-&#39;gradient&#39;} # red, orange, green#   tmux_conf_battery_vbar_palette=${tmux_conf_battery_vbar_palette:-&#39;gradient&#39;} # red, orange, green#   tmux_conf_battery_status_charging=${tmux_conf_battery_status_charging:-&#39;‚Üë&#39;}       # U+2191#   tmux_conf_battery_status_discharging=${tmux_conf_battery_status_discharging:-&#39;‚Üì&#39;} # U+2193##   case &quot;$status_left $status_right&quot; in#     *&#39;#{battery_status}&#39;*|*&#39;#{battery_bar}&#39;*|*&#39;#{battery_hbar}&#39;*|*&#39;#{battery_vbar}&#39;*|*&#39;#{battery_percentage}&#39;*)#       status_left=$(echo &quot;$status_left&quot; | sed -E \#         -e &#39;s/#\{(\?)?battery_bar/#\{\1@battery_bar/g&#39; \#         -e &#39;s/#\{(\?)?battery_hbar/#\{\1@battery_hbar/g&#39; \#         -e &#39;s/#\{(\?)?battery_vbar/#\{\1@battery_vbar/g&#39; \#         -e &#39;s/#\{(\?)?battery_status/#\{\1@battery_status/g&#39; \#         -e &#39;s/#\{(\?)?battery_percentage/#\{\1@battery_percentage/g&#39;)#       status_right=$(echo &quot;$status_right&quot; | sed -E \#         -e &#39;s/#\{(\?)?battery_bar/#\{\1@battery_bar/g&#39; \#         -e &#39;s/#\{(\?)?battery_hbar/#\{\1@battery_hbar/g&#39; \#         -e &#39;s/#\{(\?)?battery_vbar/#\{\1@battery_vbar/g&#39; \#         -e &#39;s/#\{(\?)?battery_status/#\{\1@battery_status/g&#39; \#         -e &#39;s/#\{(\?)?battery_percentage/#\{\1@battery_percentage/g&#39;)##       tmux  set -g &#39;@battery_bar_symbol_full&#39; &quot;$(_decode_unicode_escapes &quot;$tmux_conf_battery_bar_symbol_full&quot;)&quot; \;\#             set -g &#39;@battery_bar_symbol_empty&#39; &quot;$(_decode_unicode_escapes &quot;$tmux_conf_battery_bar_symbol_empty&quot;)&quot; \;\#             set -g &#39;@battery_bar_length&#39; &quot;$tmux_conf_battery_bar_length&quot; \;\#             set -g &#39;@battery_bar_palette&#39; &quot;$tmux_conf_battery_bar_palette&quot; \;\#             set -g &#39;@battery_hbar_palette&#39; &quot;$tmux_conf_battery_hbar_palette&quot; \;\#             set -g &#39;@battery_vbar_palette&#39; &quot;$tmux_conf_battery_vbar_palette&quot; \;\#             set -g &#39;@battery_status_charging&#39; &quot;$(_decode_unicode_escapes &quot;$tmux_conf_battery_status_charging&quot;)&quot; \;\#             set -g &#39;@battery_status_discharging&#39; &quot;$(_decode_unicode_escapes &quot;$tmux_conf_battery_status_discharging&quot;)&quot;#       status_right=&quot;#(cut -c3- ~/.tmux.conf | sh -s _battery)$status_right&quot;#       ;;#   esac##   case &quot;$status_left $status_right&quot; in#     *&#39;#{username}&#39;*|*&#39;#{hostname}&#39;*|*&#39;#{username_ssh}&#39;*|*&#39;#{hostname_ssh}&#39;*)#       status_left=$(echo &quot;$status_left&quot; | sed \#         -e &#39;s%#{username}%#(cut -c3- ~/.tmux.conf | sh -s _username #{pane_tty} false #D)%g&#39; \#         -e &#39;s%#{hostname}%#(cut -c3- ~/.tmux.conf | sh -s _hostname #{pane_tty} false #D)%g&#39; \#         -e &#39;s%#{username_ssh}%#(cut -c3- ~/.tmux.conf | sh -s _username #{pane_tty} true #D)%g&#39; \#         -e &#39;s%#{hostname_ssh}%#(cut -c3- ~/.tmux.conf | sh -s _hostname #{pane_tty} true #D)%g&#39;)#       status_right=$(echo &quot;$status_right&quot; | sed \#         -e &#39;s%#{username}%#(cut -c3- ~/.tmux.conf | sh -s _username #{pane_tty} false #D)%g&#39; \#         -e &#39;s%#{hostname}%#(cut -c3- ~/.tmux.conf | sh -s _hostname #{pane_tty} false #D)%g&#39; \#         -e &#39;s%#{username_ssh}%#(cut -c3- ~/.tmux.conf | sh -s _username #{pane_tty} true #D)%g&#39; \#         -e &#39;s%#{hostname_ssh}%#(cut -c3- ~/.tmux.conf | sh -s _hostname #{pane_tty} true #D)%g&#39;)#       ;;#   esac##   case &quot;$status_left $status_right&quot; in#     *&#39;#{uptime_d}&#39;*|*&#39;#{uptime_h}&#39;*|*&#39;#{uptime_m}&#39;*|*&#39;#{uptime_s}&#39;*)#       status_left=$(echo &quot;$status_left&quot; | sed -E \#         -e &#39;s/#\{(\?)?uptime_y/#\{\1@uptime_y/g&#39; \#         -e &#39;s/#\{(\?)?uptime_d/#\{\1@uptime_d/g&#39; \#         -e &#39;/@uptime_y/ s/@uptime_d/@uptime_dy/g&#39; \#         -e &#39;s/#\{(\?)?uptime_h/#\{\1@uptime_h/g&#39; \#         -e &#39;s/#\{(\?)?uptime_m/#\{\1@uptime_m/g&#39; \#         -e &#39;s/#\{(\?)?uptime_s/#\{\1@uptime_s/g&#39;)#       status_right=$(echo &quot;$status_right&quot; | sed -E \#         -e &#39;s/#\{(\?)?uptime_y/#\{\1@uptime_y/g&#39; \#         -e &#39;s/#\{(\?)?uptime_d/#\{\1@uptime_d/g&#39; \#         -e &#39;/@uptime_y/ s/@uptime_d/@uptime_dy/g&#39; \#         -e &#39;s/#\{(\?)?uptime_h/#\{\1@uptime_h/g&#39; \#         -e &#39;s/#\{(\?)?uptime_m/#\{\1@uptime_m/g&#39; \#         -e &#39;s/#\{(\?)?uptime_s/#\{\1@uptime_s/g&#39;)#       status_right=&quot;#(cut -c3- ~/.tmux.conf | sh -s _uptime)$status_right&quot;#       ;;#   esac##   case &quot;$status_left $status_right&quot; in#     *&#39;#{loadavg}&#39;*)#       status_left=$(echo &quot;$status_left&quot; | sed -E \#         -e &#39;s/#\{(\?)?loadavg/#\{\1@loadavg/g&#39;)#       status_right=$(echo &quot;$status_right&quot; | sed -E \#         -e &#39;s/#\{(\?)?loadavg/#\{\1@loadavg/g&#39;)#       status_right=&quot;#(cut -c3- ~/.tmux.conf | sh -s _loadavg)$status_right&quot;#       ;;#   esac##   status_left=$(echo &quot;$status_left&quot; | sed &#39;s%#{circled_session_name}%#(cut -c3- ~/.tmux.conf | sh -s _circled #S)%g&#39;)#   status_right=$(echo &quot;$status_right&quot; | sed &#39;s%#{circled_session_name}%#(cut -c3- ~/.tmux.conf | sh -s _circled #S)%g&#39;)##   tmux  set -g status-left-length 1000 \; set -g status-left &quot;$(_decode_unicode_escapes &quot;$status_left&quot;)&quot; \;\#         set -g status-right-length 1000 \; set -g status-right &quot;$(_decode_unicode_escapes &quot;$status_right&quot;)&quot;##   # -- clock -------------------------------------------------------------##   tmux_conf_theme_clock_colour=${tmux_conf_theme_clock_colour:-&#39;#00afff&#39;} # light blue#   tmux_conf_theme_clock_style=${tmux_conf_theme_clock_style:-&#39;24&#39;}#   tmux  setw -g clock-mode-colour &quot;$tmux_conf_theme_clock_colour&quot; \;\#         setw -g clock-mode-style &quot;$tmux_conf_theme_clock_style&quot;# }## _apply_configuration() {##   if ! command -v perl &gt; /dev/null 2&gt;&amp;1; then#     tmux run -b &#39;tmux set display-time 3000 \; display &quot;This configuration requires perl&quot; \; set -u display-time&#39;#     return#   fi#   if ! command -v sed &gt; /dev/null 2&gt;&amp;1; then#     tmux run -b &#39;tmux set display-time 3000 \; display &quot;This configuration requires sed&quot; \; set -u display-time&#39;#     return#   fi#   if ! command -v awk &gt; /dev/null 2&gt;&amp;1; then#     tmux run -b &#39;tmux set display-time 3000 \; display &quot;This configuration requires awk&quot; \; set -u display-time&#39;#     return#   fi##   # see https://github.com/ChrisJohnsen/tmux-MacOSX-pasteboard#   if command -v reattach-to-user-namespace &gt; /dev/null 2&gt;&amp;1; then#     default_shell=&quot;$(tmux show -gv default-shell)&quot;#     case &quot;$default_shell&quot; in#       *fish)#         tmux set -g default-command &quot;reattach-to-user-namespace -l $default_shell&quot;#         ;;#       *sh)#         tmux set -g default-command &quot;exec $default_shell... 2&gt; /dev/null &amp; reattach-to-user-namespace -l $default_shell&quot;#         ;;#     esac#   fi##   _apply_overrides#   _apply_bindings#   _apply_theme#   for name in $(printenv | grep -E -o &#39;^tmux_conf_[^=]+&#39;); do tmux setenv -gu &quot;$name&quot;; done;# }## _urlview() {#   tmux capture-pane -J -S - -E - -b &quot;urlview-$1&quot; -t &quot;$1&quot;#   tmux split-window &quot;tmux show-buffer -b urlview-$1 | urlview || true; tmux delete-buffer -b urlview-$1&quot;# }## _fpp() {#   tmux capture-pane -J -S - -E - -b &quot;fpp-$1&quot; -t &quot;$1&quot;#   tmux split-window &quot;tmux show-buffer -b fpp-$1 | fpp || true; tmux delete-buffer -b fpp-$1&quot;# }## &quot;$@&quot;</code></pre><h1 id="zshÈÖçÁΩÆ"><a href="#zshÈÖçÁΩÆ" class="headerlink" title="zshÈÖçÁΩÆ"></a>zshÈÖçÁΩÆ</h1><p>ÈÄöËøá<code>sudo apt-get install zsh</code>ÂÆâË£ÖzshÔºõ</p><p>‰πãÂêéÈÄöËøá<code>git clone https://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh</code>Â∞Ü<code>oh-my-zsh</code>ÂÖãÈöÜËá≥ÂØπÂ∫îÊñá‰ª∂Â§πÔºõ</p><p>ÂÜçÂ§çÂà∂ÈÖçÁΩÆÊñá‰ª∂<code>.zshrc</code>Ëá≥homeÁõÆÂΩïÔºö<code>cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc</code>ÔºåÊõ¥ÊîπÈªòËÆ§sh:<code>chsh -s /bin/zsh</code>„ÄÇ<br>ÂÆâË£ÖËã•Âπ≤Êèí‰ª∂Ôºö<br><code>plugins=(git sudo zsh-syntax-highlighting zsh-autosuggestions)</code></p><p>ÂÖ∂‰∏≠Ôºå<br>zsh-syntax-highlighting: <code>git clone https://github.com/zsh-users/zsh-syntax-highlighting $ZSH_CUSTOM/plugins/zsh-syntax-highlighting</code></p><p>zsh-autosuggestions: <code>git clone git://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions</code></p><p>incr: <code>http://mimosa-pudica.net/zsh-incremental.html</code>‰∏ãËΩΩ</p><p>ÈÄöËøáÂú®<code>.zshrc</code>source<code>.zsh</code>Êñá‰ª∂ÊàñËÄÖÁõ¥Êé•Ê∑ªÂä†pluginsÁöÑÊñπÊ≥ïÂèØ‰ª•Ê∑ªÂä†Êèí‰ª∂„ÄÇ</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ÂÆûÈ™åÂÆ§ÂõûÊµãÁ≥ªÁªüÈÉ®ÁΩ≤Â≠¶‰π†</title>
    <link href="/2020/07/25/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E5%9B%9E%E6%B5%8B%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2%E5%AD%A6%E4%B9%A0/"/>
    <url>/2020/07/25/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E5%9B%9E%E6%B5%8B%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h2 id="ÈÉ®ÁΩ≤"><a href="#ÈÉ®ÁΩ≤" class="headerlink" title="ÈÉ®ÁΩ≤"></a>ÈÉ®ÁΩ≤</h2><p>2020-07-19</p><p>2020-07-24</p><h3 id="ÂÆâË£ÖDockerÔºå17-03-x-ce"><a href="#ÂÆâË£ÖDockerÔºå17-03-x-ce" class="headerlink" title="ÂÆâË£ÖDockerÔºå17.03.x-ce"></a>ÂÆâË£ÖDockerÔºå17.03.x-ce</h3><pre><code>$ apt-get update$ curl https://releases.rancher.com/install-docker/17.03.sh | sh</code></pre><p>Â∞ÜÁî®Êà∑Ê∑ªÂä†Âà∞<code>docker group</code>‰∏≠Ôºö<code>sudo usermod -aG docker [your-user]</code></p><h3 id="ÂÆâË£ÖRancher1-6ÂÆπÂô®"><a href="#ÂÆâË£ÖRancher1-6ÂÆπÂô®" class="headerlink" title="ÂÆâË£ÖRancher1.6ÂÆπÂô®"></a>ÂÆâË£ÖRancher1.6ÂÆπÂô®</h3><p>RancherÊòØ‰∏Ä‰∏™dockerÂÆπÂô®ÁÆ°ÁêÜÂπ≥Âè∞ÂÆûÁé∞ÂØπDockerÂíåKubernetesÁöÑËΩªÊùæÈÉ®ÁΩ≤„ÄÇ</p><pre><code>$ sudo docker run -d --restart=unless-stopped -p 8080:8080 --name rancher-server rancher/server</code></pre><h3 id="ÁÆ°ÁêÜRancher"><a href="#ÁÆ°ÁêÜRancher" class="headerlink" title="ÁÆ°ÁêÜRancher"></a>ÁÆ°ÁêÜRancher</h3><p>Âú®ADMIN=&gt;Access Control‰∏≠ËÆæÁΩÆÁôªÂΩïËÆ§ËØÅÔºåËøôÈáå‰ΩøÁî®local„ÄÇ</p><h3 id="Ê∑ªÂä†host"><a href="#Ê∑ªÂä†host" class="headerlink" title="Ê∑ªÂä†host"></a>Ê∑ªÂä†host</h3><p>Âú®INFRASTRUCTURE=&gt;Hosts‰∏≠ÁÇπÂáªAdd hostÔºå‰ΩøÁî®ÈªòËÆ§ÈÖçÁΩÆÂπ∂Ê∑ªÂä†Host„ÄÇÂ¶ÇÊûúHostÊ≤°ÊúâÊ≠£Â∏∏Ê∑ªÂä†ÔºåÂèØ‰ª•ËÄÉËôë‰ª•‰∏ãÂ§ÑÁêÜÊñπÊ≥ïÔºö</p><ol><li>ÊîæÈÄö500„ÄÅ4500Á´ØÂè£„ÄÇ</li><li>Âà†Èô§Êñá‰ª∂Ôºö<code>rm -rf /var/lib/rancher/state</code></li><li>Âà†Èô§agentÂÆπÂô®Ôºö<code>docker ps</code>Âπ∂Êü•ÊâæÂ∏¶ÊúâagentÁöÑÂÆπÂô®idÔºåÂπ∂‰ΩøÁî®<code>docker kill xxx</code>ÂëΩ‰ª§„ÄÇÂπ∂‰ΩøÁî®<code>docker rm -fv rancher-agent</code>ÂëΩ‰ª§</li><li>‰øÆÊîπÊñá‰ª∂<code>vim /etc/docker/daemon.json</code>ÔºåÂú®ÂÖ∂‰∏≠Ê∑ªÂä†DNSÂú∞ÂùÄ„ÄÇÂÆûÈ™åÂÆ§Êú∫ÊàøDNSÂú∞ÂùÄ‰∏∫Ôºö10.8.8.8‰ª•Âèä10.8.4.4„ÄÇ</li></ol><pre><code>{        &quot;dns&quot; : [                &quot;114.114.114.114&quot;,                &quot;8.8.8.8&quot;        ],        &quot;registry-mirrors&quot;: [&quot;https://registry.docker-cn.com&quot;], #ÈïúÂÉèÂä†ÈÄüÂú∞ÂùÄ}</code></pre><h4 id="ÂêØÂä®Êú¨Âú∞Ê≥®ÂÜåË°®"><a href="#ÂêØÂä®Êú¨Âú∞Ê≥®ÂÜåË°®" class="headerlink" title="ÂêØÂä®Êú¨Âú∞Ê≥®ÂÜåË°®"></a>ÂêØÂä®Êú¨Âú∞Ê≥®ÂÜåË°®</h4><p><code>docker run -d -p 5000:5000 --restart=always --name registry registry:2</code></p><h1 id="Strategy-Service"><a href="#Strategy-Service" class="headerlink" title="Strategy Service"></a>Strategy Service</h1><h2 id="ËôöÊãüÁéØÂ¢ÉÂÆâË£Ö"><a href="#ËôöÊãüÁéØÂ¢ÉÂÆâË£Ö" class="headerlink" title="ËôöÊãüÁéØÂ¢ÉÂÆâË£Ö"></a>ËôöÊãüÁéØÂ¢ÉÂÆâË£Ö</h2><pre><code>$ pip3 install virtualenv$ pip3 install virtualenvwrapper</code></pre><p>ÂÆâË£ÖÁéØÂ¢ÉÂêéÂ¶ÇÊûúÊèêÁ§∫Êâæ‰∏çÂà∞<code>mkvirtualenv</code>ÂëΩ‰ª§ÔºåÈúÄË¶ÅÂú®ÈÖçÁΩÆ„ÄÇ</p><pre><code># 1„ÄÅÂú®~ÔºàÂÆ∂ÁõÆÂΩïÔºâ‰∏ãÂàõÂª∫ÁõÆÂΩïÁî®Êù•Â≠òÊîæËôöÊãüÁéØÂ¢Émkdir .virtualenvs# 2„ÄÅÊâìÂºÄ~/.bashrcÊñá‰ª∂ÔºåÂπ∂Ê∑ªÂä†Â¶Ç‰∏ãÔºöexport WORKON_HOME=$HOME/.virtualenvssource /usr/local/bin/virtualenvwrapper.sh# 3„ÄÅËøêË°åsource ~/.bashrc</code></pre><p>Â¶ÇÊûúÂá∫Áé∞<code>ERROR: virtualenvwrapper could not find virtualenv in your path</code>ÔºåÊõ¥Êîπ~/.bashrcÈÖçÁΩÆÂ¶Ç‰∏ãÔºö</p><pre><code>export WORKON_HOME=~/.virtualenvsexport VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3# ÊåáÂÆövirtualenvÁöÑË∑ØÂæÑexport VIRTUALENVWRAPPER_VIRTUALENV=~/.local/bin/virtualenvsource /usr/local/bin/virtualenvwrapper.sh</code></pre><p>‰ΩøÁî®<code>mkvirtualenv -p python3 [name]</code>ÂëΩ‰ª§ÂàõÂª∫ËôöÊãüÁéØÂ¢É„ÄÇ</p><p>Êü•ÁúãÊâÄÊúâËôöÊãüÁéØÂ¢ÉÁöÑÂëΩ‰ª§Ôºö<code>workon</code>„ÄÇ‰ΩøÁî®ËôöÊãüÁéØÂ¢ÉÔºö<code>workon [name]</code>„ÄÇÊé®Âá∫ËôöÊãüÁéØÂ¢ÉÔºö<code>deactive</code>„ÄÇÂà†Èô§ËôöÊãüÁéØÂ¢ÉÔºö<code>rmvirtualenv [name]</code>„ÄÇ</p><p>Âú®<code>strategy-service</code>ÁõÆÂΩï‰∏ãÔºåÈÄöËøá<code>pip3 install -r requirement.txt</code>ÂÆâË£Ö‰æùËµñ„ÄÇ</p><h2 id="‰æùËµñÂÆâË£Ö"><a href="#‰æùËµñÂÆâË£Ö" class="headerlink" title="‰æùËµñÂÆâË£Ö"></a>‰æùËµñÂÆâË£Ö</h2><p>ÂÆâË£Ö<code>thrift</code>‰ª•Âèä<code>hiredis</code>„ÄÇ<a href="https://mirrors.cnnic.cn/apache/thrift/0.13.0/" target="_blank" rel="noopener">thrift</a> <a href="https://github.com/redis/hiredis" target="_blank" rel="noopener">redis</a></p><p>ÂÆâË£Ö<code>thrift</code></p><pre><code>$ ./config$ make$ make install$ thrift -version</code></pre><p>ÂÆâË£Ö<code>hiredis</code></p><pre><code>$ make$ make install$ ldconfig /usr/local/lib</code></pre><p>ÂÆâË£Ö<code>libevent</code>„ÄÇ<a href="https://github.com/libevent/libevent" target="_blank" rel="noopener">libevent</a></p><pre><code>$ ./configure --prefix=/usr/local/libevent$ make$ make install</code></pre><h2 id="ÊâßË°å"><a href="#ÊâßË°å" class="headerlink" title="ÊâßË°å"></a>ÊâßË°å</h2><p>Âú®<code>strategy-service</code>Êñá‰ª∂Â§π‰∏≠ÔºåÊâßË°åÔºö<code>python3 main.py run -f ./examples/01-single_avg.py</code></p>]]></content>
    
    
    <categories>
      
      <category>ÂÆûÈ™åÂÆ§</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ÂÆûÈ™åÂÆ§</tag>
      
      <tag>ÂõûÊµãÁ≥ªÁªü</tag>
      
      <tag>ÈÉ®ÁΩ≤</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BOSËÆæËÆ°Âô®/Â•óÊâìËÆæËÆ°Âô®</title>
    <link href="/2020/07/22/BOS%E8%AE%BE%E8%AE%A1%E5%99%A8-%E5%A5%97%E6%89%93%E8%AE%BE%E8%AE%A1%E5%99%A8/"/>
    <url>/2020/07/22/BOS%E8%AE%BE%E8%AE%A1%E5%99%A8-%E5%A5%97%E6%89%93%E8%AE%BE%E8%AE%A1%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<p><a href="http://club.kisdee.com" target="_blank" rel="noopener">ËÆ∫Âùõ</a> <a href="http://open.kingdee.com/K3cloud/SDK/webframe.html" target="_blank" rel="noopener">SDK</a> <a href="http://open.kingdee.com/K3cloud/WenKu/Index.aspx" target="_blank" rel="noopener">ÊñáÊ°£‰∏≠ÂøÉ</a></p><p>ÁÆÄÂçïË¥¶Ë°®-&gt;(Ê†ëÂΩ¢Ë¥¶Ë°®„ÄÅÂàÜÈ°µË¥¶Ë°®)</p><h1 id="Êèí‰ª∂Â≠¶‰π†"><a href="#Êèí‰ª∂Â≠¶‰π†" class="headerlink" title="Êèí‰ª∂Â≠¶‰π†"></a>Êèí‰ª∂Â≠¶‰π†</h1><h3 id="Êï∞ÊçÆÂ∫ìÂëΩÂêçËßÑËåÉ"><a href="#Êï∞ÊçÆÂ∫ìÂëΩÂêçËßÑËåÉ" class="headerlink" title="Êï∞ÊçÆÂ∫ìÂëΩÂêçËßÑËåÉ"></a>Êï∞ÊçÆÂ∫ìÂëΩÂêçËßÑËåÉ</h3><p>Ë°®Ê†ºÂêç&lt;30Â≠óÁ¨¶Ôºå{ISVÊ†áËØÜ}_T_{Â≠êÁ≥ªÁªü}_{Ë°®Âêç}</p><h3 id="Êä•Ë°®Â±ûÊÄß"><a href="#Êä•Ë°®Â±ûÊÄß" class="headerlink" title="Êä•Ë°®Â±ûÊÄß"></a>Êä•Ë°®Â±ûÊÄß</h3><h4 id="ReportPropertyÂ±ûÊÄß"><a href="#ReportPropertyÂ±ûÊÄß" class="headerlink" title="ReportPropertyÂ±ûÊÄß"></a>ReportPropertyÂ±ûÊÄß</h4><ul><li><p>IdentityFieldName</p><p>ÂàÜÈ°µÈ°∫Â∫èÂ≠óÊÆµÂêçÔºåÂÆûÊ®°ÂºèÂèñÊï∞ÂøÖÈ°ªËÆæÁΩÆÔºåÊèí‰ª∂ÂèØ‰ª•‰øÆÊîπ</p></li><li><p>GroupSummaryInfoData</p><p>ÂàÜÁªÑ‰ø°ÊÅØÊï∞ÊçÆÔºàÂåÖÂê´ÈªòËÆ§ÂàÜÁªÑÂ≠óÊÆµ„ÄÅÂàÜÁªÑÁ∫ßÊ¨°Â≠óÊÆµÁ≠â‰ø°ÊÅØÔºâ</p></li><li><p>IsDefaultOnlyDspSumAndDetailData</p><p>ÈªòËÆ§Âè™ÊòæÁ§∫ÂêàËÆ°ÂíåÊòéÁªÜÊï∞ÊçÆÔºå‰∏çÊòæÁ§∫Â∞èËÆ°Êï∞ÊçÆ</p></li><li><p>IsGroupSummary</p><p>Ê†áËØÜÊä•Ë°®ÊòØÂê¶ÊîØÊåÅÂàÜÁªÑÊ±áÊÄª</p></li><li><p>IsUIDesignerColumns</p><p>Ê†áËØÜÊä•Ë°®ÁöÑÂàóÂøÖÈ°ªÈÄöËøáUIËÆæËÆ°Ôºå‰∏çËÄÉËôëÂä®ÊÄÅÂàó</p></li><li><p>SimpleAllCols</p><p>ÊòØÂê¶ÈîÅÂÆöË°®Ê†ºÂàó</p></li><li><p>VirtualMode</p><p>ÊòØÂê¶ËôöÊ®°ÂºèÂèñÊï∞</p></li><li><p>ReportName</p><p>Êä•Ë°®ÂêçÁß∞</p></li><li><p>DetailReportId</p><p>ÊòéÁªÜÊä•Ë°®ÁöÑFormId(Êä•Ë°®Ë°®ÂçïÊ†áËØÜ)ÔºåÁî®‰∫éÂçïÊòéÁªÜÊä•Ë°®</p></li><li><p>DetailReportFormIdFieldName</p><p>ÊòéÁªÜÊä•Ë°®ÁöÑFormIdÂ≠òÂÇ®Â≠óÊÆµÂêçÔºåÁî®‰∫éÂ§öÊòéÁªÜÊä•Ë°®</p></li><li><p>DetailReportType</p><p>ÊòéÁªÜÊä•Ë°®Á±ªÂûã</p></li><li><p>BillKeyFieldName</p><p>ËÅîËÅîÂçïÊçÆ‰∏ªÈîÆÂ≠óÊÆµÂêç</p></li><li><p>BillTypeFieldName</p><p>ËÅîÊü•ÂçïÊçÆÂØπÂ∫îÁöÑÂçïÊçÆÁ±ªÂûãÂêçÁß∞</p></li><li><p>FormIdFieldName</p><p>ËÅîËÅîÂçïÊçÆFormIdÂ≠óÊÆµÂêç</p></li><li><p>DecimalControlFieldList</p><p>Á≤æÂ∫¶ÊéßÂà∂Â≠óÊÆµÈõÜÂêà</p></li></ul><h4 id="IRptParamsÂèÇÊï∞ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ï"><a href="#IRptParamsÂèÇÊï∞ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ï" class="headerlink" title="IRptParamsÂèÇÊï∞ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ï"></a>IRptParamsÂèÇÊï∞ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ï</h4><ul><li><p>CurrentPosition</p><p>Êä•Ë°®ÂΩìÂâç‰ΩçÁΩÆ,Èô§ÂàÜÈ°µÊä•Ë°®Â§ñÔºåËØ•ÂÄºÂßãÁªàÊòØ0</p></li><li><p>StartRow</p><p>Êä•Ë°®ÂèñÊï∞ÂºÄÂßãË°åÂè∑</p></li><li><p>EndRow</p><p>Êä•Ë°®ÂèñÊï∞ÁªìÊùüË°åÂè∑</p></li><li><p>IsRefresh</p><p>Êä•Ë°®ÊòØÂê¶ÈáçÊñ∞Âà∑Êñ∞ÂèñÊï∞</p></li><li><p>IsOnlyQuerySumData</p><p>Âè™Êü•ËØ¢Ê±áÊÄªÊï∞ÊçÆ</p></li><li><p>FilterParameter</p><p>ËøáÊª§Êù°‰ª∂</p></li><li><p>ParameterData</p><p>Áî®Êà∑ÂèÇÊï∞</p></li><li><p>CustomParams</p><p>Êä•Ë°®ÂÖ∂‰ªñÂèÇÊï∞ÔºåÂèØ‰ª•‰ªªÊÑèÊ∑ªÂä†ÔºàÂ¶ÇÂèëÂ∏ÉÊä•Ë°®ÂÆö‰πâÁöÑÂèÇÊï∞Ôºâ</p></li><li><p>FilterFieldInfo</p><p>ËøáÊª§Â≠óÊÆµÂÖÉÊï∞ÊçÆ‰ø°ÊÅØ</p></li><li><p>GetParentReportFilter()</p><p>Ëé∑ÂæóÁà∂Êä•Ë°®ËøáÊª§Êù°‰ª∂</p></li><li><p>GetParentReportCurrentRow()</p><p>Ëé∑ÂæóÁà∂Êä•Ë°®ÂΩìÂâçË°åÊï∞ÊçÆ</p></li><li><p>GetFirstParentReportFilter() </p><p>Êä•Ë°®Á©øÈÄèÔºåËé∑ÂæóÁ¨¨‰∏Ä‰∏™Êä•Ë°®ÁöÑËøáÊª§Êù°‰ª∂</p></li><li><p>GetParentReportCurrentConditionData()</p><p>Ëé∑ÂæóÁà∂Êä•Ë°®ÊòØÂàÜÈ°µÊä•Ë°®ÁöÑÂΩìÂâçÂàÜÈ°µÊù°‰ª∂</p></li></ul><h3 id="ÈúÄË¶ÅÂºïÁî®ÁöÑÁªÑ‰ª∂"><a href="#ÈúÄË¶ÅÂºïÁî®ÁöÑÁªÑ‰ª∂" class="headerlink" title="ÈúÄË¶ÅÂºïÁî®ÁöÑÁªÑ‰ª∂"></a>ÈúÄË¶ÅÂºïÁî®ÁöÑÁªÑ‰ª∂</h3><pre><code>Kingdee.BOSKingdee.BOS.AppKingdee.BOS.ContractsKingdee.BOS.CoreKingdee.BOS.DataEntity</code></pre><h2 id="Âä®ÊÄÅË°®ÂçïÊèí‰ª∂"><a href="#Âä®ÊÄÅË°®ÂçïÊèí‰ª∂" class="headerlink" title="Âä®ÊÄÅË°®ÂçïÊèí‰ª∂"></a>Âä®ÊÄÅË°®ÂçïÊèí‰ª∂</h2><h3 id="ÁªßÊâø‰ΩìÁ≥ª"><a href="#ÁªßÊâø‰ΩìÁ≥ª" class="headerlink" title="ÁªßÊâø‰ΩìÁ≥ª"></a>ÁªßÊâø‰ΩìÁ≥ª</h3><p>Êèí‰ª∂Âü∫Á±ªÂú®<code>Kingdee.BOS.Core.dll</code>‰∏≠„ÄÇ</p><div class="table-container"><table><thead><tr><th>È¢ÜÂüüÁ±ªÂûã</th><th>Âü∫Á±ª</th><th>ÂëΩÂêçÂèÇËÄÉ</th></tr></thead><tbody><tr><td>Âä®ÊÄÅË°®Âçï  ‚Äì  Áª¥Êä§</td><td>AbstractDynamicFormPlugIn</td><td>ExpressionEdit</td></tr><tr><td>‰∏öÂä°ÂçïÊçÆ  ‚Äì  Áª¥Êä§</td><td>AbstractBillPlugIn</td><td>PurchaseOrderEdit</td></tr><tr><td>‰∏öÂä°ÂçïÊçÆ ‚Äì ÂàóË°®</td><td>AbstractListPlugIn</td><td>PurchaseOrderList</td></tr><tr><td>Âü∫Á°ÄËµÑÊñô  ‚Äì  Áª¥Êä§</td><td>AbstractBasePlugIn</td><td>MaterialEdit</td></tr><tr><td>Âü∫Á°ÄËµÑÊñô  ‚Äì  ÂàóË°®</td><td>AbstractListPlugIn</td><td>MaterialList</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>‰∏öÂä°Ê®°Âûã</th><th>Á±ªÔºàÊèí‰ª∂Ôºâ</th><th>ÁªßÊâøËá™ÊäΩË±°Á±ª</th></tr></thead><tbody><tr><td>Ë°®ÂçïÊèí‰ª∂</td><td>ÂçïÊçÆÊèí‰ª∂</td><td>Kingdee.BOS.Core. Bill.PlugIn.AbstractBillPlugIn</td></tr><tr><td></td><td>Âü∫Á°ÄËµÑÊñôÊèí‰ª∂</td><td>Kingdee.BOS.Core.  Base.PlugIn.AbstractBasePlugIn</td></tr><tr><td></td><td>Âä®ÊÄÅË°®ÂçïÊèí‰ª∂</td><td>Kingdee.BOS.Core.  DynamicForm.PlugIn.AbstractDynamicFormPlugIn</td></tr><tr><td>ÂàóË°®Êèí‰ª∂</td><td>ÂàóË°®Êèí‰ª∂</td><td>Kingdee.BOS.Core.  List.PlugIn.AbstractListPlugIn</td></tr></tbody></table></div><h4 id="Âä®ÊÄÅË°®ÂçïÊèí‰ª∂-1"><a href="#Âä®ÊÄÅË°®ÂçïÊèí‰ª∂-1" class="headerlink" title="Âä®ÊÄÅË°®ÂçïÊèí‰ª∂"></a>Âä®ÊÄÅË°®ÂçïÊèí‰ª∂</h4><p>ÂëΩÂêçÁ©∫Èó¥<code>Kingdee.BOS.Core.DynamicForm.PlugIn</code>„ÄÇÊäΩË±°Á±ª<code>AbstractDynamicFormPlugIn</code></p><ul><li>Êé•Âè£<ul><li>IDynamicFormViewPlugIn</li><li>IDynamicFormModelPlugIn</li></ul></li><li>Âä†ËΩΩÊú∫Âà∂<ul><li>OnInitialize</li><li>CreateNewData / AfterCreateNewData</li><li>BeforeBindData / AfterBindData</li><li>BeforeClosed</li></ul></li><li>Ë°®ÂçïÊìç‰Ωú<ul><li>BeforeDoOperation / AfterDoOperation</li><li>BeforeF7Select / AfterF7Select</li><li>TabItemSelectedChange</li></ul></li><li>Ë°®Âçï‰∫ã‰ª∂<ul><li>BarItemClick</li><li>EntryBarItemClick</li><li>ToolBarItemClick</li><li>ButtonClick</li><li>EntityRowClick</li><li>EntityRowDoubleClick</li><li>EntryButtonCellClick</li></ul></li><li>Ê®°ÂûãËÆøÈóÆÊìç‰Ωú<ul><li>BeforeUpdateValue</li><li>BeforeDeleteRow</li><li>AfterDeleteRow</li></ul></li></ul><h4 id="ÂçïÊçÆÊèí‰ª∂ÔºàÁªßÊâøÂä®ÊÄÅË°®ÂçïÔºâ"><a href="#ÂçïÊçÆÊèí‰ª∂ÔºàÁªßÊâøÂä®ÊÄÅË°®ÂçïÔºâ" class="headerlink" title="ÂçïÊçÆÊèí‰ª∂ÔºàÁªßÊâøÂä®ÊÄÅË°®ÂçïÔºâ"></a>ÂçïÊçÆÊèí‰ª∂ÔºàÁªßÊâøÂä®ÊÄÅË°®ÂçïÔºâ</h4><ul><li>Êé•Âè£<ul><li>IBillViewPlugIn<ul><li>OnBillInitialize</li><li>ÂèÇÊï∞BillOpenParameter</li></ul></li><li>IBillModelPlugIn<ul><li>BeforeSave / AfterSave</li><li>BeforeSubmit / AfterSubmit</li></ul></li></ul></li></ul><h4 id="ÂàóË°®Êèí‰ª∂ÔºàÁªßÊâøÂä®ÊÄÅË°®ÂçïÔºâ"><a href="#ÂàóË°®Êèí‰ª∂ÔºàÁªßÊâøÂä®ÊÄÅË°®ÂçïÔºâ" class="headerlink" title="ÂàóË°®Êèí‰ª∂ÔºàÁªßÊâøÂä®ÊÄÅË°®ÂçïÔºâ"></a>ÂàóË°®Êèí‰ª∂ÔºàÁªßÊâøÂä®ÊÄÅË°®ÂçïÔºâ</h4><ul><li>Êé•Âè£<ul><li>IListViewPlugIn<ul><li>OnListInitialize</li><li>ÂèÇÊï∞ListOpenParameter</li></ul></li><li>AfterGetData</li><li>FormatCellValue</li><li>IListModelPlugIn<ul><li>PrepareFilterParameter</li><li>BatchCopyData</li></ul></li><li>IListFilterView</li><li>IListFilterModel</li></ul></li></ul><h4 id="ËøáÊª§Êù°‰ª∂Êèí‰ª∂"><a href="#ËøáÊª§Êù°‰ª∂Êèí‰ª∂" class="headerlink" title="ËøáÊª§Êù°‰ª∂Êèí‰ª∂"></a>ËøáÊª§Êù°‰ª∂Êèí‰ª∂</h4><ul><li>Êé•Âè£<ul><li>IListFilterView</li><li>IListFilterModel</li></ul></li><li><p>IListFilterModel</p><ul><li>FilterObject</li><li>QuickFilterObject</li><li>IsolationOrgId</li><li>GetFilterField</li></ul></li><li><p>‰∫ã‰ª∂</p><ul><li>OnParseSetting</li><li>FireBeforeBindFilterMetadata</li><li>FireBeforeSelectTreeNodeScheme</li></ul></li></ul><h3 id="Êèí‰ª∂ÂºÄÂèëÊ≠•È™§"><a href="#Êèí‰ª∂ÂºÄÂèëÊ≠•È™§" class="headerlink" title="Êèí‰ª∂ÂºÄÂèëÊ≠•È™§"></a>Êèí‰ª∂ÂºÄÂèëÊ≠•È™§</h3><ul><li><p>ÂÆö‰πâÊèí‰ª∂Á±ªÔºàÂèÇÁÖßÁªßÊâø‰ΩìÁ≥ªÔºâÔºõ</p></li><li><p>ÂàÜÊûê‰∏öÂä°ÂÆö‰πâÈáçËΩΩÊñπÊ≥ïÔºõ</p></li><li><p>ÂºïÁî®Áõ∏ÂÖ≥ÁªÑ‰ª∂ÔºàÂèÇÁÖßÁªÑ‰ª∂ÂºïÁî®ËßÑÂàôÔºâÔºõ</p></li><li><p>ÈáçËΩΩÊñπÊ≥ïÁºñÁ†ÅÔºõ</p></li><li><p>ËÆæÁΩÆÁºñËØëË∑ØÂæÑÔºåÁºñËØëÁªÑ‰ª∂Ôºõ</p></li><li><p>ÊâìÂºÄIDEËÆæËÆ°Âô®ÔºåÈÖçÁΩÆÊèí‰ª∂Ôºõ</p></li></ul><h2 id="Êèí‰ª∂Ê®°Âûã"><a href="#Êèí‰ª∂Ê®°Âûã" class="headerlink" title="Êèí‰ª∂Ê®°Âûã"></a>Êèí‰ª∂Ê®°Âûã</h2><h3 id="Êû∂ÊûÑÊ®°Âûã"><a href="#Êû∂ÊûÑÊ®°Âûã" class="headerlink" title="Êû∂ÊûÑÊ®°Âûã"></a>Êû∂ÊûÑÊ®°Âûã</h3><p><img src="http://image.chensh236.com/%E6%9E%84%E6%9E%B6%E5%9B%BE.png" srcset="/img/loading.gif" alt="ÊûÑÊû∂Âõæ"></p><h3 id="È¢ÜÂüüÊ®°Âûã"><a href="#È¢ÜÂüüÊ®°Âûã" class="headerlink" title="È¢ÜÂüüÊ®°Âûã"></a>È¢ÜÂüüÊ®°Âûã</h3><p><img src="http://image.chensh236.com/%E6%A8%A1%E5%9E%8B%E5%9B%BE.png" srcset="/img/loading.gif" alt="Ê®°ÂûãÂõæ"></p><h3 id="Âä®ÊÄÅË°®ÂçïËßÜÂõæ"><a href="#Âä®ÊÄÅË°®ÂçïËßÜÂõæ" class="headerlink" title="Âä®ÊÄÅË°®ÂçïËßÜÂõæ"></a>Âä®ÊÄÅË°®ÂçïËßÜÂõæ</h3><ul><li>ÁÆ°ÁêÜÁïåÈù¢Êéß‰ª∂Â§ñËßÇÂèäÊ†∑Âºè<ul><li>Ë°®ÂçïÂ§ñËßÇ</li><li>Êéß‰ª∂Â§ñËßÇ</li><li>Â≠óÊÆµÂ§ñËßÇ</li></ul></li><li>Êé•Âè£<ul><li>IDynamicFormView</li><li>IDynamicFormViewService</li></ul></li><li>2‰∏™ÈáçË¶ÅÁöÑÂ±ûÊÄß<ul><li>BusinessInfo</li><li>LayoutInfo</li></ul></li><li>ÁïåÈù¢ÂÖÉÁ¥†ËÆøÈóÆ<ul><li>ËÆøÈóÆËèúÂçï<ul><li>this.View.GetMainBarItem</li><li>this.View.GetBarItem</li></ul></li><li>ËÆøÈóÆÂ≠óÊÆµ<ul><li>this.View.GetFieldEditor</li><li>this.View.LockField</li><li>this.View.SetFormTitle</li></ul></li></ul></li><li>ÊâßË°åÊìç‰Ωú<ul><li>ShowForm</li><li>UpdateView</li><li>InvokeFieldUpdateService</li></ul></li></ul><h3 id="Âä®ÊÄÅË°®ÂçïÊ®°Âûã"><a href="#Âä®ÊÄÅË°®ÂçïÊ®°Âûã" class="headerlink" title="Âä®ÊÄÅË°®ÂçïÊ®°Âûã"></a>Âä®ÊÄÅË°®ÂçïÊ®°Âûã</h3><ul><li>ÁÆ°ÁêÜ‰∏öÂä°ÈÄªËæë‰∏é‰∏öÂä°ËßÑÂàô<ul><li>Ë°®ÂçïÊìç‰Ωú</li><li>Ë°®ÂçïÊúçÂä°</li><li>‰∏öÂä°ËßÑÂàô</li><li>Ê†°È™åÂô®</li></ul></li><li>Êé•Âè£<ul><li>IDynamicFormView</li><li>IDynamicFormModelService</li></ul></li><li>2‰∏™ÈáçË¶ÅÁöÑÂ±ûÊÄß<ul><li>BusinessInfo</li><li>DataObject</li></ul></li><li>Êï∞ÊçÆÊìç‰Ωú<ul><li>CreateNewData</li><li>CreateNewEntryRow</li><li>InsertEntryRow</li><li>GetEntryCurrentRowIndex</li><li>LoadReferenceData</li><li>GetValue</li><li>GetEntityDataObject</li></ul></li></ul><h2 id="ÊúçÂä°Êèí‰ª∂"><a href="#ÊúçÂä°Êèí‰ª∂" class="headerlink" title="ÊúçÂä°Êèí‰ª∂"></a>ÊúçÂä°Êèí‰ª∂</h2><p>ÂëΩÂêçÁ©∫Èó¥Ôºö<code>Kingdee.BOS.Core.DynamicForm.PlugIn</code></p><p>ÊäΩË±°Á±ªÔºö<code>AbstractOperationServicePlugIn</code></p><h3 id="ÁªßÊâø‰ΩìÁ≥ª-1"><a href="#ÁªßÊâø‰ΩìÁ≥ª-1" class="headerlink" title="ÁªßÊâø‰ΩìÁ≥ª"></a>ÁªßÊâø‰ΩìÁ≥ª</h3><div class="table-container"><table><thead><tr><th><strong>‰∏öÂä°Ê®°Âûã</strong></th><th><strong>ÁªßÊâøËá™ÊäΩË±°Á±ª</strong></th></tr></thead><tbody><tr><td><strong>ÊúçÂä°Êèí‰ª∂</strong></td><td>Kingdee.BOS.Core.DynamicForm.PlugIn.AbstractOperationServicePlugIn</td></tr></tbody></table></div><ul><li>Êé•Âè£<ul><li>IOperationServicePlugIn<ul><li>BeforeExecuteOperationTransaction</li><li>AfterExecuteOperationTransaction</li><li>BeginOperationTransaction</li><li>EndOperationTransaction</li></ul></li></ul></li><li>Ê†°È™åÊúçÂä°<ul><li>IOperationServicePlugIn<ul><li>OnAddValidators</li></ul></li><li>SaveValidator : AbstractValidator<ul><li>Validate</li></ul></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>ÈáëËù∂‰∫ë</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ERP</tag>
      
      <tag>ÈáëËù∂‰∫ëÊòüÁ©∫</tag>
      
      <tag>BOSËÆæËÆ°Âô®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ÈáëËù∂‰∫ëK3 CloudÂÆâË£Ö</title>
    <link href="/2020/07/22/%E9%87%91%E8%9D%B6%E4%BA%91K3-Cloud%E5%AE%89%E8%A3%85/"/>
    <url>/2020/07/22/%E9%87%91%E8%9D%B6%E4%BA%91K3-Cloud%E5%AE%89%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<h2 id="k3CloudÊú¨‰ΩìÂÆâË£Ö"><a href="#k3CloudÊú¨‰ΩìÂÆâË£Ö" class="headerlink" title="k3CloudÊú¨‰ΩìÂÆâË£Ö"></a>k3CloudÊú¨‰ΩìÂÆâË£Ö</h2><p>Ê†πÊçÆÈáëËù∂‰∫ëÂÆâË£ÖÊåáÂçóËøõË°åÂÆâË£Ö„ÄÇÂú®ÂÆâË£ÖÊó∂Windows10 Èô§‰∫ÜMSDTCÊ≤°ÊúâÊâìÂºÄÔºåÂÖ∂‰ΩôÂ∑≤ÁªèÊâìÂºÄÔºåËøôÈáåËÆ∞ÂΩïMSDTCÂú®<code>Windows 10 Pro</code>‰∏ãÁöÑÊâìÂºÄËøáÁ®ã„ÄÇ</p><p>Win + RÊâìÂºÄËøêË°åÔºåËæìÂÖ•dcomcnfgÊâìÂºÄÁªÑ‰ª∂ÊúçÂä°Á™óÂè£„ÄÇ‰πãÂêéÂú®ÁªÑ‰ª∂ÊúçÂä°-&gt;ËÆ°ÁÆóÊú∫-&gt;ÊàëÁöÑÁîµËÑë-&gt;Distributed Transaction Coordinators-&gt;Êú¨Âú∞DTC„ÄÇÊâìÂºÄÂ±ûÊÄßÔºåËøõÂÖ•ÂÆâÂÖ®TabÔºåÊâìÂºÄÁΩëÁªúDTCËÆøÈóÆÔºåÂÖÅËÆ∏Êú¨Âú∞„ÄÅËøúÁ®ã„ÄÅÂá∫Á´ô„ÄÅÂÖ•Á´ô„ÄÇ</p><h2 id="SQL-ServerÊúçÂä°"><a href="#SQL-ServerÊúçÂä°" class="headerlink" title="SQL ServerÊúçÂä°"></a>SQL ServerÊúçÂä°</h2><p><a href="https://go.microsoft.com/fwlink/?linkid=866662" target="_blank" rel="noopener">SQL Server Developer</a>ÊòØSQL ServerÁöÑÂÖ®ÂäüËÉΩÂÖçË¥πÁâàÊú¨ÔºåÈÄÇÁî®‰∫éÈùûÁîü‰∫ßÁéØÂ¢É„ÄÇÂè¶Â§ñÔºåÈúÄË¶ÅÂÆâË£Ö<code>SQL Server Management Studio(SSMS)</code>‰æø‰∫éÂØπ<code>SQL Server</code>ËøõË°åÁÆ°ÁêÜ„ÄÇ<a href="https://aka.ms/ssmsfullsetup" target="_blank" rel="noopener">SSMS‰∏ãËΩΩÂú∞ÂùÄ</a></p><p>ÂàõÂª∫Êï∞ÊçÆÂ∫ìÔºåÈªòËÆ§ÁöÑÁÆ°ÁêÜÂëòË¥¶Êà∑‰∏∫<code>sa</code>ÔºåÁôªÂΩïË∫´‰ªΩËÆ§ËØÅ‰ΩøÁî®<code>SQL Server</code>Ë∫´‰ªΩËÆ§ËØÅ„ÄÇËÆ©ÈáëËù∂‰∫ëËÉΩÊ≠£Â∏∏ËøûÊé•Êï∞ÊçÆÂ∫ìÁöÑÊ≠£Â∏∏‰ΩøÁî®ÔºåÈúÄË¶ÅÂàõÂª∫ÈùûÁÆ°ÁêÜÂëòË¥¶Êà∑ÔºåËøôÈáåËÆæÂÆö‰∏∫<code>kingdee</code>„ÄÇÂÜçÂØπË±°ËµÑÊ∫êÁÆ°ÁêÜÂô®-&gt;ÂÆâÂÖ®ÊÄß-&gt;ÁôªÂΩïÂêç‰∏≠Ê∑ªÂä†ÔºåÂπ∂Ê∑ªÂä†Áî®Êà∑ÂêçÁöÑËßíËâ≤„ÄÇ</p><h2 id="ÈáëËù∂‰∫ëÊòüÁ©∫ÁÆ°ÁêÜ‰∏≠ÂøÉ"><a href="#ÈáëËù∂‰∫ëÊòüÁ©∫ÁÆ°ÁêÜ‰∏≠ÂøÉ" class="headerlink" title="ÈáëËù∂‰∫ëÊòüÁ©∫ÁÆ°ÁêÜ‰∏≠ÂøÉ"></a>ÈáëËù∂‰∫ëÊòüÁ©∫ÁÆ°ÁêÜ‰∏≠ÂøÉ</h2><p>ÈªòËÆ§Áî®Êà∑Âêç<code>Administrator</code>ÔºåÂØÜÁ†Å<code>888888</code>„ÄÇÈúÄË¶ÅÂàõÂª∫Êï∞ÊçÆ‰∏≠ÂøÉÔºåÂàõÂª∫Êó∂ÈúÄË¶ÅÈîÆÂÖ•SQL ServerÁöÑÁÆ°ÁêÜÂëò‰ª•ÂèäÊï∞ÊçÆÂ∫ìÁî®Êà∑ÁöÑÁî®Êà∑ÂêçÂØÜÁ†Å„ÄÇÂêåÊó∂ÂàõÂª∫Êó•Âøó‰∏≠ÂøÉ„ÄÇÁ≠âÂæÖÊï∞ÊçÆ‰∏≠ÂøÉÂàõÂª∫ÂêéÂèØ‰ª•ÈÄöËøáWebÊàñËÄÖClientÁ´ØÁôªÈôÜÈáëËù∂‰∫ëÊòüÁ©∫„ÄÇËøôÈáåÁöÑÂú∞ÂùÄ‰∏∫<a href="http://desktop-cudfdln/K3Cloud" target="_blank" rel="noopener">WebÂú∞ÂùÄ</a>„ÄÇÊ≥®ÊÑèÔºöÂ§öÊ¨°Âá∫Áé∞ËØ≠Ë®ÄÊú™Âä†ËΩΩ/Ëé∑ÂèñËØ≠Ë®ÄÂ§±Ë¥•ÁöÑÊÉÖÂÜµ„ÄÇÁôªÂΩïÁÆ°ÁêÜ‰∏≠ÂøÉÂêéÂØπÊï∞ÊçÆ‰∏≠ÂøÉËøõË°åËØ≠Ë®ÄËÆæÁΩÆÂç≥ÂèØËß£ÂÜ≥„ÄÇÁîµËÑëÈáçÂêØÂêéÂèØËÉΩÂ∞±‰ºöÂá∫Áé∞„ÄÇ</p><p>Âç†Áî®ÂÜÖÂ≠òËøáÂ§ßÈóÆÈ¢òÔºü</p><h2 id="BOSËÆæËÆ°Âô®ÂÆâË£Ö"><a href="#BOSËÆæËÆ°Âô®ÂÆâË£Ö" class="headerlink" title="BOSËÆæËÆ°Âô®ÂÆâË£Ö"></a>BOSËÆæËÆ°Âô®ÂÆâË£Ö</h2><p>Âú®WebÁ´ØÁöÑ‰∏ãËΩΩ‰∏≠ÂøÉÂç≥ÂèØ‰∏ãËΩΩClientÁ´Ø‰ª•ÂèäBOSËÆæËÆ°Âô®„ÄÅBOSÂ•óÊâìËÆæËÆ°Âô®„ÄÇËÆæËÆ°Âô®ÈÄöËøáÂú®Á∫øË¥¶Êà∑ÁôªÂΩï„ÄÇ</p>]]></content>
    
    
    <categories>
      
      <category>ÈáëËù∂‰∫ë</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ERP</tag>
      
      <tag>ÈáëËù∂‰∫ëÊòüÁ©∫</tag>
      
      <tag>ÈÖçÁΩÆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PytorchÂ≠¶‰π†Á¨îËÆ∞ÔºötorchÁöÑ‰ΩøÁî®</title>
    <link href="/2020/07/16/Pytorch%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%9Atorch%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2020/07/16/Pytorch%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%9Atorch%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="PytorchÂ≠¶‰π†ÔºöTensorÁöÑ‰ΩøÁî®"><a href="#PytorchÂ≠¶‰π†ÔºöTensorÁöÑ‰ΩøÁî®" class="headerlink" title="PytorchÂ≠¶‰π†ÔºöTensorÁöÑ‰ΩøÁî®"></a>PytorchÂ≠¶‰π†ÔºöTensorÁöÑ‰ΩøÁî®</h1><p>Ref: <a href="https://zhuanlan.zhihu.com/p/67184419" target="_blank" rel="noopener">Áü•‰πé‰∏ìÊ†è</a> <a href="https://zhuanlan.zhihu.com/p/69294347" target="_blank" rel="noopener">Áü•‰πé‰∏ìÊ†è</a></p><h2 id="Requires-grad"><a href="#Requires-grad" class="headerlink" title="Requires_grad"></a>Requires_grad</h2><p>Â¶ÇÊûúÂØπtensorÊó†ÁâπÊÆäÁöÑÊåáÂÆöÈúÄÊ±ÇÔºå‰∏çÈúÄË¶ÅÊ±ÇÂØºÔºåÈÄöËøá<code>tensor.requires_grad</code>Ê£ÄÊü•Âº†ÈáèÊòØÂê¶ÈúÄË¶ÅÊ±ÇÂØº„ÄÇÂ¶ÇÊûúËæìÂÖ•‰∏≠ÊúâÈúÄË¶ÅÊ±ÇÂØºÁöÑÔºåÂàôËæìÂá∫ÈúÄË¶ÅÊ±ÇÂØº„ÄÇÂΩìÊâÄÊúâÁöÑËæìÂÖ•ÈÉΩ‰∏çÈúÄË¶ÅÊ±ÇÂØºÁöÑÊó∂ÂÄôËæìÂá∫Êâç‰∏çÈúÄË¶ÅÊ±ÇÂØº„ÄÇ</p><p>Â¶ÇÊûúËÆæÁΩÆÂèÇÊï∞ÁöÑÂØºÊï∞‰∏∫falseÔºåÂç≥<code>param.requires_grad = False</code>ÔºåÂèØ‰ª•ÂÜªÁªìÈÉ®ÂàÜÁΩëÁªúÔºåËÆ©Ëøô‰∫õÂ±ÇÊï∞‰∏çÂÜçÊõ¥Êñ∞„ÄÇ</p><pre><code class="lang-python">input = torch.randn(8, 3, 50, 100)print(input.requires_grad)# Falsenet = nn.Sequential(nn.Conv2d(3, 16, 3, 1),                    nn.Conv2d(16, 32, 3, 1))for param in net.named_parameters():    param[1].requires_grad = False    print(param[0], param[1].requires_grad)# 0.weight False# 0.bias False# 1.weight False# 1.bias Falseoutput = net(input)print(output.requires_grad)# False</code></pre><h2 id="torch-no-grad"><a href="#torch-no-grad" class="headerlink" title="torch.no_grad()"></a>torch.no_grad()</h2><p>ÈÄöËøá<code>with torch.no_grad()</code>ËææÂà∞ÊöÇÊó∂‰∏çËøΩË∏™ÁΩëÁªúÂèÇÊï∞‰∏≠ÂØºÊï∞ÁöÑÁõÆÁöÑÔºåÂáèÂ∞ëËÆ°ÁÆóÂíåÂÜÖÂ≠òÊ∂àËÄó„ÄÇ</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p><code>x.view(x.size(0), -1)</code> =&gt; reshape</p><p><code>[weight].grad</code>Ëé∑ÂæóÂØºÊï∞</p><p><code>tensor.data</code>Ëé∑ÂæótensorÊï∞ÊçÆ</p><p><code>tensor.detach()</code>‰ºöËá™Âä®Ê±ÇÂØºÁ≥ªÁªüËøΩË∏™ÔºåÂ≠òÂÇ®Á©∫Èó¥ÊòØÂÖ±‰∫´ÁöÑ„ÄÇ</p><p><code>device</code>ÂáèÂ∞ë<code>if</code>ËØ≠Âè•ÁöÑ‰ΩøÁî®„ÄÇ</p><pre><code class="lang-python">device = torch.device(&quot;cuda&quot;) if torch.cuda.is_available() else torch.device(&quot;cpu&quot;)a = torch.rand([3,3]).to(device)# Âπ≤ÂÖ∂‰ªñÁöÑÊ¥ªb = torch.rand([3,3]).to(device)# Âπ≤ÂÖ∂‰ªñÁöÑÊ¥ªc = torch.rand([3,3]).to(device)</code></pre><p>tensor-&gt;numpy = tensor-&gt;detach-&gt;numpy</p><pre><code class="lang-python">x  = torch.rand([3,3], device=&#39;cuda&#39;)x_ = x.cpu().numpy()y  = torch.rand([3,3], requires_grad=True, device=&#39;cuda&#39;).y_ = y.cpu().detach().numpy()# y_ = y.detach().cpu().numpy() ‰πüÂèØ‰ª•# ‰∫åËÄÖÂ•ΩÂÉèÂ∑ÆÂà´‰∏çÂ§ßÔºüÊàë‰ª¨Êù•ÊØîÊØîÊó∂Èó¥Ôºöstart_t = time.time()for i in range(10000):    y_ = y.cpu().detach().numpy()print(time.time() - start_t)# 1.1049120426177979start_t = time.time()for i in range(10000):    y_ = y.detach().cpu().numpy()print(time.time() - start_t)# 1.115112543106079# Êó∂Èó¥Â∑ÆÂà´‰∏çÊòØÂæàÂ§ßÔºåÂΩìÁÑ∂ÔºåËøô‰∏™ÈÄüÂ∫¶Â∑ÆÂà´ÂèØËÉΩÂíåÁîµËÑëÈÖçÁΩÆ# ÔºàÊØîÂ¶Ç GPU ÂæàË¥µÔºåCPU Âç¥ÂæàÁÉÇÔºâÊúâÂÖ≥„ÄÇ</code></pre><p>Êàë‰ª¨Âú®ÊèêÂèñ loss ÁöÑÁ∫ØÊï∞ÂÄºÁöÑÊó∂ÂÄôÔºåÂ∏∏Â∏∏‰ºöÁî®Âà∞ <code>loss.item()</code>ÔºåÂÖ∂ËøîÂõûÂÄºÊòØ‰∏Ä‰∏™ Python Êï∞ÂÄº (python number)„ÄÇ‰∏çÂÉè‰ªé tensor ËΩ¨Âà∞ numpy (ÈúÄË¶ÅËÄÉËôë tensor ÊòØÂú® cpuÔºåËøòÊòØ gpuÔºåÈúÄ‰∏çÈúÄË¶ÅÊ±ÇÂØº)ÔºåÊó†ËÆ∫‰ªÄ‰πàÊÉÖÂÜµÔºåÈÉΩÁõ¥Êé•‰ΩøÁî® <code>item()</code> Â∞±ÂÆå‰∫ã‰∫Ü„ÄÇÂ¶ÇÊûúÈúÄË¶Å‰ªé gpu ËΩ¨Âà∞ cpu ÁöÑËØùÔºåPyTorch ‰ºöËá™Âä®Â∏Æ‰Ω†Â§ÑÁêÜ„ÄÇ</p><p>‰ΩÜÊ≥®ÊÑè <code>item()</code> Âè™ÈÄÇÁî®‰∫é tensor Âè™ÂåÖÂê´‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÊó∂ÂÄô„ÄÇÂõ†‰∏∫Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÊàë‰ª¨ÁöÑ loss Â∞±Âè™Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÊâÄ‰ª•Â∞±ÁªèÂ∏∏‰ºöÁî®Âà∞ <code>loss.item()</code>„ÄÇÂ¶ÇÊûúÊÉ≥ÊääÂê´Â§ö‰∏™ÂÖÉÁ¥†ÁöÑ tensor ËΩ¨Êç¢Êàê Python list ÁöÑËØùÔºåË¶Å‰ΩøÁî® <code>tensor.tolist()</code>„ÄÇ</p><pre><code class="lang-python">x  = torch.randn(1, requires_grad=True, device=&#39;cuda&#39;)print(x)# tensor([-0.4717], device=&#39;cuda:0&#39;, requires_grad=True)y = x.item()print(y, type(y))# -0.4717346727848053 &lt;class &#39;float&#39;&gt;x = torch.randn([2, 2])y = x.tolist()print(y)# [[-1.3069953918457031, -0.2710231840610504], [-1.26217520236969, 0.5559719800949097]</code></pre><h2 id="Âè∂Â≠êÂº†Èáè"><a href="#Âè∂Â≠êÂº†Èáè" class="headerlink" title="Âè∂Â≠êÂº†Èáè"></a>Âè∂Â≠êÂº†Èáè</h2><p>‰ΩøÁî®<code>tensor.is_leaf</code>Âà§Êñ≠ÊòØÂê¶ÊòØÂè∂Â≠êÂº†ÈáèÔºåÂú®ÂèçÂêë‰º†Êí≠‰∏≠ÔºåÂè™Êúâ<code>is_leaf = True</code>ÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÊ±ÇÂØºÁöÑÂº†ÈáèÊâç‰ºöË¢´‰øùÁïô‰∏ãÊù•„ÄÇÂº†ÈáèË¢´Áî®Êà∑ÂàõÂª∫Êó∂ÔºåËÆæÁΩÆ<code>requires_grad = True</code>ÔºåÂÆÉÊòØ‰∏Ä‰∏™Âè∂Â≠êËäÇÁÇπÔºåÂ¶ÇÊûúÂÆÉÁî±ÂÖ∂‰ªñËøêÁÆóÊìç‰Ωú‰∫ßÁîüÔºåÂÆÉÂ∞±‰∏çÊòØ‰∏Ä‰∏™Âè∂Â≠êËäÇÁÇπ„ÄÇ<code>tensor.retain_grad()</code>‰øùÁïô‰∏≠Èó¥ÂèòÈáèÁöÑÂØºÊï∞„ÄÇÂ¶ÇÊûú‰ªÖÈúÄË¶ÅËæìÂá∫ÂèØ‰ª•‰ΩøÁî®<code>tensor.register_hook(lambda grad: print(&#39;xx grad:&#39;, grad))</code></p><h2 id="inplace"><a href="#inplace" class="headerlink" title="inplace"></a>inplace</h2><p>‰∏çÊîπÂèòÂèòÈáèÂÜÖÂ≠òÂú∞ÂùÄÁöÑÊÉÖÂÜµ‰∏ãÊîπÂèòÂÄº„ÄÇ</p><pre><code class="lang-python"># Êàë‰ª¨Ë¶ÅÁî®Âà∞ id() Ëøô‰∏™ÂáΩÊï∞ÔºåÂÖ∂ËøîÂõûÂÄºÊòØÂØπË±°ÁöÑÂÜÖÂ≠òÂú∞ÂùÄ# ÊÉÖÊôØ 1a = torch.tensor([3.0, 1.0])print(id(a)) # 2112716404344a = a.exp()print(id(a)) # 2112715008904# Âú®Ëøô‰∏™ËøáÁ®ã‰∏≠ a.exp() ÁîüÊàê‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂØπË±°ÔºåÁÑ∂ÂêéÂÜçËÆ© a# ÊåáÂêëÂÆÉÁöÑÂú∞ÂùÄÔºåÊâÄ‰ª•Ëøô‰∏çÊòØ‰∏™ inplace Êìç‰Ωú# ÊÉÖÊôØ 2a = torch.tensor([3.0, 1.0])print(id(a)) # 2112716403840a[0] = 10print(id(a), a) # 2112716403840 tensor([10.,  1.])# inplace Êìç‰ΩúÔºåÂÜÖÂ≠òÂú∞ÂùÄÊ≤°Âèò</code></pre><p>pytorchÈÄöËøá<code>tensor._version</code>Ê£ÄÊµãÊòØÂê¶ÂèëÁîü‰∫Üinplace„ÄÇ</p><h2 id="‰øÆÊîπÂè∂Â≠êËäÇÁÇπ"><a href="#‰øÆÊîπÂè∂Â≠êËäÇÁÇπ" class="headerlink" title="‰øÆÊîπÂè∂Â≠êËäÇÁÇπ"></a>‰øÆÊîπÂè∂Â≠êËäÇÁÇπ</h2><pre><code class="lang-python"># ÊñπÊ≥ï‰∏Äa = torch.tensor([10., 5., 2., 3.], requires_grad=True)print(a, a.is_leaf, id(a))# tensor([10.,  5.,  2.,  3.], requires_grad=True) True 2501274822696a.data.fill_(10.)# ÊàñËÄÖ a.detach().fill_(10.)print(a, a.is_leaf, id(a))# tensor([10., 10., 10., 10.], requires_grad=True) True 2501274822696loss = (a*a).mean()loss.backward()print(a.grad)# tensor([5., 5., 5., 5.])# ÊñπÊ≥ï‰∫åa = torch.tensor([10., 5., 2., 3.], requires_grad=True)print(a, a.is_leaf)# tensor([10.,  5.,  2.,  3.], requires_grad=True) Truewith torch.no_grad():    a[:] = 10.print(a, a.is_leaf)# tensor([10., 10., 10., 10.], requires_grad=True) Trueloss = (a*a).mean()loss.backward()print(a.grad)# tensor([5., 5., 5., 5.])</code></pre>]]></content>
    
    
    <categories>
      
      <category>PyTorchÂ≠¶‰π†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PyTorch</tag>
      
      <tag>torch‰ΩøÁî®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Âº∫ÂåñÂ≠¶‰π†Á¨îËÆ∞ - Chapter2</title>
    <link href="/2020/07/15/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Chapter2/"/>
    <url>/2020/07/15/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-Chapter2/</url>
    
    <content type="html"><![CDATA[<h1 id="Chapter-2-Â§öËáÇËµåÂçöÊú∫"><a href="#Chapter-2-Â§öËáÇËµåÂçöÊú∫" class="headerlink" title="Chapter 2 Â§öËáÇËµåÂçöÊú∫"></a>Chapter 2 Â§öËáÇËµåÂçöÊú∫</h1><h2 id="kËáÇËµåÂçöÊú∫ÈóÆÈ¢ò"><a href="#kËáÇËµåÂçöÊú∫ÈóÆÈ¢ò" class="headerlink" title="kËáÇËµåÂçöÊú∫ÈóÆÈ¢ò"></a>kËáÇËµåÂçöÊú∫ÈóÆÈ¢ò</h2><p>kËáÇËµåÂçöÊú∫Êúâk‰∏™ÊéßÂà∂ÊùÜÔºåÈúÄË¶ÅÂ≠¶‰ºöÂ∞ÜÂä®‰ΩúÈõÜ‰∏≠Âà∞ÊúÄÂ•ΩÁöÑÊéßÂà∂ÊùÜ‰∏ä„ÄÇÈáçÂ§çÂú®k‰∏™ÈÄâÈ°πÊàñÂä®‰Ωú‰∏≠ÂÅöÂá∫ÈÄâÊã©ÔºåÂÅöÂá∫ÈÄâÊã©ÂêéÂæóÂà∞‰∏ÄÂÆöÊï∞ÂÄºÁöÑÊî∂ÁõäÔºåÊî∂ÁõäÁî±Âä®‰ΩúÂÜ≥ÂÆöÁöÑ<strong>Âπ≥Á®≥Ê¶ÇÁéá</strong>ÂàÜÂ∏É‰∫ßÁîü„ÄÇ</p><p>ÁõÆÊ†áÔºöÊúÄÂ§ßÂåñ‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÁöÑÊÄªÊî∂Áõä„ÄÇ</p><p>‰ªªÊÑèÂä®‰ΩúaÂØπÂ∫îÁöÑ‰ª∑ÂÄº‰∏∫$q_*(a) $ÔºåÊòØÁªôÂÆöÂä®‰ΩúaÊó∂ÁöÑÊî∂ÁõäÊúüÊúõÔºö</p><script type="math/tex; mode=display">q_*(a)\doteq E[R_t | A_t = a]</script><p>Âä®‰ΩúaÂú®Êó∂ÂàªtÁöÑ‰ª∑ÂÄº$Q<em>t(a)$Â∏åÊúõÊé•Ëøë$q</em>*(a)$„ÄÇ</p><p>ËÆ≤ÂØπÂ∫îÊúÄÈ´ò‰º∞ËÆ°‰ª∑ÂÄºÁöÑÂä®‰ΩúÊàê‰∏∫Ë¥™ÂøÉ(greedy)Âä®‰Ωú„ÄÇÈÄâÊã©Ë¥™ÂøÉÁöÑÂä®‰Ωú‰∏∫ËØïÊé¢(exploration)ÔºåÈùûË¥™ÂøÉÁöÑÂä®‰Ωú‰∏∫ÂºÄÂèë(exploitation)„ÄÇ</p><h2 id="Âä®‰Ωú-‰ª∑ÂÄºÊñπÊ≥ï"><a href="#Âä®‰Ωú-‰ª∑ÂÄºÊñπÊ≥ï" class="headerlink" title="Âä®‰Ωú-‰ª∑ÂÄºÊñπÊ≥ï"></a>Âä®‰Ωú-‰ª∑ÂÄºÊñπÊ≥ï</h2><p>Âä®‰ΩúÁöÑ‰ª∑ÂÄºÁöÑÁúüÂÆûÂÄºÊòØÈÄâÊã©Ëøô‰∏™Âä®‰ΩúÁöÑÊúüÊúõÊî∂Áõä</p><script type="math/tex; mode=display">Q_t(a)\doteq \frac{\sum_{i = 1}^{t - 1} R_i  \cdot  1_{A_i = a}} {\sum_{i = 1}^{t - 1}1_{A_i = a}}</script><p>tÊó∂ÂàªÂâçÈÄöËøáÊâßË°åÂä®‰ΩúaÂæóÂà∞ÁöÑÊî∂ÁõäÊÄªÂíå / ÊâßË°åÊ¨°Êï∞„ÄÇÂ§ßÊï∞ÂÆöÁêÜÔºö$Q<em>t(a) -&gt; q</em>*(a)$</p><p>Ë¥™ÂøÉÂä®‰ΩúÈÄâÊã©Ôºö</p><script type="math/tex; mode=display">A_t \doteq argmax_a Q_t(a)</script><p>$\epsilon-greedy$ Â§ßÈÉ®ÂàÜÊó∂Èó¥Ë¥™ÂøÉÔºåÂÅ∂Â∞îÁã¨Á´ã‰∫éÂä®‰Ωú-‰ª∑ÂÄº‰º∞ËÆ°ÊñπÊ≥ï‰ªéÊâÄÊúâÂä®‰Ωú‰∏≠Á≠âÊ¶ÇÁéáÂÅöÂá∫ÈÄâÊã©„ÄÇ</p><h2 id="Â¢ûÈáèÂºèÂÆûÁé∞"><a href="#Â¢ûÈáèÂºèÂÆûÁé∞" class="headerlink" title="Â¢ûÈáèÂºèÂÆûÁé∞"></a>Â¢ûÈáèÂºèÂÆûÁé∞</h2><p>Âä®‰Ωú-‰ª∑ÂÄºÊñπÊ≥ïÊääÂä®‰Ωú‰ª∑ÂÄº‰Ωú‰∏∫ËßÇÊµãÂà∞ÁöÑÊî∂ÁõäÁöÑÊ†∑Êú¨ÂùáÂÄºÊù•‰º∞ËÆ°„ÄÇÈÄöËøáÂ¢ûÈáèÂºèÂÆûÁé∞È´òÊïàËÆ°ÁÆóÂùáÂÄº„ÄÇÊüê‰∏™Âä®‰ΩúË¢´ÈÄâÊã©n-1Ê¨°‰πãÂêéÁöÑÂä®‰Ωú‰ª∑ÂÄº‰∏∫Ôºö</p><script type="math/tex; mode=display">Q_n \doteq \frac{R_1 + R2 + ... + R_{n - 1}}{n-1}</script><p><img src="https://ftp.bmp.ovh/imgs/2020/07/2e638d7c1123f4fc.png" srcset="/img/loading.gif" alt=""></p><p>ÂèÇÊï∞Êõ¥Êñ∞ÔºöÊñ∞‰º∞ËÆ°ÂÄº&lt;-Êóß‰º∞ËÆ°ÂÄº+Ê≠•Èïøx[ÁõÆÊ†á-Êóß‰º∞ËÆ°ÂÄº]</p><p>Â§ÑÁêÜÂä®‰ΩúaÁöÑÁ¨¨n‰∏™Êî∂Áõä‰ΩøÁî®ÁöÑÊ≠•Èïø$\frac{1}{n}$ÔºåËÆ∞‰∏∫$\alpha$„ÄÇ</p><h2 id="ÈùûÂπ≥Á®≥ÈóÆÈ¢ò"><a href="#ÈùûÂπ≥Á®≥ÈóÆÈ¢ò" class="headerlink" title="ÈùûÂπ≥Á®≥ÈóÆÈ¢ò"></a>ÈùûÂπ≥Á®≥ÈóÆÈ¢ò</h2><p>ÂèñÂπ≥ÂùáÁöÑÊñπÊ≥ïÂØπ‰∫éÂπ≥Á®≥ÈóÆÈ¢òÈÄÇÂêàÔºå‰ΩÜÊî∂ÁõäÁöÑÊ¶ÇÁéáÈöèÁùÄÊó∂Èó¥ÂèòÂåñËÄåÂèòÂåñÔºå‰ΩøÁî®Âõ∫ÂÆöÊ≠•ÈïøÂØπÊî∂ÁõäÂùáÂÄº$Q_n$Â¢ûÈáèÊõ¥Êñ∞Ôºö</p><script type="math/tex; mode=display">Q_{n+1} \doteq Q_n + \alpha [R_n - Q_n]</script><p>Êé®ÂØºÔºö</p><p><img src="https://ftp.bmp.ovh/imgs/2020/07/40d5220b2b9dac81.png" srcset="/img/loading.gif" alt="c202"></p><p>$Q_{n + 1}$Êàê‰∏∫ÂØπËøáÂéªÊî∂ÁõäÂíåÂàùÂßãÁöÑ‰º∞ËÆ°$Q_1$ÁöÑÂä†ÊùÉÂπ≥Âùá„ÄÇÊùÉÈáçÂÄº‰ª•ÊåáÊï∞ÂΩ¢ÂºèÈÄíÂáèÔºåÊåáÊï∞ËøëÂõ†Âä†ÊùÉÂπ≥Âùá(exponential recency-weighted average)</p><h2 id="‰πêËßÇ-Optimistic-ÁöÑÂàùÂßãÂÄº"><a href="#‰πêËßÇ-Optimistic-ÁöÑÂàùÂßãÂÄº" class="headerlink" title="‰πêËßÇ(Optimistic)ÁöÑÂàùÂßãÂÄº"></a>‰πêËßÇ(Optimistic)ÁöÑÂàùÂßãÂÄº</h2><p>ÂâçÈù¢ÁöÑQÂÄºËÆ°ÁÆóÊñπÊ≥ï‰æùËµñ$Q_1$ÔºåÂØπ‰∫éÈááÊ†∑Âπ≥ÂùáÊ≥ï(sample-average)ÔºåÂä®‰Ωú-‰ª∑ÂÄºÊñπÊ≥ï,ÂΩìÊâÄÊúâÂä®‰ΩúËá≥Â∞ëÈÄâÊã©‰∏ÄÊ¨°ÂàôÊ∂àÂ§±„ÄÇÂØπ‰∫éaÊòØÂ∏∏Êï∞È°πÁöÑÊÉÖÂÜµÔºåÂÅèÂ∑ÆÈöèÊó∂Èó¥ÈÄêÊ∏êÂáèÂ∞èÔºåÂπ∂‰∏ç‰ºöÊ∂àÂ§±„ÄÇ$Q_1$ÂèØ‰ª•‰Ωú‰∏∫Ë∂ÖÂèÇÊï∞ÔºàÂÖàÈ™åÁü•ËØÜÔºâ„ÄÇ$Q_1$ËøáÂ§ß-&gt;ËøáÂ∫¶‰πêËßÇÁöÑ‰º∞ËÆ°ÔºåÂõ†‰∏∫Êó†ËÆ∫Âì™‰∏™Âä®‰ΩúÊî∂ÁõäÈÉΩÊØîÂéüÊù•ÁöÑÂ∞èÔºåÂÄæÂêë‰∫é‰ΩøÁî®ÂÖ∂‰ªñÂä®‰Ωú„ÄÇ</p><h2 id="UCB-ÁΩÆ‰ø°Â∫¶‰∏äÁïåÁöÑÂä®‰ΩúÈÄâÊã©"><a href="#UCB-ÁΩÆ‰ø°Â∫¶‰∏äÁïåÁöÑÂä®‰ΩúÈÄâÊã©" class="headerlink" title="UCB ÁΩÆ‰ø°Â∫¶‰∏äÁïåÁöÑÂä®‰ΩúÈÄâÊã©"></a>UCB ÁΩÆ‰ø°Â∫¶‰∏äÁïåÁöÑÂä®‰ΩúÈÄâÊã©</h2><script type="math/tex; mode=display">A_t \doteq argmax_a [Q_t(a) + c\sqrt{\frac{ln t}{N_t(a)}}]</script><p>c &gt; 0, $N_t(a)$Ë°®Á§∫Âú®t‰πãÂâçÂä®‰ΩúaË¢´ÈÄâÊã©ÁöÑÊ¨°Êï∞„ÄÇÁÆÄÂçïÂπ≥Á®≥ÈóÆÈ¢òÂèØ‰ª•ÊèêÂçáÊÄßËÉΩÔºåÂ§çÊùÇÈùûÂπ≥Á®≥ÈóÆÈ¢ò‰∏çÂèØÁî®ÔºàÂ§ÑÁêÜÂ§ßÁöÑÁä∂ÊÄÅÁ©∫Èó¥Ôºâ„ÄÇ</p><h2 id="Ê¢ØÂ∫¶ËµåÂçöÊú∫ÁÆóÊ≥ï"><a href="#Ê¢ØÂ∫¶ËµåÂçöÊú∫ÁÆóÊ≥ï" class="headerlink" title="Ê¢ØÂ∫¶ËµåÂçöÊú∫ÁÆóÊ≥ï"></a>Ê¢ØÂ∫¶ËµåÂçöÊú∫ÁÆóÊ≥ï</h2><p>ÂºïÂÖ•Êï∞ÂÄºÂåñÂÅèÂ•ΩÂáΩÊï∞(preference)$H_t$</p><script type="math/tex; mode=display">Pr\{A_{t} = a\} = \frac{e^{H_t(a)}}{\sum_{b=1}^{k}e^{H_t(b)}} = \pi_t{a}</script><p>$\pi_t(a)$Ë°®Á§∫Âä®‰ΩúaÂú®tÊó∂ÂàªË¢´ÈÄâÊã©ÁöÑÊ¶ÇÁéá„ÄÇ</p><script type="math/tex; mode=display">H_{t+1}(a) = H_{t}(a) - \alpha(R_t - \bar{R_t})(1-\pi_t(a))</script><p>$\bar{R_t}$: tÊó∂ÂàªÂÜÖÊî∂ÁõäÁöÑÂπ≥ÂùáÂÄºÔºå‰Ωú‰∏∫Âü∫ÂáÜÊî∂ÁõäÔºåÂ¶ÇÊûúÈ´ò‰∫éÂÆÉÔºåÈÄâÊã©ËØ•Âä®‰ΩúÊ¶ÇÁéáÂ¢ûÂä†„ÄÇ</p>]]></content>
    
    
    
    <tags>
      
      <tag>Âº∫ÂåñÂ≠¶‰π†</tag>
      
      <tag>Á¨¨‰∫åÁ´†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu18.04ÈÖçÁΩÆ</title>
    <link href="/2020/07/13/Ubuntu18-04%E9%85%8D%E7%BD%AE/"/>
    <url>/2020/07/13/Ubuntu18-04%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="TpoyraÂÆâË£Ö"><a href="#TpoyraÂÆâË£Ö" class="headerlink" title="TpoyraÂÆâË£Ö"></a>TpoyraÂÆâË£Ö</h2><pre><code>$ sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys BA300B7755AFCFAE$ sudo add-apt-repository &#39;deb http://typora.io linux/&#39;$ sudo apt-get update$ sudo apt-get install typora</code></pre><h2 id="KXSW"><a href="#KXSW" class="headerlink" title="KXSW"></a>KXSW</h2><p><code>bash &lt;(curl -s -L http://dl.thinker.ink/install.sh)</code></p><h2 id="deep-in-containerÂÆâË£Ö"><a href="#deep-in-containerÂÆâË£Ö" class="headerlink" title="deep-in-containerÂÆâË£Ö"></a>deep-in-containerÂÆâË£Ö</h2><p><a href="https://link.zhihu.com/?target=https%3A//github.com/wszqkzqk/deepin-wine-ubuntu">Deepin wine Buntu</a></p><p><a href="https://link.zhihu.com/?target=https%3A//github.com/wszqkzqk/deepin-wine-containers-for-ubuntu">Deepin wine containers for Ubuntu</a></p><h2 id="Êç¢Ê∫ê"><a href="#Êç¢Ê∫ê" class="headerlink" title="Êç¢Ê∫ê"></a>Êç¢Ê∫ê</h2><p>Âú®Ubuntu18.04‰∏≠ÔºåÂèØ‰ª•ÈÄöËøá‚ÄúËΩØ‰ª∂ÂíåÊõ¥Êñ∞‚Äù‰∏≠‰øÆÊîπÊ∫ê„ÄÇ</p><p>Âè¶Â§ñ‰πüÂèØ‰ª•ÈÄöËøá‰øÆÊîπ<code>vim /etc/apt/source.list</code>Êñá‰ª∂ÔºåÂπ∂ÊâßË°åÔºö</p><pre><code>$ sudo apt-get update$ sudo apt-get upgrade</code></pre><p>ÂÆûÁé∞Ê∫êÁöÑÊõ¥Êñ∞„ÄÇ</p><pre><code>deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</code></pre><h2 id="figletÔºàÁªàÁ´Ø‰∏ãÁöÑËâ∫ÊúØÂ≠óÔºâ"><a href="#figletÔºàÁªàÁ´Ø‰∏ãÁöÑËâ∫ÊúØÂ≠óÔºâ" class="headerlink" title="figletÔºàÁªàÁ´Ø‰∏ãÁöÑËâ∫ÊúØÂ≠óÔºâ"></a>figletÔºàÁªàÁ´Ø‰∏ãÁöÑËâ∫ÊúØÂ≠óÔºâ</h2><pre><code>$ sudo apt-get install figlet$ echo chensh236 | figlet</code></pre><h2 id="WPS"><a href="#WPS" class="headerlink" title="WPS"></a>WPS</h2><p><a href="https://link.zhihu.com/?target=http%3A//www.wps.cn/product/wpslinux">WPS</a></p><h2 id="indicator-multiload"><a href="#indicator-multiload" class="headerlink" title="indicator-multiload"></a>indicator-multiload</h2><p><code>sudo apt install indicator-multiload</code></p>]]></content>
    
    
    <categories>
      
      <category>Ubuntu</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Ubuntu18.04</tag>
      
      <tag>ÊúçÂä°ÈÉ®ÁΩ≤</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu18.04 GPUÊúçÂä°Âô®ÈÉ®ÁΩ≤ËÆ∞ÂΩï</title>
    <link href="/2020/07/03/GPU%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2%E8%AE%B0%E5%BD%95/"/>
    <url>/2020/07/03/GPU%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h2 id="Á°¨ÁõòÊåÇËΩΩ"><a href="#Á°¨ÁõòÊåÇËΩΩ" class="headerlink" title="Á°¨ÁõòÊåÇËΩΩ"></a>Á°¨ÁõòÊåÇËΩΩ</h2><p>ËæìÂÖ•<code>sudo fdisk -l</code>ÔºåÊü•Áúã‰ø°ÊÅØ„ÄÇ</p><p>Ê†ºÂºèÂåñÁ°¨ÁõòÔºö<code>sudo mkfs.ext4 /dev/sda</code>„ÄÇ</p><p>ÂàõÂª∫ÁõÆÂΩïÔºö<code>mkdir /data</code>„ÄÇ</p><p>ÊåÇËΩΩÂàÜÂå∫Ôºö<code>sudo mount /dev/sda /data</code></p><p>Êü•ÁúãUUIDÔºö<code>sudo blkid</code></p><p>Â§çÂà∂ÂØπÂ∫îÁöÑUUIDÔºåÂú®<code>/etc/fstab</code>‰∏≠ËøõË°å‰øÆÊîπÔºö<code>UUID=[] /data ext4 defaults 0 1</code><br>‰πãÂêéÊâßË°åÂëΩ‰ª§<code>sudo mount -a</code>ÊåÇËΩΩÁ°¨Áõò„ÄÇ</p><p>Ê≥®ÔºöÂèñÊ∂àÊåÇËΩΩ<code>umount /dev/sda</code></p><h2 id="ËÆæÁΩÆÊùÉÈôê"><a href="#ËÆæÁΩÆÊùÉÈôê" class="headerlink" title="ËÆæÁΩÆÊùÉÈôê"></a>ËÆæÁΩÆÊùÉÈôê</h2><p>ËæìÂÖ•ÂëΩ‰ª§<code>chmod -R 777 [dir]</code>Ôºå‰∏∫Êñá‰ª∂Â§πËÆæÁΩÆÊùÉÈôêÔºåÊâÄÊúâÁî®Êà∑ÂèØ‰ª•ËÆøÈóÆ„ÄÇ</p><h2 id="ÂÆâË£ÖNVIDIAÊòæÂç°È©±Âä®"><a href="#ÂÆâË£ÖNVIDIAÊòæÂç°È©±Âä®" class="headerlink" title="ÂÆâË£ÖNVIDIAÊòæÂç°È©±Âä®"></a>ÂÆâË£ÖNVIDIAÊòæÂç°È©±Âä®</h2><h3 id="Á¶ÅÁî®nouveau"><a href="#Á¶ÅÁî®nouveau" class="headerlink" title="Á¶ÅÁî®nouveau"></a>Á¶ÅÁî®nouveau</h3><p>ËæìÂÖ•ÂëΩ‰ª§<code>sudo vim /etc/modprobe.d/blacklist.conf</code>„ÄÇ<br>Âú®Êú´Â∞æÊ∑ªÂä†Ôºö</p><pre><code>blacklist nouveauoptions nouveau modeset=0</code></pre><p>ÂÆâË£Ögcc:</p><pre><code>$ sudo apt-get install gcc-5$ sudo apt-get install g++-5$ cd /usr/bin$ sudo rm gcc$ ln -s gcc-5 gcc$ sudo rm g++$ ln -s g++-5 g++</code></pre><h3 id="È©±Âä®ÂÆâË£Ö"><a href="#È©±Âä®ÂÆâË£Ö" class="headerlink" title="È©±Âä®ÂÆâË£Ö"></a>È©±Âä®ÂÆâË£Ö</h3><p><code>sudo apt install build-essential</code></p><p>ÂÆâË£ÖÈ©±Âä®ÔºàÂ¶ÇÊûúÂú®DestkopÊ®°Âºè‰∏ãÈúÄË¶ÅÊåâAlt + F2ËøõÂÖ•ÂëΩ‰ª§Ë°åÊ®°ÂºèÔºâÔºö<code>sudo ./NVIDIA-Linux-x86_64-410.78.run</code></p><p>ÈÄöËøá<code>nvidia-smi</code>Êü•ÁúãÈ©±Âä®ÊòØÂê¶Â≠òÂú®„ÄÇ</p><h2 id="cudaÂÆâË£Ö"><a href="#cudaÂÆâË£Ö" class="headerlink" title="cudaÂÆâË£Ö"></a>cudaÂÆâË£Ö</h2><p>ÂÆâË£ÖcudaÂëΩ‰ª§Ôºö</p><pre><code>sudo chmod +x cuda_9.0.176_384.81_linux-runsudo ./cuda_9.0.176_384.81_linux-run</code></pre><p>Â¶ÇÊûúÂÆâË£ÖÂ§±Ë¥•Áº∫Â∞ëtoolkitÔºåÂàôÈÄöËøá<code>apt-get install</code>ÂÆâË£Ö</p><p><code>sudo apt install nvidia-cuda-toolkit</code></p><p>ÈÄöËøá<code>nvcc -V</code>ËøõË°åÊµãËØï„ÄÇ</p><p>Âú®Êñá‰ª∂<code>~/.bashrc</code>‰∏é<code>/etc/profile</code>‰∏≠Ê∑ªÂä†Ôºö</p><pre><code>export PATH=/usr/local/cuda-9.0/bin:$PATHexport LD_LIBRARY_PATH=/usr/local/cuda-9.0/lib64:/usr/local/cuda/extras/CUPTI/lib64/:$LD_LIBRARY_PATH</code></pre><p>‰πãÂêésourceÂç≥ÂèØ„ÄÇ</p><h2 id="ÂÆâË£Öcudnn"><a href="#ÂÆâË£Öcudnn" class="headerlink" title="ÂÆâË£Öcudnn"></a>ÂÆâË£Öcudnn</h2><pre><code>tar -zxvf cudnn-9.0-linux-x64-v7.tgz  sudo cp cuda/include/cudnn.h /usr/lib/cuda/include  sudo cp cuda/lib64/libcudnn* /usr/lib/cuda/lib64  sudo chmod a+r /usr/lib/cuda/include/cudnn.h /usr/lib/cuda/lib64/libcudnn*</code></pre><h3 id="vncËÆæÁΩÆ"><a href="#vncËÆæÁΩÆ" class="headerlink" title="vncËÆæÁΩÆ"></a>vncËÆæÁΩÆ</h3><pre><code>sudo apt-get updatesudo apt install xfce4 xfce4-goodies tightvncserver</code></pre><p>ÂàùÂßãÂØÜÁ†ÅËÆæÁΩÆ‰∏∫970926</p><p>ÂÖ≥Èó≠Á™óÂè£Ôºö<code>vncserver -kill :2</code></p><p>Âú®ÁõÆÂΩï<code>~/.vnc/xstartup</code>‰∏≠ÔºåÊ∑ªÂä†Ôºö</p><pre><code>#!/bin/bashxrdb $HOME/.Xresourcesstartxfce4 &amp;</code></pre><p>ËæìÂÖ•ÂëΩ‰ª§<code>sudo chmod +x ~/.vnc/xstartup</code>ÔºåÂêØÂä®vnc:<code>vncserver</code>„ÄÇ</p><h3 id="matlab-r2017b"><a href="#matlab-r2017b" class="headerlink" title="matlab r2017b"></a>matlab r2017b</h3><pre><code>$ mkdir /home/&lt;user name&gt;/Matlab$ sudo mount -t auto -o loop *dvd1.isoÊâÄÂú®ÁöÑÁªùÂØπË∑ØÂæÑ /home/&lt;user name&gt;/Matlab# ‰∏çËÉΩÂú®Âú®ÂÆâË£ÖÁõÆÂΩï‰∏ã$ sudo /ÊåÇËΩΩÁõÆÂΩï/install</code></pre>]]></content>
    
    
    <categories>
      
      <category>Ubuntu</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Ubuntu</tag>
      
      <tag>GPUÊúçÂä°Âô®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu‰∏ãÁöÑgitLabÈÉ®ÁΩ≤</title>
    <link href="/2020/05/13/Ubuntu%E4%B8%8B%E7%9A%84gitLab%E9%83%A8%E7%BD%B2/"/>
    <url>/2020/05/13/Ubuntu%E4%B8%8B%E7%9A%84gitLab%E9%83%A8%E7%BD%B2/</url>
    
    <content type="html"><![CDATA[<h1 id="Ubuntu‰∏ãÁöÑgitLabÈÉ®ÁΩ≤"><a href="#Ubuntu‰∏ãÁöÑgitLabÈÉ®ÁΩ≤" class="headerlink" title="Ubuntu‰∏ãÁöÑgitLabÈÉ®ÁΩ≤"></a>Ubuntu‰∏ãÁöÑgitLabÈÉ®ÁΩ≤</h1><h2 id="GitlabÈÉ®ÁΩ≤"><a href="#GitlabÈÉ®ÁΩ≤" class="headerlink" title="GitlabÈÉ®ÁΩ≤"></a>GitlabÈÉ®ÁΩ≤</h2><p>ÂÆâË£Ö‰æùËµñÔºö</p><pre><code>$ sudo apt-get update$ sudo apt-get install -y curl openssh-server ca-certificates# ÂÆâË£ÖpostfixÔºåÈÄâÊã©Internet Site$ sudo apt-get install -y postfix$ curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash$ sudo apt-get install gitlab-ee</code></pre><h2 id="NginxÂèç‰ª£ÁêÜ"><a href="#NginxÂèç‰ª£ÁêÜ" class="headerlink" title="NginxÂèç‰ª£ÁêÜ"></a>NginxÂèç‰ª£ÁêÜ</h2><p>Â∞Ü<code>/etc/gitlab/gitlab.rb</code>‰∏≠ÁöÑ729Ë°å„ÄÅ731Ë°åÊîπ‰∏∫</p><pre><code>gitlab_workhorse[&#39;listen_network&#39;] = &quot;tcp&quot;gitlab_workhorse[&#39;listen_addr&#39;] = &quot;127.0.0.1:[port]&quot;</code></pre><p>ÂÖ∂‰∏≠[port]‰∏∫Ëá™ÂÆö‰πâÁ´ØÂè£ÔºåÈúÄË¶Å‰∏énginxÁöÑÂèç‰ª£ÁêÜÁ´ØÂè£‰∏ÄËá¥„ÄÇ</p><p>ËøêË°å<code>sudo gitlab-ctl reconfigure</code>Êõ¥ÊîπÁîüÊïà„ÄÇ</p><p>Âú®nginxÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÂ¢ûÂä†gitlabÊúçÂä°:</p><pre><code>$ sudo vim /etc/nginx/conf.d/gitlab.confserver {    listen       80;    server_name  lab.chensh236.com;    location / {        root  html;        index index.html index.htm;        proxy_pass http://127.0.0.1:[port];    }}</code></pre><p>ËøêË°å<code>sudo systemctl restart nginx</code>ÁîüÊïà„ÄÇ</p><h2 id="Êï∞ÊçÆËøÅÁßª"><a href="#Êï∞ÊçÆËøÅÁßª" class="headerlink" title="Êï∞ÊçÆËøÅÁßª"></a>Êï∞ÊçÆËøÅÁßª</h2><pre><code>$ mkdir *$ chmod -R git:root *</code></pre><p>Â∞Ü<code>/etc/gitlab/gitlab.rb</code>‰∏≠ÁöÑ484Ë°åÊîπ‰∏∫Êñ∞Ë∑ØÂæÑ„ÄÇ</p><h2 id="ËØÅ‰π¶"><a href="#ËØÅ‰π¶" class="headerlink" title="ËØÅ‰π¶"></a>ËØÅ‰π¶</h2><p>ËØ¶ËßÅ<a href="[https://blog.chensh236.com/2020/02/21/hexo%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B-%E5%88%9D%E7%BA%A7/](https://blog.chensh236.com/2020/02/21/hexoÂª∫Á´ôËøáÁ®ã-ÂàùÁ∫ß/">hexoÂª∫Á´ôÈÉ®ÂàÜÁöÑnginxÈÖçÁΩÆ</a>)</p><h2 id="ÈÇÆ‰ª∂ÊúçÂä°"><a href="#ÈÇÆ‰ª∂ÊúçÂä°" class="headerlink" title="ÈÇÆ‰ª∂ÊúçÂä°"></a>ÈÇÆ‰ª∂ÊúçÂä°</h2><p>Âú®<code>gitlab.rb</code>‰∏≠ËøõË°åËÆæÁΩÆÔºà620Ë°åÔºâ</p><pre><code>gitlab_rails[&#39;smtp_enable&#39;]=truegitlab_rails[&#39;smtp_address&#39;]=&quot;smtp.exmail.qq.com&quot;gitlab_rails[&#39;smtp_port&#39;]=465gitlab_rails[&#39;smtp_user_name&#39;]=&quot;name&quot; # Âè™Â°´ÂÜôË¥¶Âè∑gitlab_rails[&#39;smtp_password&#39;]=&quot;pass&quot;gitlab_rails[&#39;smtp_domain&#39;]=&quot;doamin.com&quot;gitlab_rails[&#39;smtp_authentication&#39;]=&quot;login&quot;gitlab_rails[&#39;smtp_enable_starttls_auto&#39;]=truegitlab_rails[&#39;smtp_tls&#39;]=truegitlab_rails[&#39;gitlab_email_from&#39;]=&quot;name@domain.com&quot;</code></pre><p>ÊâßË°å<code>sudo gitlab_ctl reconfigure</code>Âç≥ÂèØ„ÄÇ</p><h2 id="ÂÖ≥‰∫é-Permission-denied"><a href="#ÂÖ≥‰∫é-Permission-denied" class="headerlink" title="ÂÖ≥‰∫é Permission denied"></a>ÂÖ≥‰∫é Permission denied</h2><p>Âú®WindowsÁöÑÂá≠ÊçÆÁÆ°ÁêÜÂô®‰∏≠Âà†Èô§ÈáçÊñ∞Ê∑ªÂä†Âç≥ÂèØ„ÄÇ</p><p><a href="https://blog.csdn.net/qq_34665539/article/details/80408282" target="_blank" rel="noopener">ÊïôÁ®ã</a></p>]]></content>
    
    
    <categories>
      
      <category>Ubuntu</category>
      
      <category>GitLab</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Ubuntu</tag>
      
      <tag>GitLab</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VueÂÆûÊàòËØæ Â∞èÁ±≥ÂïÜÂüé3 ÁéØÂ¢ÉËÆæÁΩÆÂíåMock</title>
    <link href="/2020/04/29/Vue%E5%AE%9E%E6%88%98%E8%AF%BE-%E5%B0%8F%E7%B1%B3%E5%95%86%E5%9F%8E3-%E7%8E%AF%E5%A2%83%E8%AE%BE%E7%BD%AE%E5%92%8CMock/"/>
    <url>/2020/04/29/Vue%E5%AE%9E%E6%88%98%E8%AF%BE-%E5%B0%8F%E7%B1%B3%E5%95%86%E5%9F%8E3-%E7%8E%AF%E5%A2%83%E8%AE%BE%E7%BD%AE%E5%92%8CMock/</url>
    
    <content type="html"><![CDATA[<h2 id="Êé•Âè£ËÆæÁΩÆ"><a href="#Êé•Âè£ËÆæÁΩÆ" class="headerlink" title="Êé•Âè£ËÆæÁΩÆ"></a>Êé•Âè£ËÆæÁΩÆ</h2><p>ËÄÉËôë‰∏âÁßçË∑®ÂüüÊñπÂºèÔºöCROS„ÄÅJSONP„ÄÅ‰ª£ÁêÜ„ÄÇ</p><p>ÂÖ∂‰∏≠CROS„ÄÅJSONPÊñπÂºèÂ∞ÜbaseURLÂ∞ÅË£ÖÂÖ•Ê®°Âùó‰∏≠ÔºåÂèØ‰ª•ËÆæÁΩÆbaseURLË∑üÈöè‰∏çÂêåÁöÑÁéØÂ¢ÉËÄåÂèòÂåñ„ÄÇ‰ª£ÁêÜËÆæÁΩÆÈúÄË¶ÅÂçïÁã¨ËÆæÁΩÆ„ÄÇ</p><p>env.js</p><pre><code class="lang-javascript">let baseURL// CROSË∑®ÂüüÔºåJSONPË∑®Âüü‰ΩøÁî®Ôºå‰ª£ÁêÜË∑®Âüü‰∏ç‰ΩøÁî®// web-pack ‰∏≠Êúâ --modeÂèÇÊï∞switch(process.env.NODE_ENV) {    case &#39;development&#39;:        baseURL = &#39;http://dev-mall-pre.springboot.cn/api&#39;        break    case &#39;test&#39;:        baseURL = &#39;http://test-mall-pre.springboot.cn/api&#39;        break    case &#39;production&#39;:        baseURL = &#39;http://mall-pre.springboot.cn/api&#39;        break    default:        baseURL = &#39;http://mall-pre.springboot.cn/api&#39;        break}export default {    baseURL}</code></pre><p>vue.config.js</p><pre><code class="lang-javascript">// ‰ª£ÁêÜË∑®Âüü‰ΩøÁî®module.exports = {    devServer:{        host: &#39;localhost&#39;,        port:8080,        proxy:{            &#39;/api&#39;:{                target: &#39;https://www.imooc.com&#39;,                changeOrigin: true,                pathRewrite:{                    &#39;/api&#39;: &#39;&#39;                }            }        }    }}</code></pre><h2 id="ËÆæÁΩÆÁéØÂ¢ÉÊ®°Âºè"><a href="#ËÆæÁΩÆÁéØÂ¢ÉÊ®°Âºè" class="headerlink" title="ËÆæÁΩÆÁéØÂ¢ÉÊ®°Âºè"></a>ËÆæÁΩÆÁéØÂ¢ÉÊ®°Âºè</h2><p>Âú®<code>package.json</code>‰∏≠ËÆæÁΩÆÁéØÂ¢ÉÁöÑÊ®°ÂºèÔºåÂ¶Ç<code>&quot;serve&quot;: &quot;vue-cli-service serve --mode=development&quot;</code>„ÄÇÂèØÊúâ<code>development</code>„ÄÅ<code>test</code>„ÄÅ<code>production</code>„ÄÇÂ¶ÇÈúÄÊñ∞Â¢ûÔºåÂèØ‰ª•Âú®Ê†πÁõÆÂΩïÂàõÂª∫<code>.env.[name]</code>ÔºåÂÖ∂‰∏≠ËÆæÁΩÆ<code>NODE_ENV = &#39;[name]&#39;</code></p><h2 id="MockËÆæÁΩÆ"><a href="#MockËÆæÁΩÆ" class="headerlink" title="MockËÆæÁΩÆ"></a>MockËÆæÁΩÆ</h2><ul><li><p>Êú¨Âú∞ÂàõÂª∫json</p><pre><code class="lang-javascript">this.axios.get(&#39;/mock/user/login.json&#39;).then((res)=&gt;{      this.res = res    })</code></pre></li><li><p>easy-mock</p></li><li><p>ÈõÜÊàêMock API (mock.js)</p></li></ul><p>Âú®<code>/src/mock</code>‰∏≠Êñ∞Âª∫<code>api.js</code>Ôºö</p><pre><code class="lang-javascript">import Mock from &#39;mockjs&#39;Mock.mock(&#39;/api/user/login&#39;, {    &quot;status&quot;: 0,    &quot;data&quot;: {        &quot;id&quot;: 12,        &quot;username&quot;: &quot;admin&quot;,        &quot;email&quot;: &quot;admin@51purse.com&quot;,        &quot;phone&quot;: null,        &quot;role&quot;: 0,        &quot;createTime&quot;: 1479048325000,        &quot;updateTime&quot;: 1479048325000    }})</code></pre><p>Âú®<code>main.js</code>‰∏≠ËøõË°åËÆæÁΩÆÔºåÊ≥®ÊÑè‰ΩøÁî®requireËÄå‰∏çËÉΩÊòØimportÔºåimportÂú®È¢ÑÁºñËØëÈò∂ÊÆµ‰æøËøõË°åÂä†ËΩΩÔºåÊâÄÊúâÁöÑËØ∑Ê±Ç‰ºöË¢´MockjsÊã¶Êà™„ÄÇ</p><pre><code class="lang-javascript">const mock = true/***  ÊâßË°åÁöÑÊó∂ÂÄôÂä†ËΩΩ*/if (mock){  require(&#39;./mock/api&#39;)}</code></pre><p>Âú®ËØ∑Ê±ÇÊó∂Ôºö</p><pre><code class="lang-javascript">this.axios.get(&#39;/user/login&#39;).then((res)=&gt;{      this.res = res      console.log(res)    })</code></pre>]]></content>
    
    
    <categories>
      
      <category>VueÂÆûÊàò1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VueÂÆûÊàò1</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VueÂÆûÊàòËØæ Â∞èÁ±≥ÂïÜÂüé1 ËÑöÊâãÊû∂ÂíåÂâçÁ´ØË∑ØÁî±</title>
    <link href="/2020/04/26/Vue%E5%AE%9E%E6%88%98%E8%AF%BE-%E5%B0%8F%E7%B1%B3%E5%95%86%E5%9F%8E1-%E8%84%9A%E6%89%8B%E6%9E%B6%E5%92%8C%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1/"/>
    <url>/2020/04/26/Vue%E5%AE%9E%E6%88%98%E8%AF%BE-%E5%B0%8F%E7%B1%B3%E5%95%86%E5%9F%8E1-%E8%84%9A%E6%89%8B%E6%9E%B6%E5%92%8C%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1/</url>
    
    <content type="html"><![CDATA[<h2 id="vue-cli"><a href="#vue-cli" class="headerlink" title="vue-cli"></a>vue-cli</h2><p>Âú®NodeÁéØÂ¢É‰∏≠ÔºåÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§ÂÆâË£Övue-cliÔºö</p><pre><code>$ npm i -g @vue/cli# OR$ yarn global add @vue/cli</code></pre><p>Â¶ÇÊûú<code>npm</code>ÈÄüÂ∫¶ËæÉÊÖ¢ÔºåÂèØ‰ª•‰ΩøÁî®<code>cnpm</code>ÔºåÈúÄË¶ÅÂÖàÂÆâË£Ö<code>cnpm</code>Ôºö</p><pre><code>$  npm i -g cnpm --registry=https://registry.npm.taobao.org</code></pre><p>ÂÆâË£Ö<code>vue-cli</code>ÂêéÔºåÂèØ‰ª•ÈÄöËøá<code>$ vue --version</code>Êü•Áúã<code>vue-cli</code>ÁöÑÁâàÊú¨„ÄÇÈÄöËøá<code>$ vue create [project name]</code>ÂàõÂª∫Êñ∞ÁöÑvueÈ°πÁõÆ„ÄÇÂèØ‰ª•ÈÄöËøá<code>vue ui</code>ËøõÂÖ•webÁïåÈù¢ÂØπvueÈ°πÁõÆËøõË°åÁÆ°ÁêÜ„ÄÇ</p><h2 id="ÂâçÁ´ØË∑ØÁî±"><a href="#ÂâçÁ´ØË∑ØÁî±" class="headerlink" title="ÂâçÁ´ØË∑ØÁî±"></a>ÂâçÁ´ØË∑ØÁî±</h2><p>ËøôÈáå‰ΩøÁî®ÁöÑÊòØhashË∑ØÁî±„ÄÇÂú®ÂêëÂêéÁ´ØÂèëËµ∑ËØ∑Ê±ÇÊó∂ÔºåhashË∑ØÁî±ÁöÑÂÜÖÂÆπÂπ∂‰∏ç‰ºöÂèëÈÄÅÂà∞ÂêéÁ´Ø„ÄÇ‰ΩøÁî®ajaxÂèØ‰ª•Âú®‰∏çÈáçÊñ∞Âä†ËΩΩÊï¥‰∏™È°µÈù¢ÁöÑÊÉÖÂÜµ‰∏ã‰∏éÂêéÁ´Ø‰∫§‰∫íÊõ¥Êñ∞ÈÉ®ÂàÜÂÜÖÂÆπ„ÄÇ<br>ËØ•È°πÁõÆ‰ΩøÁî®<code>axios</code>‰ª•‰ª£Êõø<code>resource</code>ÔºåÂπ∂‰∏î‰ΩøÁî®<code>vue-axios</code>Â∞Ü<code>axios</code>ÁªëÂÆöÂú®vue‰∏≠ÔºåÊñπ‰æø‰ΩøÁî®„ÄÇ<br><code>router.js</code>ÁöÑÂÆö‰πâÂ¶Ç‰∏ãÔºö</p><pre><code class="lang-js">import Vue from &#39;vue&#39;import Router from &#39;vue-router&#39;import Home from &#39;./pages/home&#39;import Index from &#39;./pages/index&#39;import Product from &#39;./pages/product&#39;import Detail from &#39;./pages/detail&#39;import Cart from &#39;./pages/cart&#39;import Order from &#39;./pages/order&#39;import OrderConfirm from &#39;./pages/orderConfirm&#39;import OrderList from &#39;./pages/orderList&#39;import OrderPay from &#39;./pages/orderPay&#39;Vue.use(Router)export default new Router({    routes:[        {            path: &#39;/&#39;,            name: &#39;home&#39;,            component: Home,            children: [                {                    path: &#39;/index&#39;,                    name: &#39;index&#39;,                    component: Index                },                {                    path: &#39;/product/:id&#39;,                    name: &#39;product&#39;,                    component: Product                },                {                    path: &#39;/detail/:id&#39;,                    name: &#39;detail&#39;,                    component: Detail                }            ]        },        {            path: &#39;/cart&#39;,            name: &#39;cart&#39;,            component: Cart        },        {            path: &#39;/order&#39;,            name: &#39;order&#39;,            component: Order,            children:[                {                    path: &#39;/list&#39;,                    name: &#39;order-list&#39;,                    component: OrderList                },                {                    path: &#39;/confirm&#39;,                    name: &#39;order-confirm&#39;,                    component: OrderConfirm                },                {                    path: &#39;/pay&#39;,                    name: &#39;order-pay&#39;,                    component: OrderPay                }            ]        },    ]})</code></pre><p>Âú®<code>main.js</code>‰∏≠ÔºåimportËØ•routerÂØπË±°ÔºåÂèØ‰ª•‰ΩøÁî®ÂâçÁ´ØË∑ØÁî±„ÄÇ</p>]]></content>
    
    
    <categories>
      
      <category>VueÂÆûÊàò1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VueÂÆûÊàò1</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VueÂÆûÊàòËØæ Â∞èÁ±≥ÂïÜÂüé2 Storage</title>
    <link href="/2020/04/26/Vue%E5%AE%9E%E6%88%98%E8%AF%BE-%E5%B0%8F%E7%B1%B3%E5%95%86%E5%9F%8E2-Storage/"/>
    <url>/2020/04/26/Vue%E5%AE%9E%E6%88%98%E8%AF%BE-%E5%B0%8F%E7%B1%B3%E5%95%86%E5%9F%8E2-Storage/</url>
    
    <content type="html"><![CDATA[<p>Storage‰∏écookieÁöÑÂ∑ÆÂà´Ôºö</p><div class="table-container"><table><thead><tr><th>Á±ªÂà´</th><th>Cookie</th><th>Storage</th></tr></thead><tbody><tr><td>Â§ßÂ∞è</td><td>4KB</td><td>5MB</td></tr><tr><td>ÊúâÊïàÊúü</td><td>Â≠òÂú®ÊúâÊïàÊúü</td><td>local storageÊ∞∏‰πÖÂ≠òÂÇ®, session storageÊµèËßàÂô®ÊâìÂºÄÊúüÈó¥ÊúâÊïà</td></tr><tr><td>ÊòØÂê¶ÂèëÈÄÅÂà∞ÊúçÂä°Á´Ø</td><td>ÊòØ</td><td>Âê¶</td></tr><tr><td>Ë∑ØÂæÑÈôêÂà∂</td><td>Â≠òÂú®</td><td>Â≠òÂÇ®‰∫éÂüüÂêç‰∏ã</td></tr><tr><td>ÊòØÂê¶ÊúâÁâπÂÆöAPI</td><td>Êúâ</td><td>Êó†</td></tr></tbody></table></div><p>‰ΩøÁî®<code>window.sessionStorage</code>ÂØπsession storageËøõË°åÁÆ°ÁêÜ„ÄÇ</p><pre><code class="lang-js">/** * @abstract: StorageÂ∞ÅË£Ö */const STORAGE_KEY = &#39;mall&#39;export default{    // Â≠òÂÇ®ÂÄº    setItem(key, value, module_name){        if(module_name){            let val = this.getItem(module_name)            this.setItem(module_name, val)        } else{            let val = this.getStorage()            val[key] = value            window.sessionStorage.setItem(STORAGE_KEY, JSON.stringify(val))        }    },    // Ëé∑ÂèñÂÄº    getItem(key, module_name){        if(module_name){            let val = this.getItem(module_name)            if(val) return val[key]        }        return this.getStorage()[key]    },    // Ëé∑ÂèñÊï¥‰∏™Êï∞ÊçÆ STORAGE‰ø°ÊÅØ    getStorage(){        return JSON.parse(window.sessionStorage.getItem(STORAGE_KEY) || &#39;{}&#39;)    },    clear(key, module_name){        let val = this.getStorage()        if(module_name){            delete val[module_name][key]        } else{            delete val[key]        }        window.sessionStorage.setItem(STORAGE_KEY, JSON.stringify(val))    }}</code></pre>]]></content>
    
    
    <categories>
      
      <category>VueÂÆûÊàò1</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VueÂÆûÊàò1</tag>
      
      <tag>Storage</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>nextcloud‰ºòÂåñ</title>
    <link href="/2020/03/03/nextcloud%E4%BC%98%E5%8C%96/"/>
    <url>/2020/03/03/nextcloud%E4%BC%98%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<p>Áî±‰∫énextcloudÊèêÁ§∫‰∫Ü‰∏Ä‰∫õ‰ºòÂåñ‰ø°ÊÅØÔºåËøôÈáåËøõË°å‰ºòÂåñ„ÄÇ</p><h4 id="ÂÜÖÂ≠òÈôêÂà∂"><a href="#ÂÜÖÂ≠òÈôêÂà∂" class="headerlink" title="ÂÜÖÂ≠òÈôêÂà∂"></a>ÂÜÖÂ≠òÈôêÂà∂</h4><p>‰πãÂâçÈôêÂà∂php-fpmÁöÑÂÜÖÂ≠òÂ§ßÂ∞è‰∏∫512MBÔºåÈúÄË¶ÅËøõË°åÊõ¥ÊîπÔºåÂú®<code>*php-fpmÊñá‰ª∂Â§π*/pool.d/www.conf</code>‰∏≠ËÆæÁΩÆ<code>php_admin_value[memory_limit] = 2048M</code>Âç≥ÂèØ„ÄÇ</p><h4 id="getenv-‚ÄúPATH‚Äù-‰∏∫Á©∫"><a href="#getenv-‚ÄúPATH‚Äù-‰∏∫Á©∫" class="headerlink" title="getenv(‚ÄúPATH‚Äù)‰∏∫Á©∫"></a>getenv(‚ÄúPATH‚Äù)‰∏∫Á©∫</h4><p>Âú®ÂâçÈù¢ÊèêÂà∞ÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠Â∞Ü‰∏ãÈù¢ÈÉ®ÂàÜÂèñÊ∂àÊ≥®ÈáäÔºö</p><pre><code>env[HOSTNAME] = $HOSTNAMEenv[PATH] = /usr/local/bin:/usr/bin:/binenv[TMP] = /tmpenv[TMPDIR] = /tmpenv[TEMP] = /tmp</code></pre><h4 id="ÂÆâÂÖ®ÊÄß"><a href="#ÂÆâÂÖ®ÊÄß" class="headerlink" title="ÂÆâÂÖ®ÊÄß"></a>ÂÆâÂÖ®ÊÄß</h4><ul><li><p>HTTP ËØ∑Ê±ÇÂ§¥ ‚ÄúX-Frame-Options‚Äù Ê≤°ÊúâÈÖçÁΩÆ‰∏∫ ‚ÄúSAMEORIGIN‚Äù<br>Âú®nginxÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠</p></li><li><p>HTTPÁöÑËØ∑Ê±ÇÂ§¥ ‚ÄúStrict-Transport-Security‚Äù Êú™ËÆæÁΩÆ‰∏∫Ëá≥Â∞ë ‚Äú15552000‚Äù Áßí</p></li><li>HTTP Â§¥ ‚ÄúReferrer-Policy‚Äù Êú™ËÆæÁΩÆÊàê ‚Äúno-referrer‚ÄùÔºå‚Äùno-referrer-when-downgrade‚ÄùÔºå‚Äùstrict-origin‚ÄùÔºå‚Äùstrict-origin-when-cross-origin‚Äù Êàñ ‚Äúsame-origin‚Äù„ÄÇËøô‰ºöÊ≥ÑÈú≤Êõ¥Â§öÁöÑ‰ø°ÊÅØ</li><li>Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑ‰∏Ä‰∫õÂàóÁî±‰∫éËøõË°åÈïøÊï¥ÂûãËΩ¨Êç¢ËÄåÁº∫Â§±„ÄÇÁî±‰∫éÂú®ËæÉÂ§ßÁöÑÊï∞ÊçÆË°®ÈáçÊîπÂèòÂàóÁ±ªÂûã‰ºöËÄóË¥π‰∏Ä‰∫õÊó∂Èó¥ÔºåÂõ†Ê≠§Á®ãÂ∫èÊ≤°ÊúâËá™Âä®ÂØπÂÖ∂Êõ¥Êîπ„ÄÇÊÇ®ÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§Ë°åÊâãÂä®ÊâßË°å ‚Äúocc db:convert-filecache-bigint‚Äù ÂëΩ‰ª§‰ª•Â∫îÁî®ÊåÇËµ∑ÁöÑÊõ¥Êîπ„ÄÇËØ•Êìç‰ΩúÈúÄË¶ÅÂΩìÊï¥‰∏™ÂÆû‰æãÂèò‰∏∫Á¶ªÁ∫øÁä∂ÊÄÅÂêéÊâßË°å„ÄÇÊü•ÈòÖÁõ∏ÂÖ≥ÊñáÊ°£‰ª•Ëé∑ÂæóÊõ¥Â§öËØ¶ÊÉÖ„ÄÇ<ul><li>mounts.storage_id</li><li>mounts.root_id</li><li>mounts.mount_id</li></ul></li></ul><p>ÂÖ≥‰∫éÂâç‰∏§‰∏™ÈóÆÈ¢òÔºåÂú®nginxÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠ËÆæÁΩÆÔºö</p><pre><code>add_header X-Frame-Options &quot;SAMEORIGIN&quot;;add_header Strict-Transport-Security &quot;max-age=31536000&quot;; includeSubDomains&quot; always;add_header Referrer-Policy &quot;no-referrer&quot;;</code></pre><p>ÈáçÂêØÊúçÂä°Âç≥ÂèØ„ÄÇ</p><p>ÂÖ≥‰∫éÊúÄÂêé‰∏Ä‰∏™ÈóÆÈ¢òÔºåÈîÆÂÖ•ÂëΩ‰ª§Ôºö<code>sudo -u www-data php /*nextcloudÂÆâË£ÖË∑ØÂæÑ*/occ db:convert-filecache-bigint</code></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>vsftpd‰ΩøÁî®</title>
    <link href="/2020/02/24/vsftpd%E4%BD%BF%E7%94%A8/"/>
    <url>/2020/02/24/vsftpd%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="vsftpdÁöÑ‰ΩøÁî®"><a href="#vsftpdÁöÑ‰ΩøÁî®" class="headerlink" title="vsftpdÁöÑ‰ΩøÁî®"></a>vsftpdÁöÑ‰ΩøÁî®</h1><p><a href="https://www.jianshu.com/p/1a8a4593958a" target="_blank" rel="noopener">ÂèÇËÄÉÊñáÊ°£</a></p><h2 id="ÂÆâË£Ö"><a href="#ÂÆâË£Ö" class="headerlink" title="ÂÆâË£Ö"></a>ÂÆâË£Ö</h2><p>ÈîÆÂÖ•ÂëΩ‰ª§Ôºö<code>sudo apt-get install vsfptd</code></p><p>‰∏∫‰∫ÜËÉΩÂ§üÊ≠£Â∏∏‰ΩøÁî®<code>ftp_TLS</code>ÔºåÈúÄË¶ÅÂú®<code>/etc/vsftpd.conf</code>‰∏≠Ê∑ªÂä†Ôºö</p><pre><code># ÂºÄÂêØ ssl Âπ∂ÊåáÂÆö‰ΩøÁî®ÁöÑÂçèËÆÆssl_enable=YESssl_tlsv1=YESssl_sslv2=NOssl_sslv3=NO# ÊåáÂÆöËØÅ‰π¶Âíå key Êñá‰ª∂rsa_cert_file=/*Ëá™Â∑±ÁöÑÁõÆÂΩï*/*ËØÅ‰π¶*.crtrsa_private_key_file=/*Ëá™Â∑±ÁöÑÁõÆÂΩï*/*ËØÅ‰π¶*.key# ÂÆâÂÖ®ÈÄâÈ°πallow_anon_ssl=NOforce_local_data_ssl=YESforce_local_logins_ssl=YESrequire_ssl_reuse=NOssl_ciphers=HIGH# ÊåáÂÆö‰∏ªÂä®Ê®°ÂºèÊó∂‰ΩøÁî®ÁöÑÁ´ØÂè£ËåÉÂõ¥pasv_min_port=*Ëá™Â∑±ËÆæÁΩÆÁ´ØÂè£*pasv_max_port=*Ëá™Â∑±ËÆæÁΩÆÁ´ØÂè£*</code></pre><p>ÈáçÂêØvsftpdÊúçÂä°Âç≥ÂèØ„ÄÇ</p><h2 id="ËÆæÁΩÆË¥¶Êà∑"><a href="#ËÆæÁΩÆË¥¶Êà∑" class="headerlink" title="ËÆæÁΩÆË¥¶Êà∑"></a>ËÆæÁΩÆË¥¶Êà∑</h2><p><a href="https://www.cnblogs.com/lantor/p/7600247.html" target="_blank" rel="noopener">ÂèÇËÄÉÊñáÊ°£</a></p><p>ÈúÄË¶ÅÊ∑ªÂä†Ë¥¶Êà∑ÔºåÂπ∂ÊåáÂÆö‰∏ªÁõÆÂΩïÔºö<code>sudo useradd -d /*Ëá™Â∑±ËÆæÁΩÆÁõÆÂΩï*/ -s /usr/sbin/nologin *Áî®Êà∑Âêç*</code>„ÄÇ‰πãÂêéËÆæÁΩÆÂØÜÁ†ÅÔºö<code>passwd *Áî®Êà∑Âêç*</code></p><p>‰πãÂêéÈÄöËøá<code>chown *Áî®Êà∑Âêç*:*Áî®Êà∑Âêç* *ÁõÆÂΩï*</code>ËÆæÁΩÆÊñá‰ª∂Â§πÊùÉÈôê„ÄÇ</p><p>‰∏ãÈù¢ÂÆåÊàê‰∏§ÊñπÈù¢ÁöÑËÆæÁΩÆÔºö</p><ul><li>Âè™ÂÖÅËÆ∏ÁâπÂÆöÁî®Êà∑ÁôªÈôÜ</li><li>Âè™ÂÖÅËÆ∏ËØªÂÜô‰∏ªÁõÆÂΩï</li></ul><pre><code>userlist_enable=YESuserlist_deny=NOuserlist_file=/etc/vsftpd/user_listchroot_local_user=YESchroot_list_enable=YESchroot_list_file=/etc/vsftpd/chroot_listallow_writeable_chroot=YES</code></pre><p>ÂÖ∂‰∏≠Ôºå<code>chroot_list</code>‰∏≠ÁöÑÁî®Êà∑ÂèØ‰ª•ËÆøÈóÆ‰∏ªÁõÆÂΩïÂ§ñÁöÑÂÖ∂‰ªñÁõÆÂΩï„ÄÇ</p><h2 id="‰π±Á†ÅÈóÆÈ¢ò"><a href="#‰π±Á†ÅÈóÆÈ¢ò" class="headerlink" title="‰π±Á†ÅÈóÆÈ¢ò"></a>‰π±Á†ÅÈóÆÈ¢ò</h2><p>Â¶ÇÊûúÂá∫Áé∞‰π±Á†ÅÈóÆÈ¢òÔºåÂèØ‰ª•ÈÄöËøáÂ∞ÜÊñá‰ª∂Á≥ªÁªüÂ≠óÁ¨¶ÈõÜËÆæÁΩÆ‰∏∫<code>utf-8</code>Ëß£ÂÜ≥„ÄÇÂú®<code>/etc/vsftpd.conf</code>‰∏≠ËÆæÁΩÆÔºö<code>utf8_filesystem=YES</code>„ÄÇÂú®filezila‰∏≠[Á´ôÁÇπ]‰∏≠ÁöÑ[Â≠óÁ¨¶ÈõÜ]Âº∫Âà∂‰ΩøÁî®<code>utf-8</code>ÁºñÁ†ÅÂç≥ÂèØ„ÄÇ</p>]]></content>
    
    
    <categories>
      
      <category>ÁΩëÁªú</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ÁΩëÁªú</tag>
      
      <tag>ftp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ÈÖçÁΩÆnextcloudÁßÅÊúâ‰∫ëÁõòÊúçÂä°</title>
    <link href="/2020/02/24/%E9%85%8D%E7%BD%AEnextcloud%E7%A7%81%E6%9C%89%E4%BA%91%E7%9B%98%E6%9C%8D%E5%8A%A1/"/>
    <url>/2020/02/24/%E9%85%8D%E7%BD%AEnextcloud%E7%A7%81%E6%9C%89%E4%BA%91%E7%9B%98%E6%9C%8D%E5%8A%A1/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/843af0af176e" target="_blank" rel="noopener">ÂèÇËÄÉÊñáÊ°£1</a> <a href="https://blog.csdn.net/qq_35709559/article/details/89516063" target="_blank" rel="noopener">ÂèÇËÄÉÊñáÊ°£2</a></p><p>È¶ñÂÖàÈúÄË¶ÅÂÆâË£ÖnginxÊúçÂä°Ôºö<code>sudo apt-get install nginx -y</code>„ÄÇÂ¶ÇÊûú‰πãÂâçÂ∑≤ÁªèÂÆâË£ÖËøá‰∏çÈúÄË¶ÅÂÜçÊ¨°ÂÆâË£Ö„ÄÇ</p><h2 id="ÂÆâË£Öphp"><a href="#ÂÆâË£Öphp" class="headerlink" title="ÂÆâË£Öphp"></a>ÂÆâË£Öphp</h2><p>ËøôÈáå‰ΩøÁî®php7.2ÔºåÈîÆÂÖ•Â¶Ç‰∏ãÂëΩ‰ª§ÂÆâË£Öphp‰ª•ÂèäÁõ∏ÂÖ≥‰æùËµñÂåÖÔºö</p><pre><code>sudo apt-get install php7.2sudo apt-get install php-zipsudo apt-get install php-dompdfsudo apt-get install php-xmlsudo apt-get install php-mbstringsudo apt-get install php-curlsudo apt-get install php-mysql</code></pre><h2 id="ÂÆâË£Ömysql"><a href="#ÂÆâË£Ömysql" class="headerlink" title="ÂÆâË£Ömysql"></a>ÂÆâË£Ömysql</h2><p>ÂÆâË£ÖmysqlÔºö<code>sudo apt-get install -y mysql-server</code></p><p>ËæìÂÖ•<code>mysql -uroot -p</code>ÔºåÂ¶ÇÊûúÂá∫Áé∞Â¶Ç‰∏ãÈîôËØØÔºö</p><pre><code>ERROR 1698 (28000): Access denied for user &#39;root&#39;@&#39;localhost&#39;</code></pre><p>ËøôÊòØÂõ†‰∏∫Á¨¨‰∏ÄÊ¨°‰ΩøÁî®ÔºåÊú™ËÆæÁΩÆÂØÜÁ†Å„ÄÇÈúÄË¶ÅÈîÆÂÖ•<code>sudo systemctl stop mysql</code>ÂÅúÊ≠¢mysqlÁöÑËøêË°å„ÄÇ</p><p>ÈîÆÂÖ•ÂëΩ‰ª§Ôºö<code>sudo mysql_secure_installation</code>ÔºåËøõË°åÁÆ°ÁêÜÂëòË¥¶Êà∑‰ø°ÊÅØËÆæÁΩÆÔºåÂπ∂ËÆæÁΩÆÊï∞ÊçÆÂ∫ìÁöÑÊùÉÈôêÔºåÊåâÁÖßËá™Â∑±ÈúÄÊ±ÇËÆæÁΩÆÂç≥ÂèØ„ÄÇ</p><p>ÈîÆÂÖ•ÂëΩ‰ª§<code>sudo systemctl start mysql</code>ÂêØÂä®mysql„ÄÇ</p><p>Â¶ÇÊûúÂâçÈù¢ËÆæÁΩÆ‰∫ÜrootÁî®Êà∑ËøúÁ®ãÁôªÈôÜËÄå‰πãÂêéÈúÄË¶ÅÂèñÊ∂àÔºåÂèØ‰ª•ÂèÇËÄÉ<a href="https://www.jianshu.com/p/3eb0bcf1448d" target="_blank" rel="noopener">ËøôÁØáÊñáÊ°£</a>„ÄÇ</p><p>Ê≠£Â∏∏ËøõÂÖ•mysqlÔºåÈîÆÂÖ•ÂëΩ‰ª§Ôºö</p><pre><code>create database nextcloud;  # Êñ∞Âª∫show databases;             # Êü•Áúã</code></pre><p>Êñ∞Âª∫Êï∞ÊçÆÂ∫ìÁî®Êà∑Ôºö</p><pre><code>create user *Áî®Êà∑Âêç*@localhost identified by &#39;*ÂØÜÁ†Å*&#39;;</code></pre><p>ÈôêÂà∂Êï∞ÊçÆÂ∫ìÂè™ÂèØ‰ª•Êú¨Âú∞ËÆøÈóÆÂπ∂Âà∑Êñ∞Ôºö</p><pre><code>grant all privileges on nextcloud.* to *Áî®Êà∑Âêç*@localhost identified by &#39;*ÂØÜÁ†Å*&#39;;flush privileges;</code></pre><h2 id="ÂÆâË£Önextcloud"><a href="#ÂÆâË£Önextcloud" class="headerlink" title="ÂÆâË£Önextcloud"></a>ÂÆâË£Önextcloud</h2><h2 id="ËÆæÁΩÆnginx"><a href="#ËÆæÁΩÆnginx" class="headerlink" title="ËÆæÁΩÆnginx"></a>ËÆæÁΩÆnginx</h2><p>ËøõÂÖ•<code>/etc/nginx/sites-available/</code>ÔºåÂàõÂª∫Êñá‰ª∂cloudÔºö<code>touch cloud</code>„ÄÇ‰πãÂêéÂú®Ë∑ØÂæÑ<code>/etc/nginx/sites-enabled/</code>‰∏≠ÔºåÂä†ÂÖ•ËΩØÈìæÊé•Ôºö<code>ln -s ../sites-available/cloud cloud</code>„ÄÇ</p><p>ÁºñËæë<code>/etc/nginx/sites-available/cloud</code>ÔºàÂèÇËßÅ<a href="https://docs.nextcloud.com/server/12/admin_manual/installation/nginx.html" target="_blank" rel="noopener">ÂÆòÊñπÈÖçÁΩÆ</a>ÔºâÔºö</p><pre><code>upstream php-handler {    server 127.0.0.1:9000;    #server unix:/var/run/php/php7.0-fpm.sock;}server {    listen 80;    listen [::]:80;    server_name disk.chensh236.com;    # enforce https    return 301 https://$server_name$request_uri;}server {    listen 443 ssl http2;    listen [::]:443 ssl http2;    server_name disk.chensh236.com;    ssl_certificate /*‰øùÂ≠òÁöÑÁõÆÂΩï*/*ÂêçÂ≠ó*.crt;    ssl_certificate_key /*‰øùÂ≠òÁöÑÁõÆÂΩï*/*ÂêçÂ≠ó*.key;    # Add headers to serve security related headers    # Before enabling Strict-Transport-Security headers please read into this    # topic first.    # add_header Strict-Transport-Security &quot;max-age=15768000;    # includeSubDomains; preload;&quot;;    #    # WARNING: Only add the preload option once you read about    # the consequences in https://hstspreload.org/. This option    # will add the domain to a hardcoded list that is shipped    # in all major browsers and getting removed from this list    # could take several months.    add_header X-Content-Type-Options nosniff;    add_header X-XSS-Protection &quot;1; mode=block&quot;;    add_header X-Robots-Tag none;    add_header X-Download-Options noopen;    add_header X-Permitted-Cross-Domain-Policies none;    # Path to the root of your installation    root /*Ëá™Â∑±ËÆæÁΩÆÁõÆÂΩï*/;    location = /robots.txt {        allow all;        log_not_found off;        access_log off;    }    # The following 2 rules are only needed for the user_webfinger app.    # Uncomment it if you&#39;re planning to use this app.    #rewrite ^/.well-known/host-meta /public.php?service=host-meta last;    #rewrite ^/.well-known/host-meta.json /public.php?service=host-meta-json    # last;    location = /.well-known/carddav {      return 301 $scheme://$host/remote.php/dav;    }    location = /.well-known/caldav {      return 301 $scheme://$host/remote.php/dav;    }    # set max upload size    client_max_body_size 512M;    fastcgi_buffers 64 4K;    # Enable gzip but do not remove ETag headers    gzip on;    gzip_vary on;    gzip_comp_level 4;    gzip_min_length 256;    gzip_proxied expired no-cache no-store private no_last_modified no_etag auth;    gzip_types application/atom+xml application/javascript application/json application/ld+json application/manifest+json application/rss+xml application/vnd.geo+json application/vnd.ms-fontobject application/x-font-ttf application/x-web-app-manifest+json application/xhtml+xml application/xml font/opentype image/bmp image/svg+xml image/x-icon text/cache-manifest text/css text/plain text/vcard text/vnd.rim.location.xloc text/vtt text/x-component text/x-cross-domain-policy;    # Uncomment if your server is build with the ngx_pagespeed module    # This module is currently not supported.    #pagespeed off;    location / {        rewrite ^ /index.php$request_uri;    }    location ~ ^/(?:build|tests|config|lib|3rdparty|templates|data)/ {        deny all;    }    location ~ ^/(?:\.|autotest|occ|issue|indie|db_|console) {        deny all;    }    location ~ ^/(?:index|remote|public|cron|core/ajax/update|status|ocs/v[12]|updater/.+|ocs-provider/.+)\.php(?:$|/) {        fastcgi_split_path_info ^(.+?\.php)(/.*)$;        include fastcgi_params;        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;        fastcgi_param PATH_INFO $fastcgi_path_info;        fastcgi_param HTTPS on;        #Avoid sending the security headers twice        fastcgi_param modHeadersAvailable true;        fastcgi_param front_controller_active true;        fastcgi_pass php-handler;        fastcgi_intercept_errors on;        fastcgi_request_buffering off;    }    location ~ ^/(?:updater|ocs-provider)(?:$|/) {        try_files $uri/ =404;        index index.php;    }    # Adding the cache control header for js and css files    # Make sure it is BELOW the PHP block    location ~ \.(?:css|js|woff|svg|gif)$ {        try_files $uri /index.php$request_uri;        add_header Cache-Control &quot;public, max-age=15778463&quot;;        # Add headers to serve security related headers (It is intended to        # have those duplicated to the ones above)        # Before enabling Strict-Transport-Security headers please read into        # this topic first.        # add_header Strict-Transport-Security &quot;max-age=15768000; includeSubDomains; preload;&quot;;        #        # WARNING: Only add the preload option once you read about        # the consequences in https://hstspreload.org/. This option        # will add the domain to a hardcoded list that is shipped        # in all major browsers and getting removed from this list        # could take several months.        add_header X-Content-Type-Options nosniff;        add_header X-XSS-Protection &quot;1; mode=block&quot;;        add_header X-Robots-Tag none;        add_header X-Download-Options noopen;        add_header X-Permitted-Cross-Domain-Policies none;        # Optional: Don&#39;t log access to assets        access_log off;    }    location ~ \.(?:png|html|ttf|ico|jpg|jpeg)$ {        try_files $uri /index.php$request_uri;        # Optional: Don&#39;t log access to other assets        access_log off;    }}</code></pre><h2 id="nextcloudÂÆâË£Ö"><a href="#nextcloudÂÆâË£Ö" class="headerlink" title="nextcloudÂÆâË£Ö"></a>nextcloudÂÆâË£Ö</h2><p>Âú®nextcloud<a href="https://nextcloud.com" target="_blank" rel="noopener">ÂÆòÁΩë</a>Êü•ÊâæÊúçÂä°Á´ØÁâàÊú¨‰∏ãËΩΩÔºåÂ∞ùËØï18.0.1Âá∫Áé∞‰∫ÜÊó†Ê≥ïÊâæÂà∞<code>File.php</code>ÁöÑÈîôËØØÔºåÊâÄ‰ª•ÈÄâÊã©17.0.3ÁâàÊú¨„ÄÇÂ¶ÇÊûú‰∏ãËΩΩËøáÊÖ¢ÂèØ‰ª•ÈÄöËøá‰ª•‰∏ã<a href="https://disk.chensh236.com/s/aJeyCDX5YKz8SsR" target="_blank" rel="noopener">ÈìæÊé•</a>‰∏ãËΩΩ„ÄÇÂ∞ÜÂÆâË£ÖÂåÖ‰∏ä‰º†Âà∞ÊúçÂä°Âô®‰∏äÔºåÂπ∂Ëß£ÂéãÂà∞ÂØπÂ∫îÁõÆÂΩïÂç≥ÂèØ„ÄÇ</p><h3 id="ÊùÉÈôêÈóÆÈ¢ò"><a href="#ÊùÉÈôêÈóÆÈ¢ò" class="headerlink" title="ÊùÉÈôêÈóÆÈ¢ò"></a>ÊùÉÈôêÈóÆÈ¢ò</h3><p>‰∏∫‰∫ÜËÆ©nginxÊ≠£Â∏∏ËøõË°åÂèçÂêë‰ª£ÁêÜÔºåÈúÄË¶ÅËÆ©nginxÁöÑÁî®Êà∑www-dataÊúâÊùÉÈôêËØªÂÜônextcloudÊñá‰ª∂Â§π‰∏≠ÁöÑÊñá‰ª∂„ÄÇËøõÂÖ•nextcloudÂØπÂ∫îÁöÑÊñá‰ª∂Â§πÁöÑÁà∂ÁõÆÂΩïÔºåÈîÆÂÖ•ÂëΩ‰ª§Ôºö</p><pre><code>chown -R www-data:www-data nextcloud/chmod -R 755 nextcloud</code></pre><h3 id="9000Á´ØÂè£Ê≤°ÊúâÁõëÂê¨ÈóÆÈ¢òÔºö"><a href="#9000Á´ØÂè£Ê≤°ÊúâÁõëÂê¨ÈóÆÈ¢òÔºö" class="headerlink" title="9000Á´ØÂè£Ê≤°ÊúâÁõëÂê¨ÈóÆÈ¢òÔºö"></a>9000Á´ØÂè£Ê≤°ÊúâÁõëÂê¨ÈóÆÈ¢òÔºö</h3><p>Â∞Ü<code>cloud</code>Êñá‰ª∂‰∏≠ÁöÑ<code>server 127.0.0.1:9000;</code>Êîπ‰∏∫<code>server unix:/var/run/php/php7.2-fpm.sock;</code></p><h2 id="ACPuÂä†ÈÄü"><a href="#ACPuÂä†ÈÄü" class="headerlink" title="ACPuÂä†ÈÄü"></a>ACPuÂä†ÈÄü</h2><p>ÂÆâË£ÖÔºö<code>sudo apt-get install php-apcu -y</code></p><p>Âú®nextcloudË∑ØÂæÑ‰∏ãÁöÑ<code>config/config.php</code>‰∏≠Ê∑ªÂä†Ôºö</p><pre><code>&#39;memcache.local&#39; =&gt; &#39;\OC\Memcache\APCu&#39;,</code></pre><p>ÈáçÂêØphp7.2-fpmÊúçÂä°Ôºö<code>sudo systemctl reload php7.2-fpm.service</code>‰ª•ÂèänginxÔºö<code>sudo systemctl restart nginx</code>„ÄÇ</p>]]></content>
    
    
    <categories>
      
      <category>ÁΩëÁªú</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nextcloud</tag>
      
      <tag>Áª¥Êä§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexoÂª∫Á´ôÊïôÁ®ãÔºàÂàùÁ∫ßÔºâ3‚Äî‚ÄîÊ∑ªÂä†ÁÆ°ÁêÜÁïåÈù¢‰∏éËØÑËÆ∫</title>
    <link href="/2020/02/22/hexo%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B%EF%BC%88%E5%88%9D%E7%BA%A7%EF%BC%893%E2%80%94%E2%80%94%E6%B7%BB%E5%8A%A0%E7%AE%A1%E7%90%86%E7%95%8C%E9%9D%A2/"/>
    <url>/2020/02/22/hexo%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B%EF%BC%88%E5%88%9D%E7%BA%A7%EF%BC%893%E2%80%94%E2%80%94%E6%B7%BB%E5%8A%A0%E7%AE%A1%E7%90%86%E7%95%8C%E9%9D%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="Ê∑ªÂä†admin-hexoÁïåÈù¢"><a href="#Ê∑ªÂä†admin-hexoÁïåÈù¢" class="headerlink" title="Ê∑ªÂä†admin-hexoÁïåÈù¢"></a>Ê∑ªÂä†admin-hexoÁïåÈù¢</h1><p><a href="https://jaredforsyth.com/hexo-admin/" target="_blank" rel="noopener">ÂÆòÁΩë</a> <a href="https://albenw.github.io/posts/4ffa5bc6/" target="_blank" rel="noopener">ÂèÇËÄÉÊñáÊ°£1</a> <a href="https://blog.csdn.net/RenZouChaLiangrz/article/details/87890621" target="_blank" rel="noopener">ÂèÇËÄÉÊñáÊ°£2</a></p><h2 id="ÂÆâË£Ö"><a href="#ÂÆâË£Ö" class="headerlink" title="ÂÆâË£Ö"></a>ÂÆâË£Ö</h2><p>Âú®ÂÆâË£Öadmin-hexo‰πãÂâçÈúÄË¶ÅÂÆâË£Ö‰∏Ä‰∫õ‰æùËµñÔºåÈÅøÂÖçÈîôËØØÂèëÁîü„ÄÇÈîÆÂÖ•ÂëΩ‰ª§Ôºö</p><pre><code>npm install minimatch@&quot;3.0.2&quot;  npm update -d</code></pre><p>ÂèØ‰ª•ÂÆåÊàê‰æùËµñÁöÑÂÆâË£Ö„ÄÇ‰πãÂêéÈîÆÂÖ•ÂëΩ‰ª§<code>npm install --save hexo-admin</code>ÂèØ‰ª•ÂÆåÊàêÊèí‰ª∂ÁöÑÂÆâË£Ö„ÄÇ<br>ÊâßË°å<code>hexo s</code>ÂëΩ‰ª§ÔºåÂú®<code>localhost:4000/admin</code>ÂèØ‰ª•Êü•Áúã„ÄÇ</p><h2 id="ËÆæÁΩÆ"><a href="#ËÆæÁΩÆ" class="headerlink" title="ËÆæÁΩÆ"></a>ËÆæÁΩÆ</h2><h3 id="ÂØÜÁ†ÅËÆæÁΩÆ"><a href="#ÂØÜÁ†ÅËÆæÁΩÆ" class="headerlink" title="ÂØÜÁ†ÅËÆæÁΩÆ"></a>ÂØÜÁ†ÅËÆæÁΩÆ</h3><p>Âú®<code>Setting</code>ÁïåÈù¢ÔºåÁÇπÂáª<code>Setup authentification here</code>ÔºåÂàõÂª∫Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåÊåâÁÖßÊèêÁ§∫Âú®blogÊ†πÁõÆÂΩï‰∏≠ÁöÑ<code>_config.yml</code>‰∏≠Ê∑ªÂä†ËØ•ÁïåÈù¢‰∏ãÊñπÁöÑËÆæÁΩÆ„ÄÇ</p><h3 id="ÂèëÂ∏É"><a href="#ÂèëÂ∏É" class="headerlink" title="ÂèëÂ∏É"></a>ÂèëÂ∏É</h3><p>Âú®blogÊ†πÁõÆÂΩï‰∏ãÔºåÊñ∞Âª∫Êñá‰ª∂Â§πÔºåËøõÂÖ•ÂêéÊñ∞Âª∫ËÑöÊú¨<code>d.sh</code>ÔºåÂä†ÂÖ•ÂëΩ‰ª§<br><code>hexo clean &amp; hexo g -d</code>Ôºå‰πãÂêéÈÄöËøáÂëΩ‰ª§<code>chmod +x d.sh</code>ËÆæÁΩÆÊùÉÈôê„ÄÇ<br>ÊúÄÂêé‰∏ÄÊ≠•Âú®blogÊ†πÁõÆÂΩï‰∏ãÁöÑ<code>_config.yml</code>ÁöÑ<code>admin</code>ÈÉ®ÂàÜÊ∑ªÂä†Ôºö</p><pre><code>admin:  username: ...  password_hash: ...  secret: ...  deployCommand: ./*Êñ∞Âª∫ÁöÑÊñá‰ª∂Â§πÂêç*/d.sh</code></pre><h2 id="Ê∑ªÂä†ËØÑËÆ∫"><a href="#Ê∑ªÂä†ËØÑËÆ∫" class="headerlink" title="Ê∑ªÂä†ËØÑËÆ∫"></a>Ê∑ªÂä†ËØÑËÆ∫</h2><p>ËøôÈÉ®ÂàÜÊØîËæÉÁÆÄÂçïÔºåÊàëÊòØÁî®ÁöÑÊòØvaline„ÄÇ<a href="https://www.jianshu.com/p/728a9594bb6c" target="_blank" rel="noopener">ÂèÇËÄÉÊñáÊ°£</a></p>]]></content>
    
    
    <categories>
      
      <category>ÁΩëÁªú</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ÁΩëÁ´ôÊê≠Âª∫</tag>
      
      <tag>ÂçöÂÆ¢</tag>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexoÂª∫Á´ôÊïôÁ®ãÔºàÂàùÁ∫ßÔºâ2 ‚Äî‚Äî ÁôæÂ∫¶ÂíågoogleÁöÑÊî∂ÂΩï</title>
    <link href="/2020/02/22/hexo%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B2/"/>
    <url>/2020/02/22/hexo%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B2/</url>
    
    <content type="html"><![CDATA[<p>‰πãÂâç‰∏ªË¶ÅËÆ≤Ëø∞‰∫ÜhexoÁöÑÂü∫Á°ÄÂª∫Á´ôËøáÁ®ã„ÄÇÂç≥‰ΩøÁ´ôÁÇπÊê≠ÁöÑÂæàÊºÇ‰∫ÆÔºåÊñáÁ´†ÂÜôÁöÑÂæàÊºÇ‰∫ÆÔºå‰ΩÜÂõ†‰∏∫Ê≤°ÊúâgoogleÂíåÁôæÂ∫¶ÁöÑÊäìÂèñÔºåËøô‰∫õÊñáÁ´†‰æùÁÑ∂ÂæàÈöæË¢´Âà´‰∫∫ÁúãÂà∞„ÄÇ<br>‰∏ãÈù¢‰∏ªË¶ÅËÆ≤Ëø∞ÁôæÂ∫¶ÂíågoogleÁöÑÁ´ôÁÇπÂú∞ÂõæÊèê‰∫§Âíå‰∏ªÂä®Êé®ÈÄÅÔºå‰ª•‰æøÁôæÂ∫¶ÂíågoogleÊî∂ÂΩïÂíåËúòËõõÁà¨Âèñ„ÄÇ</p><h2 id="ÁôæÂ∫¶"><a href="#ÁôæÂ∫¶" class="headerlink" title="ÁôæÂ∫¶"></a>ÁôæÂ∫¶</h2><p><a href="https://zhuanlan.zhihu.com/p/100922816" target="_blank" rel="noopener">ÂèÇËÄÉÊñáÊ°£</a><br>Âú®<a href="https://ziyuan.baidu.com" target="_blank" rel="noopener">ÁôæÂ∫¶ÊêúÁ¥¢ËµÑÊ∫êÂπ≥Âè∞</a>ÔºåÂèØ‰ª•Ê∑ªÂä†Ëá™Â∑±ÁöÑÁΩëÁ´ôÔºåÈúÄË¶ÅÈÄâÊã©httpÊàñËÄÖhttpsÂçèËÆÆ„ÄÇËøôÈáå‰ΩøÁî®ÁöÑÊòØhttpsÂçèËÆÆ„ÄÇÂú®Ê≠§‰πãÂêéËøòÈúÄË¶ÅËøõË°åÈ™åËØÅ„ÄÇÂèØ‰ª•ÈÄâÊã©ÊØîËæÉÊñπ‰æøÁöÑDNSÈ™åËØÅ„ÄÇ</p><h3 id="‰∏ªÂä®Êé®ÈÄÅ"><a href="#‰∏ªÂä®Êé®ÈÄÅ" class="headerlink" title="‰∏ªÂä®Êé®ÈÄÅ"></a>‰∏ªÂä®Êé®ÈÄÅ</h3><p>Âú®blogÁöÑÁõÆÂΩïËæìÂÖ•ÂëΩ‰ª§Ôºö<code>npm install hexo-baidu-url-submit --save</code>ÔºåÂú®ËØ•ÁõÆÂΩïÁöÑ<code>_config.yml</code>Êñá‰ª∂‰∏≠ÂÜôÂÖ•Ôºö</p><pre><code>baidu_url_submit:  count: 1                              # Êèê‰∫§ÊúÄÊñ∞ÁöÑÂ§öÂ∞ë‰∏™ÈìæÊé•  host: *Ëá™Â∑±ÁöÑÂüüÂêç*                      # Âú®ÁôæÂ∫¶Á´ôÈïøÂπ≥Âè∞‰∏≠Ê∑ªÂä†ÁöÑÂüüÂêç  token: *Âú®ÁôæÂ∫¶ÊêúÁ¥¢ËµÑÊ∫êÂπ≥Âè∞‰∏≠Ëé∑ÂæóÁöÑtoken*   # ÁßòÈí•  path: baidu_urls.txt                   # ÊñáÊú¨ÊñáÊ°£ÁöÑÂú∞ÂùÄÔºå Êñ∞ÈìæÊé•‰ºö‰øùÂ≠òÂú®Ê≠§ÊñáÊú¨ÊñáÊ°£Èáå</code></pre><p>‰πãÂêéÈúÄË¶ÅÊ£ÄÊü•urlÊòØÂê¶‰∏éÁôæÂ∫¶È™åËØÅÁöÑÂüüÂêç‰∏ÄËá¥Ôºö</p><pre><code># URL## If your site is put in a subdirectory, set url as &#39;http://yoursite.com/child&#39; and root as &#39;/child/&#39;url: *Ëá™Â∑±ÁöÑÂüüÂêç*</code></pre><p>Ê£ÄÊü•ÂÆåÊàêÔºåÊ∑ªÂä†deployerÔºö</p><pre><code>deploy:- type: git  repo:     github: ...    local:  ...  branch: master- type: baidu_url_submitter</code></pre><p>‰πãÂêéËøêË°å<code>hexo clean &amp; hexo g -d</code>Êü•ÁúãËÉΩÂê¶Ê≠£Â∏∏Êé®ÈÄÅ„ÄÇ</p><h3 id="Á´ôÁÇπÂú∞Âõæ"><a href="#Á´ôÁÇπÂú∞Âõæ" class="headerlink" title="Á´ôÁÇπÂú∞Âõæ"></a>Á´ôÁÇπÂú∞Âõæ</h3><p>ÈîÆÂÖ•ÂëΩ‰ª§<code>npm install hexo-generator-baidu-sitemap --save</code>ÔºåÂÆâË£ÖÂØπÂ∫îÁöÑÂåÖ„ÄÇ<br>Âú®blogÊ†πÁõÆÂΩï‰∏≠ÁöÑ<code>_config.yml</code>‰∏≠Âä†ÂÖ•</p><pre><code>baidusitemap:  path: baidusitemap.xml</code></pre><p>ÈáçÊñ∞ÊâßË°å<code>hexo clean &amp; hexo g -d</code>Â∞±ÂèØ‰ª•Âú®<code>public</code>Êñá‰ª∂Â§π‰∏≠ÁúãÂà∞ÂØπÂ∫îÁöÑ<code>baidusitemap.xml</code>Êñá‰ª∂„ÄÇËøôËØ¥ÊòéÁ´ôÁÇπÂú∞ÂõæÂª∫Á´ãÊàêÂäü„ÄÇ<br>Â∞Ü<code>https://*Ëá™Â∑±ÁöÑÂüüÂêç*/baidusite.xml</code>Êèê‰∫§Âà∞ÁôæÂ∫¶Âç≥ÂèØ„ÄÇ</p><h2 id="google"><a href="#google" class="headerlink" title="google"></a>google</h2><p>googleÂè™‰ΩøÁî®Á´ôÁÇπÂú∞ÂõæÊèê‰∫§ÔºåÈîÆÂÖ•ÂëΩ‰ª§<code>npm install hexo-generator-sitemap --save</code>ÔºåÂÆâË£ÖÂØπÂ∫îÁöÑÂåÖ„ÄÇ<br>Âú®blogÊ†πÁõÆÂΩï‰∏≠ÁöÑ<code>_config.yml</code>‰∏≠Âä†ÂÖ•</p><pre><code>sitemap:  path: sitemap.xml</code></pre><p>ÈáçÊñ∞ÊâßË°å<code>hexo clean &amp; hexo g -d</code>ÔºåÂèØ‰ª•ÁúãÂà∞Âú®<code>public</code>Êñá‰ª∂Â§π‰∏≠ÊúâÂØπÂ∫îÁöÑ<code>sitemap.xml</code>Êñá‰ª∂„ÄÇ<br>Âú®googleÁöÑ<a href="https://www.google.com/webmasters/" target="_blank" rel="noopener">Á´ôÈïøÂπ≥Âè∞</a>ËøõË°åÈ™åËØÅÔºåÊèê‰∫§Á´ôÁÇπÂú∞ÂõæÂç≥ÂèØÔºåÂèØ‰ª•ÈÄâÁî®DNSÈ™åËØÅÊØîËæÉÊñπ‰æø„ÄÇ</p>]]></content>
    
    
    <categories>
      
      <category>ÁΩëÁªú</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ÁΩëÁ´ôÊê≠Âª∫</tag>
      
      <tag>ÂçöÂÆ¢</tag>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexoÂª∫Á´ôËøáÁ®ã(ÂàùÁ∫ß)</title>
    <link href="/2020/02/21/hexo%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B-%E5%88%9D%E7%BA%A7/"/>
    <url>/2020/02/21/hexo%E5%BB%BA%E7%AB%99%E8%BF%87%E7%A8%8B-%E5%88%9D%E7%BA%A7/</url>
    
    <content type="html"><![CDATA[<h1 id="hexo-Âª∫Á´ôËøáÁ®ã"><a href="#hexo-Âª∫Á´ôËøáÁ®ã" class="headerlink" title="hexo Âª∫Á´ôËøáÁ®ã"></a>hexo Âª∫Á´ôËøáÁ®ã</h1><h2 id="ÂàùÁ∫ßÔºöÊê≠Âª∫hexoÂπ∂ÈÉ®ÁΩ≤Êú¨Âú∞ÊúçÂä°Âô®‰ª•Âèägithub"><a href="#ÂàùÁ∫ßÔºöÊê≠Âª∫hexoÂπ∂ÈÉ®ÁΩ≤Êú¨Âú∞ÊúçÂä°Âô®‰ª•Âèägithub" class="headerlink" title="ÂàùÁ∫ßÔºöÊê≠Âª∫hexoÂπ∂ÈÉ®ÁΩ≤Êú¨Âú∞ÊúçÂä°Âô®‰ª•Âèägithub"></a>ÂàùÁ∫ßÔºöÊê≠Âª∫hexoÂπ∂ÈÉ®ÁΩ≤Êú¨Âú∞ÊúçÂä°Âô®‰ª•Âèägithub</h2><p><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">hexoÊñáÊ°£</a><br>hexoÊ°ÜÊû∂Áõ∏ÂÖ≥ÊñáÊ°£Â¶Ç‰∏äÔºåÁõ∏ÂÖ≥‰ªãÁªç‰πüÈÉΩÂú®‰∏äÈù¢ÔºåËøôÈáå‰∏çÂÜçËµòËø∞„ÄÇÊàë‰∏ªË¶ÅÈòêËø∞ÊàëËá™Â∑±ÈÉ®ÁΩ≤hexoÁöÑËøáÁ®ãÔºå‰ª•‰æõÂèÇËÄÉ„ÄÇÁî±‰∫éÊáíÂæóÊØèÊ¨°ÂÜô‰ΩúÈÉΩÈúÄË¶ÅËøõË°å‰∏ÄÊ¨°ÈÉ®ÁΩ≤ÔºåÊâÄ‰ª•ÊÉ≥Ë¶ÅÂ∞ÜhexoÊê≠Âª∫Âú®ËÖæËÆØ‰∫ëÊúçÂä°Âô®‰∏äÔºåÂπ∂‰∏îÈÉ®ÁΩ≤Âú®Êú¨Âú∞ÁöÑÊúçÂä°Âô®‰ª•Âèägithub‰∏ä„ÄÇ</p><pre><code>ËøêË°åÁéØÂ¢ÉÔºöÊú¨Âú∞: Mac OS / Window 10cvm: ubuntu</code></pre><h3 id="ÂÖ¨Èí•ÂÖçÂØÜÁôªÈôÜ"><a href="#ÂÖ¨Èí•ÂÖçÂØÜÁôªÈôÜ" class="headerlink" title="ÂÖ¨Èí•ÂÖçÂØÜÁôªÈôÜ"></a>ÂÖ¨Èí•ÂÖçÂØÜÁôªÈôÜ</h3><p>Êú¨Âú∞ÁîµËÑëÁîüÊàêÂÖ¨Èí•ÂíåÁßÅÈí•ÔºåÂ∞ÜÂÖ¨Èí•‰∏ä‰º†Âà∞cvm‰∏äÔºåÊú¨Âú∞‰ΩøÁî®ÁßÅÈí•ÔºåÂèØ‰ª•ÂÆûÁé∞ÂÖçÂØÜÁôªÈôÜssh„ÄÇÂÖ≥‰∫éssh‰ΩøÁî®ÁöÑÂü∫‰∫éÈùûÂØπÁß∞Âä†ÂØÜÁÆóÊ≥ïÁöÑ<code>rsa</code>ÁÆóÊ≥ïÔºåÂèØ‰ª•Êü•Áúã<a href="https://en.wikipedia.org/wiki/RSA_(cryptosystem" target="_blank" rel="noopener">wikiÁôæÁßë</a>)ÁöÑ‰ªãÁªç„ÄÇ</p><h4 id="Êú¨Âú∞ÁîµËÑëÈÖçÁΩÆ"><a href="#Êú¨Âú∞ÁîµËÑëÈÖçÁΩÆ" class="headerlink" title="Êú¨Âú∞ÁîµËÑëÈÖçÁΩÆ"></a>Êú¨Âú∞ÁîµËÑëÈÖçÁΩÆ</h4><p>‰ΩøÁî®ÂëΩ‰ª§Ôºö<code>ssh-keygen -t rsa</code>Ôºå‰∏ÄË∑ØÂõûËΩ¶Âç≥ÂèØÁîüÊàê‰∏ÄÂØπÂÖ¨Èí•ÂíåÁßÅÈí•„ÄÇÂÖ¨Èí•ÈªòËÆ§Âêç‰∏∫<code>id_rsa.pub</code>ÔºåÁßÅÈí•‰∏∫<code>id_rsa</code>„ÄÇÂ≠òÂÇ®‰ΩçÁΩÆÂ¶Ç‰∏ãÔºö</p><ul><li>WindowsÔºö<code>C:\Users\*Áî®Êà∑Âêç*\.ssh\</code></li><li>Ubuntu / Mac OSÔºö<code>~\.ssh</code></li></ul><h4 id="cvmÈÖçÁΩÆ"><a href="#cvmÈÖçÁΩÆ" class="headerlink" title="cvmÈÖçÁΩÆ"></a>cvmÈÖçÁΩÆ</h4><p>ÂèØ‰ª•Áõ¥Êé•ÊâìÂºÄ<code>id_rsa.pub</code>ÔºåÂ§çÂà∂ÂÜÖÂÆπÊàñËÄÖÈÄöËøáSFTP‰∏ä‰º†Âà∞cvm‰∏ä„ÄÇcvmËøõË°åÂ¶Ç‰∏ãËÆæÁΩÆÔºö</p><ul><li>Á°Æ‰øùËøûÊé•ÊàêÂäüÔºåÈúÄË¶ÅÊõ¥ÊîπÊñá‰ª∂ÊùÉÈôêÔºö</li></ul><pre><code>chmod 600 authorized_keys # Âú®~/.ssh/ÁõÆÂΩï‰∏≠ÊâßË°åchmod 700 ~/.ssh # Âú®~/ÁõÆÂΩï‰∏≠ÊâßË°å</code></pre><ul><li>ÂÜôÂÖ•ÂÖ¨Èí•Ôºö</li></ul><pre><code>cat *ÂÖ¨Èí•Ë∑ØÂæÑ*/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</code></pre><ul><li>Êõ¥ÊîπÊúçÂä°Âô®ÈÖçÁΩÆÔºåÁ°Æ‰øùËÉΩÂ§üÈÄöËøáÂØÜÈí•ÁôªÈôÜÔºö</li></ul><p>‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂Ôºö<code>sudo vim /etc/ssh/sshd_config</code>ÔºåÊ∑ªÂä†Ôºà‰øÆÊîπÔºâÂ¶Ç‰∏ãÂèÇÊï∞Ôºö</p><pre><code>RSAAuthentication yesPubkeyAuthentication yesPermitRootLogin yes</code></pre><ul><li><p>ÂèØÈÄâÊã©Á¶ÅÁî®ÂØÜÁ†ÅÁôªÂΩïÔºö<code>PasswordAuthentication no</code></p></li><li><p>ÈáçÂêØsshÊúçÂä°Ôºö<code>service sshd restart</code></p></li></ul><h4 id="È™åËØÅ"><a href="#È™åËØÅ" class="headerlink" title="È™åËØÅ"></a>È™åËØÅ</h4><p>È™åËØÅÊòØÂê¶ËÉΩÁõ¥Êé•ÈÄöËøáÁßÅÈí•ÁôªÈôÜsshÔºö<code>ssh -i *ÂØÜÈí•ÊâÄÂú®Ë∑ØÂæÑ* *Áî®Êà∑Âêç*@*ÊúçÂä°Âô®Âú∞ÂùÄ*</code></p><h3 id="Âü∫Á°ÄÂÆâË£Ö"><a href="#Âü∫Á°ÄÂÆâË£Ö" class="headerlink" title="Âü∫Á°ÄÂÆâË£Ö"></a>Âü∫Á°ÄÂÆâË£Ö</h3><p><a href="https://www.jianshu.com/p/9c1d3dcd8c99" target="_blank" rel="noopener">ÂèÇËÄÉÊñáÊ°£1</a> <a href="https://segmentfault.com/a/1190000009723457" target="_blank" rel="noopener">ÂèÇËÄÉÊñáÊ°£2</a></p><h4 id="ÂÆâË£Ögit"><a href="#ÂÆâË£Ögit" class="headerlink" title="ÂÆâË£Ögit"></a>ÂÆâË£Ögit</h4><p>Âú®ubuntu‰∏ãÔºåËæìÂÖ•ÂëΩ‰ª§<code>sudo apt-get install git-core</code>„ÄÇ</p><p>‰πãÂêéÈúÄË¶ÅËÆæÁΩÆÁî®Êà∑Âêç‰ª•ÂèäÈÇÆÁÆ±„ÄÇËøôÈáå‰ΩøÁî®ÂÖ®Â±ÄËÆæÁΩÆ„ÄÇ</p><pre><code>git config --global user.name &quot;*Áî®Êà∑Âêç*&quot;git config --global user.email &quot;*ÈÇÆÁÆ±*&quot;</code></pre><h4 id="ÂÆâË£Önode-js‰ª•Âèähexo"><a href="#ÂÆâË£Önode-js‰ª•Âèähexo" class="headerlink" title="ÂÆâË£Önode.js‰ª•Âèähexo"></a>ÂÆâË£Önode.js‰ª•Âèähexo</h4><ul><li>Âú®ubuntu‰∏ãÂÆâË£Önode.jsÔºö</li></ul><pre><code>curl -sL https://deb.nodesource.com/setup_13.x | sudo -E bash -sudo apt-get install -y nodejs</code></pre><ul><li>ÂÆâË£ÖhexoÔºö<code>npm install -g hexo-cli</code></li><li>Â¶ÇÊûúÂá∫Áé∞<strong>EACCES</strong>ÈîôËØØÔºå‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂Âç≥ÂèØ„ÄÇ<a href="https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally" target="_blank" rel="noopener">ÂèÇËÄÉËøûÊé•</a><pre><code>mkdir ~/.npm-globalnpm config set prefix &#39;~/.npm-global&#39;export PATH=~/.npm-global/bin:$PATHsource ~/.profile#„ÄÄÊµãËØïsudo npm install -g jshint</code></pre>Â¶ÇÊûú<code>npm</code>Êó†Ê≥ïÊ≠£Â∏∏‰∏ãËΩΩÂåÖÔºåÂèØ‰ª•‰ΩøÁî®Ê∑òÂÆùÁöÑÊ∫êÔºåËæìÂÖ•ÂëΩ‰ª§Ôºö</li></ul><pre><code>npm install -g *cnpm*--registry=https://registry.npm.taobao.org</code></pre><p>‰πãÂêé‰ΩøÁî®<code>cnpm</code>‰ª£Êõø<code>npm</code>Âç≥ÂèØ„ÄÇ</p><ul><li>ÂÆâË£ÖÂª∫Á´ôÈúÄË¶ÅÁöÑÂÖ∂‰ªñÂåÖÔºö</li></ul><pre><code>npm install -g hexo-servernpm install -g hexo-deployer-gitnpm install -g hexo-util</code></pre><h4 id="ÂàõÂª∫Êú¨Âú∞ÂçöÂÆ¢Êñá‰ª∂Â§π"><a href="#ÂàõÂª∫Êú¨Âú∞ÂçöÂÆ¢Êñá‰ª∂Â§π" class="headerlink" title="ÂàõÂª∫Êú¨Âú∞ÂçöÂÆ¢Êñá‰ª∂Â§π"></a>ÂàõÂª∫Êú¨Âú∞ÂçöÂÆ¢Êñá‰ª∂Â§π</h4><p>Âõ†‰∏∫ÊàëÂú®cvm‰ΩøÁî®‰∫ÜÁ¨¨‰∫åÂùóÊï∞ÊçÆÁõòÔºåÈúÄË¶Å<code>sudo</code>ÊùÉÈôêÊâçËÉΩÂ§üËøõË°åÊõ¥Êîπ„ÄÇÊïÖÊñ∞Âª∫<code>blog</code>Êñá‰ª∂Â§π‰πãÂêé‰øÆÊîπÊñá‰ª∂Â§πÊùÉÈôê„ÄÇ</p><pre><code>sudo chown -R $USER:$USER blogsudo chmod -R 755 blog</code></pre><p>ËøõÂÖ•Êñá‰ª∂Â§πÔºåÂàùÂßãÂåñhexoÔºö<code>hexo init .</code> Â¶ÇÊûúÊ≤°ÊúâÂ∞ÜhexoÊâÄÂú®Ë∑ØÂæÑÊ∑ªÂä†Âà∞ÁéØÂ¢ÉÂèòÈáè‰∏≠ÔºåÈúÄË¶Å‰ΩøÁî®<code>npx hexo init .</code></p><p>‰πãÂêéËæìÂÖ•<code>hexo s</code>ÂèØ‰ª•ÂêØÂä®È°πÁõÆÔºåÂú®Êú¨Âú∞<code>localhost:4000</code>ÂèØ‰ª•Êü•Áúã„ÄÇ</p><h4 id="Â∞ÜhexoÈÉ®ÁΩ≤Âà∞github‰∏ä"><a href="#Â∞ÜhexoÈÉ®ÁΩ≤Âà∞github‰∏ä" class="headerlink" title="Â∞ÜhexoÈÉ®ÁΩ≤Âà∞github‰∏ä"></a>Â∞ÜhexoÈÉ®ÁΩ≤Âà∞github‰∏ä</h4><p>Âú®github‰∏äÊ∑ªÂä†‰∏Ä‰∏™<code>repository</code>ÔºåÂêçÂ≠ó<strong>ÂøÖÈ°ª</strong>ÊòØ<code>*githubÁî®Êà∑Âêç*.github.io</code>ÔºåÂê¶Âàô‰ºöÂá∫Áé∞ÈîôËØØ„ÄÇÂ§çÂà∂ËøúÁ®ãgitÂú∞ÂùÄ„ÄÇ</p><p>Âú®ÂçöÂÆ¢ÊâÄÂú®Êñá‰ª∂Â§π‰∏≠ÔºåÁºñËæë<code>_config.yml</code>ÔºåÂú®ÊñáÊú¨ÊúÄÂêéÁöÑÈÉ®ÁΩ≤ÈÉ®ÂàÜÊõ¥Êîπ‰∏∫Ôºö</p><pre><code>deploy:    type: git    repo:        github: *ËøúÁ®ãgitÂú∞ÂùÄ*    branch: master</code></pre><p>‰øùÂ≠òÂêéÊâßË°å<code>hexo g -d</code>ÂèØ‰ª•ÁîüÊàêÂπ∂ÈÉ®ÁΩ≤ÔºåÊàñËÄÖ<code>hexo generate</code>‰πãÂêé<code>hexo deploy</code>‰∫¶ÂèØ„ÄÇ</p><p>Âú®ÈÉ®ÁΩ≤ËøáÁ®ã‰∏≠ÔºåÈúÄË¶ÅËæìÂÖ•Áî®Êà∑Âêç‰ª•ÂèäÂØÜÁ†Å„ÄÇÂ¶ÇÊûú‰ª•ÂêéÊáíÂæóËæìÂÖ•ÔºåÂèØ‰ª•‰ΩøÁî®Â¶Ç‰∏ãÂëΩ‰ª§Ôºå‰∏ãÊ¨°ËæìÂÖ•Âêé‰∏çÁî®ÂÜçËæìÂÖ•Ôºö</p><pre><code>git config --global credential.helper store</code></pre><h4 id="Â∞ÜhexoÈÉ®ÁΩ≤Âà∞Êú¨Âú∞"><a href="#Â∞ÜhexoÈÉ®ÁΩ≤Âà∞Êú¨Âú∞" class="headerlink" title="Â∞ÜhexoÈÉ®ÁΩ≤Âà∞Êú¨Âú∞"></a>Â∞ÜhexoÈÉ®ÁΩ≤Âà∞Êú¨Âú∞</h4><p>ËøôÈáå‰ΩøÁî®gitÂ∞ÜhexoÈÉ®ÁΩ≤Âà∞Êú¨Âú∞„ÄÇÈ¶ñÂÖàÈúÄË¶ÅÂàõÂª∫Êñá‰ª∂Â§πÔºåÂ¶ÇÊûúÂá∫Áé∞ÊùÉÈôêÈóÆÈ¢òÔºåÂèØ‰ª•ÂèÇÁÖßÂâçÈù¢ÁöÑÊñπÊ≥ïËÆæÁΩÆÊñá‰ª∂Â§πÁöÑÊùÉÈôê„ÄÇ‰πãÂêéËøõÂÖ•Êñá‰ª∂Â§πÔºåÂàõÂª∫Ë£∏‰ªìÔºö</p><pre><code>git init --bare hexo.gitchown -R $User:$User hexo.git</code></pre><p>ËøõÂÖ•<code>hexo.git</code>Êñá‰ª∂Â§πÔºåÊâæÂà∞<code>hooks</code>ÁõÆÂΩïÂπ∂ËøõÂÖ•ÔºåÈÄöËøáÂ¶Ç‰∏ãÂëΩ‰ª§Â∞Ü<code>post-update.sample</code>Êñá‰ª∂ÊîπÂêç‰∏∫<code>post-update.sample</code>Ôºö</p><pre><code>mv post-update.sample post-update</code></pre><p>‰πãÂêéÁºñËæëËØ•Êñá‰ª∂ÔºåÂú®È°∂ÈÉ®Âä†ÂÖ•Ôºö</p><pre><code>git --work-tree=*Êñá‰ª∂Â§πË∑ØÂæÑ* --git-dir=*Êñá‰ª∂Â§πË∑ØÂæÑ*/hexo.git checkout -f</code></pre><p>‰øÆÊîπËØ•Êñá‰ª∂ÊùÉÈôêÔºö</p><pre><code>chmod +x post-update</code></pre><p>Âú®ÂçöÂÆ¢Êñá‰ª∂Â§π‰∏≠Ôºå‰øÆÊîπ<code>_config.yml</code>ÔºåÂ∞Ü<code>deploy</code>ÈÉ®ÂàÜÊîπ‰∏∫Ôºö</p><pre><code>deploy:    type: git    repo:        github: *ËøúÁ®ãgitÂú∞ÂùÄ*        repo: *Êñá‰ª∂Â§πË∑ØÂæÑ*/hexo.git    branch: master</code></pre><h5 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h5><p>nginxÁöÑ<a href="https://blog.csdn.net/weixin_42167759/article/details/85049546" target="_blank" rel="noopener">ÈÖçÁΩÆÊñá‰ª∂Ëß£Êûê</a></p><p>Áî±‰∫é‰ΩøÁî®‰∫ÜhttpsÔºåÊâÄ‰ª•nginxÈúÄË¶ÅÁõëÂê¨80Á´ØÂè£ÔºåÂ∞ÜhttpÈìæÊé•Ë∑≥ËΩ¨‰∏∫httpsÈìæÊé•„ÄÇÈÄöËøánginxÈÖçÁΩÆhttpsÈìæÊé•ÂèØ‰ª•ÂèÇËÄÉ<a href="https://juejin.im/post/5c0144036fb9a04a102f046a" target="_blank" rel="noopener">nginxÈÖçÁΩÆsslÂÆûÁé∞httpsËÆøÈóÆ</a>ÔºåÈùûÂ∏∏ÁÆÄÂçïÊâÄ‰ª•‰∏çÂÜçËµòËø∞„ÄÇ‰∏éÂü∫Á°ÄÈÖçÁΩÆ‰∏çÂêåÁöÑÊòØÈúÄË¶ÅÊ∑ªÂä†<code>root</code>ÊåáÂêëÂâçÈù¢ÊèêÂà∞ÁöÑhexoÈÉ®ÁΩ≤Âà∞Êú¨Âú∞ÁöÑÊñá‰ª∂Â§πÔºà‰∏ãÈù¢ÊúâÊèêÁ§∫Ôºâ ÔºåÂπ∂‰∏îÊ∑ªÂä†<code>include mime.types;</code>Á°Æ‰øù<code>css</code>Êñá‰ª∂ËÉΩÂ§üË¢´ÊµèËßàÂô®Ê≠£Â∏∏ËØÜÂà´„ÄÇ</p><ul><li>ÂÆâË£ÖÔºö<code>apt-get install nginx</code></li><li><p>Êü•Áúã‰ΩçÁΩÆ/Ê£ÄÊü•ÈÖçÁΩÆÔºö<code>nginx -t</code></p></li><li><p>Êõ¥ÊîπÈÖçÁΩÆ</p></li></ul><pre><code>user www-data;worker_processes auto;pid /run/nginx.pid;include /etc/nginx/modules-enabled/*.conf;events { worker_connections 768; # multi_accept on;}http { ## # Basic Settings ##include mime.types; sendfile on; tcp_nopush on; tcp_nodelay on; keepalive_timeout 65; # gzip_proxied any; # gzip_comp_level 6; # gzip_buffers 16 8k; # gzip_http_version 1.1; # gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript; ## # Virtual Host Configs ## include /etc/nginx/conf.d/*.conf; include /etc/nginx/sites-enabled/*; server {      listen 443 ssl;      server_name *ÂüüÂêç*;      ssl on;      ssl_certificate /*ËØÅ‰π¶ÊâÄÂú®Êñá‰ª∂Â§π*/*ËØÅ‰π¶*;      ssl_certificate_key /*ÂØÜÈí•ÊâÄÂú®Êñá‰ª∂Â§π*/*ÂØÜÈí•*;    root *hexoÈÉ®ÁΩ≤Âà∞Êú¨Âú∞ÁöÑÊñá‰ª∂Â§π*;  location / {    index  index.html;  } } server {  listen 80;  server_name *ÂüüÂêç*;  return 301 https://blog.chensh236.com$request_uri; }}</code></pre><ul><li>ÊâßË°å<code>nginx -t</code>‰∏é<code>nginx -s reload</code>ÔºàÂèØËÉΩÈúÄË¶ÅsudoÔºâ</li></ul><p>Â¶ÇËã•Âá∫Áé∞Ôºö</p><pre><code>nginx: [warn] the &quot;user&quot; directive makes sense only if the master process runs with super-user privileges, ignored in /usr/local/nginx/conf/nginx.conf:2</code></pre><p>ÈúÄË¶ÅËß£ÂÜ≥ÊùÉÈôêÂç†Áî®ÈóÆÈ¢òÔºö</p><pre><code>chown root.root nginxchmod 755 nginxchmod u+s nginx</code></pre><h5 id="ÈáçË£Önginx"><a href="#ÈáçË£Önginx" class="headerlink" title="ÈáçË£Önginx"></a>ÈáçË£Önginx</h5><p>Â¶ÇÊûúnginxÂá∫Áé∞ÈóÆÈ¢òÈúÄË¶ÅÈáçË£ÖÔºåÂÖ∂ÈÖçÁΩÆÊñá‰ª∂‰æùÊóßÂ≠òÂú®ÔºåÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÊñπÊ≥ïÂÆåÂÖ®Ê∏ÖÈô§nginxÁõ∏ÂÖ≥ÁöÑ‰æùËµñ„ÄÅÈÖçÁΩÆÊñá‰ª∂„ÄÇ</p><ul><li>Âç∏ËΩΩnginx‰∏ç‰øùÁïôÈÖçÁΩÆÊñá‰ª∂Ôºö<code>sudo apt-get --purge remove nginx</code></li><li>Âç∏ËΩΩ‰∏çÈúÄË¶ÅÁöÑ‰æùËµñÂåÖÔºö<code>sudo apt-get autoremove</code></li><li>Á≠õÈÄâÂ∑≤ÁªèÂÆâË£ÖÂåÖ‰∏≠‰∏énginxÊúâÂÖ≥ÁöÑÔºö<code>dpkg --get-selections | grep nginx</code></li><li>Âç∏ËΩΩÊâÄÊúâÊúâÂÖ≥ÁöÑÔºö<code>sudo apt-get --purge remove *ÂíånginxÁõ∏ÂÖ≥ÁöÑÂÆâË£ÖÂåÖ*</code></li></ul>]]></content>
    
    
    <categories>
      
      <category>ÁΩëÁªú</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ÁΩëÁ´ôÊê≠Âª∫</tag>
      
      <tag>ÂçöÂÆ¢</tag>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
